<!DOCTYPE html>
<html lang="en">

<head>
	<title>LightSaber UI</title>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<meta name="description" content="Control your LED light saber with our single file app. Made at Pirate Bay Phuket.">
	<meta name="robots" content="index,follow">
	<meta property="og:title" content="LED Light Saber Control App - Pirate Bay Phuket">
	<meta property="og:description"
		content="Control your LED light saber with our single file app. Made at Pirate Bay Phuket.">
	<meta property="og:image" content="cover.jpeg">
	<meta property="og:url" content="https://davay42.github.io/lightsaber-ui/">
	<meta name="twitter:card" content="summary_large_image">
	<link rel="manifest" href="site.webmanifest">
	<link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
	<link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">

  <script type="module">
function Yo(e,t){const n=Object.create(null),s=e.split(",");for(let o=0;o<s.length;o++)n[s[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const he={},dn=[],vt=()=>{},oc=()=>!1,Vs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),qo=e=>e.startsWith("onUpdate:"),_e=Object.assign,Xo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ic=Object.prototype.hasOwnProperty,se=(e,t)=>ic.call(e,t),Y=Array.isArray,fn=e=>Us(e)==="[object Map]",ol=e=>Us(e)==="[object Set]",Z=e=>typeof e=="function",ye=e=>typeof e=="string",xn=e=>typeof e=="symbol",de=e=>e!==null&&typeof e=="object",il=e=>(de(e)||Z(e))&&Z(e.then)&&Z(e.catch),rl=Object.prototype.toString,Us=e=>rl.call(e),rc=e=>Us(e).slice(8,-1),ll=e=>Us(e)==="[object Object]",Jo=e=>ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ws=Yo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ws=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},lc=/-(\w)/g,_t=Ws(e=>e.replace(lc,(t,n)=>n?n.toUpperCase():"")),ac=/\B([A-Z])/g,sn=Ws(e=>e.replace(ac,"-$1").toLowerCase()),js=Ws(e=>e.charAt(0).toUpperCase()+e.slice(1)),fo=Ws(e=>e?`on${js(e)}`:""),en=(e,t)=>!Object.is(e,t),Cs=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ms=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},So=e=>{const t=parseFloat(e);return isNaN(t)?e:t},cc=e=>{const t=ye(e)?Number(e):NaN;return isNaN(t)?e:t};let Li;const Eo=()=>Li||(Li=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function oe(e){if(Y(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=ye(s)?hc(s):oe(s);if(o)for(const i in o)t[i]=o[i]}return t}else if(ye(e)||de(e))return e}const uc=/;(?![^(]*\))/g,dc=/:([^]+)/,fc=/\/\*[^]*?\*\//g;function hc(e){const t={};return e.replace(fc,"").split(uc).forEach(n=>{if(n){const s=n.split(dc);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Me(e){let t="";if(ye(e))t=e;else if(Y(e))for(let n=0;n<e.length;n++){const s=Me(e[n]);s&&(t+=s+" ")}else if(de(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const pc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mc=Yo(pc);function al(e){return!!e||e===""}const ae=e=>ye(e)?e:e==null?"":Y(e)||de(e)&&(e.toString===rl||!Z(e.toString))?JSON.stringify(e,cl,2):String(e),cl=(e,t)=>t&&t.__v_isRef?cl(e,t.value):fn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],i)=>(n[ho(s,i)+" =>"]=o,n),{})}:ol(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>ho(n))}:xn(t)?ho(t):de(t)&&!Y(t)&&!ll(t)?String(t):t,ho=(e,t="")=>{var n;return xn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let We;class gc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=We,!t&&We&&(this.index=(We.scopes||(We.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=We;try{return We=this,t()}finally{We=n}}}on(){We=this}off(){We=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function vc(e,t=We){t&&t.active&&t.effects.push(e)}function Zo(){return We}function ul(e){We&&We.cleanups.push(e)}const Qo=e=>{const t=new Set(e);return t.w=0,t.n=0,t},dl=e=>(e.w&Ht)>0,fl=e=>(e.n&Ht)>0,_c=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ht},yc=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const o=t[s];dl(o)&&!fl(o)?o.delete(e):t[n++]=o,o.w&=~Ht,o.n&=~Ht}t.length=n}},Ns=new WeakMap;let Pn=0,Ht=1;const Io=30;let lt;const Xt=Symbol(""),Mo=Symbol("");class ei{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,vc(this,s)}run(){if(!this.active)return this.fn();let t=lt,n=Lt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=lt,lt=this,Lt=!0,Ht=1<<++Pn,Pn<=Io?_c(this):Gi(this),this.fn()}finally{Pn<=Io&&yc(this),Ht=1<<--Pn,lt=this.parent,Lt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){lt===this?this.deferStop=!0:this.active&&(Gi(this),this.onStop&&this.onStop(),this.active=!1)}}function Gi(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Lt=!0;const hl=[];function Tn(){hl.push(Lt),Lt=!1}function Sn(){const e=hl.pop();Lt=e===void 0?!0:e}function Fe(e,t,n){if(Lt&&lt){let s=Ns.get(e);s||Ns.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=Qo()),pl(o)}}function pl(e,t){let n=!1;Pn<=Io?fl(e)||(e.n|=Ht,n=!dl(e)):n=!e.has(lt),n&&(e.add(lt),lt.deps.push(e))}function St(e,t,n,s,o,i){const r=Ns.get(e);if(!r)return;let l=[];if(t==="clear")l=[...r.values()];else if(n==="length"&&Y(e)){const a=Number(s);r.forEach((c,u)=>{(u==="length"||!xn(u)&&u>=a)&&l.push(c)})}else switch(n!==void 0&&l.push(r.get(n)),t){case"add":Y(e)?Jo(n)&&l.push(r.get("length")):(l.push(r.get(Xt)),fn(e)&&l.push(r.get(Mo)));break;case"delete":Y(e)||(l.push(r.get(Xt)),fn(e)&&l.push(r.get(Mo)));break;case"set":fn(e)&&l.push(r.get(Xt));break}if(l.length===1)l[0]&&No(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);No(Qo(a))}}function No(e,t){const n=Y(e)?e:[...e];for(const s of n)s.computed&&Hi(s);for(const s of n)s.computed||Hi(s)}function Hi(e,t){(e!==lt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function bc(e,t){var n;return(n=Ns.get(e))==null?void 0:n.get(t)}const wc=Yo("__proto__,__v_isRef,__isVue"),ml=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(xn)),Fi=Cc();function Cc(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=te(this);for(let i=0,r=this.length;i<r;i++)Fe(s,"get",i+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(te)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Tn();const s=te(this)[t].apply(this,n);return Sn(),s}}),e}function xc(e){const t=te(this);return Fe(t,"has",e),t.hasOwnProperty(e)}class gl{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,s){const o=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(o?i?Cl:wl:i?bl:yl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const r=Y(t);if(!o){if(r&&se(Fi,n))return Reflect.get(Fi,n,s);if(n==="hasOwnProperty")return xc}const l=Reflect.get(t,n,s);return(xn(n)?ml.has(n):wc(n))||(o||Fe(t,"get",n),i)?l:Te(l)?r&&Jo(n)?l:l.value:de(l)?o?ni(l):Pe(l):l}}class vl extends gl{constructor(t=!1){super(!1,t)}set(t,n,s,o){let i=t[n];if(!this._shallow){const a=tn(i);if(!Os(s)&&!tn(s)&&(i=te(i),s=te(s)),!Y(t)&&Te(i)&&!Te(s))return a?!1:(i.value=s,!0)}const r=Y(t)&&Jo(n)?Number(n)<t.length:se(t,n),l=Reflect.set(t,n,s,o);return t===te(o)&&(r?en(s,i)&&St(t,"set",n,s):St(t,"add",n,s)),l}deleteProperty(t,n){const s=se(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&St(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!xn(n)||!ml.has(n))&&Fe(t,"has",n),s}ownKeys(t){return Fe(t,"iterate",Y(t)?"length":Xt),Reflect.ownKeys(t)}}class _l extends gl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Tc=new vl,Sc=new _l,Ec=new vl(!0),Ic=new _l(!0),ti=e=>e,Ks=e=>Reflect.getPrototypeOf(e);function as(e,t,n=!1,s=!1){e=e.__v_raw;const o=te(e),i=te(t);n||(en(t,i)&&Fe(o,"get",t),Fe(o,"get",i));const{has:r}=Ks(o),l=s?ti:n?si:Vn;if(r.call(o,t))return l(e.get(t));if(r.call(o,i))return l(e.get(i));e!==o&&e.get(t)}function cs(e,t=!1){const n=this.__v_raw,s=te(n),o=te(e);return t||(en(e,o)&&Fe(s,"has",e),Fe(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function us(e,t=!1){return e=e.__v_raw,!t&&Fe(te(e),"iterate",Xt),Reflect.get(e,"size",e)}function Bi(e){e=te(e);const t=te(this);return Ks(t).has.call(t,e)||(t.add(e),St(t,"add",e,e)),this}function Vi(e,t){t=te(t);const n=te(this),{has:s,get:o}=Ks(n);let i=s.call(n,e);i||(e=te(e),i=s.call(n,e));const r=o.call(n,e);return n.set(e,t),i?en(t,r)&&St(n,"set",e,t):St(n,"add",e,t),this}function Ui(e){const t=te(this),{has:n,get:s}=Ks(t);let o=n.call(t,e);o||(e=te(e),o=n.call(t,e)),s&&s.call(t,e);const i=t.delete(e);return o&&St(t,"delete",e,void 0),i}function Wi(){const e=te(this),t=e.size!==0,n=e.clear();return t&&St(e,"clear",void 0,void 0),n}function ds(e,t){return function(s,o){const i=this,r=i.__v_raw,l=te(r),a=t?ti:e?si:Vn;return!e&&Fe(l,"iterate",Xt),r.forEach((c,u)=>s.call(o,a(c),a(u),i))}}function fs(e,t,n){return function(...s){const o=this.__v_raw,i=te(o),r=fn(i),l=e==="entries"||e===Symbol.iterator&&r,a=e==="keys"&&r,c=o[e](...s),u=n?ti:t?si:Vn;return!t&&Fe(i,"iterate",a?Mo:Xt),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:l?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Ot(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Mc(){const e={get(i){return as(this,i)},get size(){return us(this)},has:cs,add:Bi,set:Vi,delete:Ui,clear:Wi,forEach:ds(!1,!1)},t={get(i){return as(this,i,!1,!0)},get size(){return us(this)},has:cs,add:Bi,set:Vi,delete:Ui,clear:Wi,forEach:ds(!1,!0)},n={get(i){return as(this,i,!0)},get size(){return us(this,!0)},has(i){return cs.call(this,i,!0)},add:Ot("add"),set:Ot("set"),delete:Ot("delete"),clear:Ot("clear"),forEach:ds(!0,!1)},s={get(i){return as(this,i,!0,!0)},get size(){return us(this,!0)},has(i){return cs.call(this,i,!0)},add:Ot("add"),set:Ot("set"),delete:Ot("delete"),clear:Ot("clear"),forEach:ds(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=fs(i,!1,!1),n[i]=fs(i,!0,!1),t[i]=fs(i,!1,!0),s[i]=fs(i,!0,!0)}),[e,n,t,s]}const[Nc,Oc,Ac,$c]=Mc();function zs(e,t){const n=t?e?$c:Ac:e?Oc:Nc;return(s,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(se(n,o)&&o in s?n:s,o,i)}const kc={get:zs(!1,!1)},Pc={get:zs(!1,!0)},Dc={get:zs(!0,!1)},Rc={get:zs(!0,!0)},yl=new WeakMap,bl=new WeakMap,wl=new WeakMap,Cl=new WeakMap;function Lc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gc(e){return e.__v_skip||!Object.isExtensible(e)?0:Lc(rc(e))}function Pe(e){return tn(e)?e:Ys(e,!1,Tc,kc,yl)}function Hc(e){return Ys(e,!1,Ec,Pc,bl)}function ni(e){return Ys(e,!0,Sc,Dc,wl)}function Fc(e){return Ys(e,!0,Ic,Rc,Cl)}function Ys(e,t,n,s,o){if(!de(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const r=Gc(e);if(r===0)return e;const l=new Proxy(e,r===2?s:n);return o.set(e,l),l}function hn(e){return tn(e)?hn(e.__v_raw):!!(e&&e.__v_isReactive)}function tn(e){return!!(e&&e.__v_isReadonly)}function Os(e){return!!(e&&e.__v_isShallow)}function xl(e){return hn(e)||tn(e)}function te(e){const t=e&&e.__v_raw;return t?te(t):e}function Qn(e){return Ms(e,"__v_skip",!0),e}const Vn=e=>de(e)?Pe(e):e,si=e=>de(e)?ni(e):e;function oi(e){Lt&&lt&&(e=te(e),pl(e.dep||(e.dep=Qo())))}function ii(e,t){e=te(e);const n=e.dep;n&&No(n)}function Te(e){return!!(e&&e.__v_isRef===!0)}function L(e){return Tl(e,!1)}function Bc(e){return Tl(e,!0)}function Tl(e,t){return Te(e)?e:new Vc(e,t)}class Vc{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:te(t),this._value=n?t:Vn(t)}get value(){return oi(this),this._value}set value(t){const n=this.__v_isShallow||Os(t)||tn(t);t=n?t:te(t),en(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Vn(t),ii(this))}}function T(e){return Te(e)?e.value:e}const Uc={get:(e,t,n)=>T(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return Te(o)&&!Te(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function Sl(e){return hn(e)?e:new Proxy(e,Uc)}class Wc{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=t(()=>oi(this),()=>ii(this));this._get=n,this._set=s}get value(){return this._get()}set value(t){this._set(t)}}function jc(e){return new Wc(e)}function Kc(e){const t=Y(e)?new Array(e.length):{};for(const n in e)t[n]=El(e,n);return t}class zc{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return bc(te(this._object),this._key)}}class Yc{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Un(e,t,n){return Te(e)?e:Z(e)?new Yc(e):de(e)&&arguments.length>1?El(e,t,n):L(e)}function El(e,t,n){const s=e[t];return Te(s)?s:new zc(e,t,n)}class qc{constructor(t,n,s,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ei(t,()=>{this._dirty||(this._dirty=!0,ii(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=te(this);return oi(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Xc(e,t,n=!1){let s,o;const i=Z(e);return i?(s=e,o=vt):(s=e.get,o=e.set),new qc(s,o,i||!o,n)}function Gt(e,t,n,s){let o;try{o=s?e(...s):e()}catch(i){qs(i,t,n)}return o}function tt(e,t,n,s){if(Z(e)){const i=Gt(e,t,n,s);return i&&il(i)&&i.catch(r=>{qs(r,t,n)}),i}const o=[];for(let i=0;i<e.length;i++)o.push(tt(e[i],t,n,s));return o}function qs(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let i=t.parent;const r=t.proxy,l=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,r,l)===!1)return}i=i.parent}const a=t.appContext.config.errorHandler;if(a){Gt(a,null,10,[e,r,l]);return}}Jc(e,n,o,s)}function Jc(e,t,n,s=!0){console.error(e)}let Wn=!1,Oo=!1;const $e=[];let gt=0;const pn=[];let Tt=null,Kt=0;const Il=Promise.resolve();let ri=null;function Mt(e){const t=ri||Il;return e?t.then(this?e.bind(this):e):t}function Zc(e){let t=gt+1,n=$e.length;for(;t<n;){const s=t+n>>>1,o=$e[s],i=jn(o);i<e||i===e&&o.pre?t=s+1:n=s}return t}function li(e){(!$e.length||!$e.includes(e,Wn&&e.allowRecurse?gt+1:gt))&&(e.id==null?$e.push(e):$e.splice(Zc(e.id),0,e),Ml())}function Ml(){!Wn&&!Oo&&(Oo=!0,ri=Il.then(Ol))}function Qc(e){const t=$e.indexOf(e);t>gt&&$e.splice(t,1)}function eu(e){Y(e)?pn.push(...e):(!Tt||!Tt.includes(e,e.allowRecurse?Kt+1:Kt))&&pn.push(e),Ml()}function ji(e,t,n=Wn?gt+1:0){for(;n<$e.length;n++){const s=$e[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;$e.splice(n,1),n--,s()}}}function Nl(e){if(pn.length){const t=[...new Set(pn)];if(pn.length=0,Tt){Tt.push(...t);return}for(Tt=t,Tt.sort((n,s)=>jn(n)-jn(s)),Kt=0;Kt<Tt.length;Kt++)Tt[Kt]();Tt=null,Kt=0}}const jn=e=>e.id==null?1/0:e.id,tu=(e,t)=>{const n=jn(e)-jn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Ol(e){Oo=!1,Wn=!0,$e.sort(tu);try{for(gt=0;gt<$e.length;gt++){const t=$e[gt];t&&t.active!==!1&&Gt(t,null,14)}}finally{gt=0,$e.length=0,Nl(),Wn=!1,ri=null,($e.length||pn.length)&&Ol()}}function nu(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||he;let o=n;const i=t.startsWith("update:"),r=i&&t.slice(7);if(r&&r in s){const u=`${r==="modelValue"?"model":r}Modifiers`,{number:h,trim:d}=s[u]||he;d&&(o=n.map(p=>ye(p)?p.trim():p)),h&&(o=n.map(So))}let l,a=s[l=fo(t)]||s[l=fo(_t(t))];!a&&i&&(a=s[l=fo(sn(t))]),a&&tt(a,e,6,o);const c=s[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,tt(c,e,6,o)}}function Al(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const i=e.emits;let r={},l=!1;if(!Z(e)){const a=c=>{const u=Al(c,t,!0);u&&(l=!0,_e(r,u))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!i&&!l?(de(e)&&s.set(e,null),null):(Y(i)?i.forEach(a=>r[a]=null):_e(r,i),de(e)&&s.set(e,r),r)}function Xs(e,t){return!e||!Vs(t)?!1:(t=t.slice(2).replace(/Once$/,""),se(e,t[0].toLowerCase()+t.slice(1))||se(e,sn(t))||se(e,t))}let Ie=null,Js=null;function As(e){const t=Ie;return Ie=e,Js=e&&e.type.__scopeId||null,t}function su(e){Js=e}function ou(){Js=null}function ct(e,t=Ie,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&nr(-1);const i=As(t);let r;try{r=e(...o)}finally{As(i),s._d&&nr(1)}return r};return s._n=!0,s._c=!0,s._d=!0,s}function po(e){const{type:t,vnode:n,proxy:s,withProxy:o,props:i,propsOptions:[r],slots:l,attrs:a,emit:c,render:u,renderCache:h,data:d,setupState:p,ctx:g,inheritAttrs:v}=e;let w,$;const E=As(e);try{if(n.shapeFlag&4){const P=o||s,j=P;w=mt(u.call(j,P,h,i,p,d,g)),$=a}else{const P=t;w=mt(P.length>1?P(i,{attrs:a,slots:l,emit:c}):P(i,null)),$=t.props?a:iu(a)}}catch(P){Fn.length=0,qs(P,e,1),w=q(nt)}let V=w;if($&&v!==!1){const P=Object.keys($),{shapeFlag:j}=V;P.length&&j&7&&(r&&P.some(qo)&&($=ru($,r)),V=Ft(V,$))}return n.dirs&&(V=Ft(V),V.dirs=V.dirs?V.dirs.concat(n.dirs):n.dirs),n.transition&&(V.transition=n.transition),w=V,As(E),w}const iu=e=>{let t;for(const n in e)(n==="class"||n==="style"||Vs(n))&&((t||(t={}))[n]=e[n]);return t},ru=(e,t)=>{const n={};for(const s in e)(!qo(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function lu(e,t,n){const{props:s,children:o,component:i}=e,{props:r,children:l,patchFlag:a}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?Ki(s,r,c):!!r;if(a&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(r[d]!==s[d]&&!Xs(c,d))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:s===r?!1:s?r?Ki(s,r,c):!0:!!r;return!1}function Ki(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const i=s[o];if(t[i]!==e[i]&&!Xs(n,i))return!0}return!1}function au({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const ai="components";function nn(e,t){return kl(ai,e,!0,t)||e}const $l=Symbol.for("v-ndc");function ci(e){return ye(e)?kl(ai,e,!1)||e:e||$l}function kl(e,t,n=!0,s=!1){const o=Ie||xe;if(o){const i=o.type;if(e===ai){const l=Qu(i,!1);if(l&&(l===t||l===_t(t)||l===js(_t(t))))return i}const r=zi(o[e]||i[e],t)||zi(o.appContext[e],t);return!r&&s?i:r}}function zi(e,t){return e&&(e[t]||e[_t(t)]||e[js(_t(t))])}const cu=e=>e.__isSuspense;function uu(e,t){t&&t.pendingBranch?Y(e)?t.effects.push(...e):t.effects.push(e):eu(e)}const hs={};function ve(e,t,n){return Pl(e,t,n)}function Pl(e,t,{immediate:n,deep:s,flush:o,onTrack:i,onTrigger:r}=he){var l;const a=Zo()===((l=xe)==null?void 0:l.scope)?xe:null;let c,u=!1,h=!1;if(Te(e)?(c=()=>e.value,u=Os(e)):hn(e)?(c=()=>e,s=!0):Y(e)?(h=!0,u=e.some(P=>hn(P)||Os(P)),c=()=>e.map(P=>{if(Te(P))return P.value;if(hn(P))return qt(P);if(Z(P))return Gt(P,a,2)})):Z(e)?t?c=()=>Gt(e,a,2):c=()=>{if(!(a&&a.isUnmounted))return d&&d(),tt(e,a,3,[p])}:c=vt,t&&s){const P=c;c=()=>qt(P())}let d,p=P=>{d=E.onStop=()=>{Gt(P,a,4),d=E.onStop=void 0}},g;if(qn)if(p=vt,t?n&&tt(t,a,3,[c(),h?[]:void 0,p]):c(),o==="sync"){const P=sd();g=P.__watcherHandles||(P.__watcherHandles=[])}else return vt;let v=h?new Array(e.length).fill(hs):hs;const w=()=>{if(E.active)if(t){const P=E.run();(s||u||(h?P.some((j,F)=>en(j,v[F])):en(P,v)))&&(d&&d(),tt(t,a,3,[P,v===hs?void 0:h&&v[0]===hs?[]:v,p]),v=P)}else E.run()};w.allowRecurse=!!t;let $;o==="sync"?$=w:o==="post"?$=()=>He(w,a&&a.suspense):(w.pre=!0,a&&(w.id=a.uid),$=()=>li(w));const E=new ei(c,$);t?n?w():v=E.run():o==="post"?He(E.run.bind(E),a&&a.suspense):E.run();const V=()=>{E.stop(),a&&a.scope&&Xo(a.scope.effects,E)};return g&&g.push(V),V}function du(e,t,n){const s=this.proxy,o=ye(e)?e.includes(".")?Dl(s,e):()=>s[e]:e.bind(s,s);let i;Z(t)?i=t:(i=t.handler,n=t);const r=xe;vn(this);const l=Pl(o,i.bind(s),n);return r?vn(r):Jt(),l}function Dl(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function qt(e,t){if(!de(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Te(e))qt(e.value,t);else if(Y(e))for(let n=0;n<e.length;n++)qt(e[n],t);else if(ol(e)||fn(e))e.forEach(n=>{qt(n,t)});else if(ll(e))for(const n in e)qt(e[n],t);return e}function es(e,t){const n=Ie;if(n===null)return e;const s=so(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,l,a,c=he]=t[i];r&&(Z(r)&&(r={mounted:r,updated:r}),r.deep&&qt(l),o.push({dir:r,instance:s,value:l,oldValue:void 0,arg:a,modifiers:c}))}return e}function Ut(e,t,n,s){const o=e.dirs,i=t&&t.dirs;for(let r=0;r<o.length;r++){const l=o[r];i&&(l.oldValue=i[r].value);let a=l.dir[s];a&&(Tn(),tt(a,n,8,[e.el,l,e,t]),Sn())}}const Pt=Symbol("_leaveCb"),ps=Symbol("_enterCb");function Rl(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Bt(()=>{e.isMounted=!0}),ts(()=>{e.isUnmounting=!0}),e}const qe=[Function,Array],Ll={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qe,onEnter:qe,onAfterEnter:qe,onEnterCancelled:qe,onBeforeLeave:qe,onLeave:qe,onAfterLeave:qe,onLeaveCancelled:qe,onBeforeAppear:qe,onAppear:qe,onAfterAppear:qe,onAppearCancelled:qe},fu={name:"BaseTransition",props:Ll,setup(e,{slots:t}){const n=ns(),s=Rl();let o;return()=>{const i=t.default&&ui(t.default(),!0);if(!i||!i.length)return;let r=i[0];if(i.length>1){for(const v of i)if(v.type!==nt){r=v;break}}const l=te(e),{mode:a}=l;if(s.isLeaving)return mo(r);const c=Yi(r);if(!c)return mo(r);const u=Kn(c,l,s,n);zn(c,u);const h=n.subTree,d=h&&Yi(h);let p=!1;const{getTransitionKey:g}=c.type;if(g){const v=g();o===void 0?o=v:v!==o&&(o=v,p=!0)}if(d&&d.type!==nt&&(!zt(c,d)||p)){const v=Kn(d,l,s,n);if(zn(d,v),a==="out-in")return s.isLeaving=!0,v.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},mo(r);a==="in-out"&&c.type!==nt&&(v.delayLeave=(w,$,E)=>{const V=Gl(s,d);V[String(d.key)]=d,w[Pt]=()=>{$(),w[Pt]=void 0,delete u.delayedLeave},u.delayedLeave=E})}return r}}},hu=fu;function Gl(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Kn(e,t,n,s){const{appear:o,mode:i,persisted:r=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:v,onAppear:w,onAfterAppear:$,onAppearCancelled:E}=t,V=String(e.key),P=Gl(n,e),j=(H,_)=>{H&&tt(H,s,9,_)},F=(H,_)=>{const k=_[1];j(H,_),Y(H)?H.every(R=>R.length<=1)&&k():H.length<=1&&k()},O={mode:i,persisted:r,beforeEnter(H){let _=l;if(!n.isMounted)if(o)_=v||l;else return;H[Pt]&&H[Pt](!0);const k=P[V];k&&zt(e,k)&&k.el[Pt]&&k.el[Pt](),j(_,[H])},enter(H){let _=a,k=c,R=u;if(!n.isMounted)if(o)_=w||a,k=$||c,R=E||u;else return;let D=!1;const Q=H[ps]=X=>{D||(D=!0,X?j(R,[H]):j(k,[H]),O.delayedLeave&&O.delayedLeave(),H[ps]=void 0)};_?F(_,[H,Q]):Q()},leave(H,_){const k=String(e.key);if(H[ps]&&H[ps](!0),n.isUnmounting)return _();j(h,[H]);let R=!1;const D=H[Pt]=Q=>{R||(R=!0,_(),Q?j(g,[H]):j(p,[H]),H[Pt]=void 0,P[k]===e&&delete P[k])};P[k]=e,d?F(d,[H,D]):D()},clone(H){return Kn(H,t,n,s)}};return O}function mo(e){if(Zs(e))return e=Ft(e),e.children=null,e}function Yi(e){return Zs(e)?e.children?e.children[0]:void 0:e}function zn(e,t){e.shapeFlag&6&&e.component?zn(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ui(e,t=!1,n){let s=[],o=0;for(let i=0;i<e.length;i++){let r=e[i];const l=n==null?r.key:String(n)+String(r.key!=null?r.key:i);r.type===le?(r.patchFlag&128&&o++,s=s.concat(ui(r.children,t,l))):(t||r.type!==nt)&&s.push(l!=null?Ft(r,{key:l}):r)}if(o>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Ne(e,t){return Z(e)?_e({name:e.name},t,{setup:e}):e}const Gn=e=>!!e.type.__asyncLoader,Zs=e=>e.type.__isKeepAlive;function pu(e,t){Hl(e,"a",t)}function mu(e,t){Hl(e,"da",t)}function Hl(e,t,n=xe){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Qs(t,s,n),n){let o=n.parent;for(;o&&o.parent;)Zs(o.parent.vnode)&&gu(s,t,n,o),o=o.parent}}function gu(e,t,n,s){const o=Qs(t,e,s,!0);di(()=>{Xo(s[t],o)},n)}function Qs(e,t,n=xe,s=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;Tn(),vn(n);const l=tt(t,n,e,r);return Jt(),Sn(),l});return s?o.unshift(i):o.push(i),i}}const Nt=e=>(t,n=xe)=>(!qn||e==="sp")&&Qs(e,(...s)=>t(...s),n),vu=Nt("bm"),Bt=Nt("m"),_u=Nt("bu"),eo=Nt("u"),ts=Nt("bum"),di=Nt("um"),yu=Nt("sp"),bu=Nt("rtg"),wu=Nt("rtc");function Cu(e,t=xe){Qs("ec",e,t)}function Be(e,t,n,s){let o;const i=n&&n[s];if(Y(e)||ye(e)){o=new Array(e.length);for(let r=0,l=e.length;r<l;r++)o[r]=t(e[r],r,void 0,i&&i[r])}else if(typeof e=="number"){o=new Array(e);for(let r=0;r<e;r++)o[r]=t(r+1,r,void 0,i&&i[r])}else if(de(e))if(e[Symbol.iterator])o=Array.from(e,(r,l)=>t(r,l,void 0,i&&i[l]));else{const r=Object.keys(e);o=new Array(r.length);for(let l=0,a=r.length;l<a;l++){const c=r[l];o[l]=t(e[c],c,l,i&&i[l])}}else o=[];return n&&(n[s]=o),o}function Ae(e,t,n={},s,o){if(Ie.isCE||Ie.parent&&Gn(Ie.parent)&&Ie.parent.isCE)return t!=="default"&&(n.name=t),q("slot",n,s&&s());let i=e[t];i&&i._c&&(i._d=!1),I();const r=i&&Fl(i(n)),l=ke(le,{key:n.key||r&&r.key||`_${t}`},r||(s?s():[]),r&&e._===1?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Fl(e){return e.some(t=>Ds(t)?!(t.type===nt||t.type===le&&!Fl(t.children)):!0)?e:null}const Ao=e=>e?Zl(e)?so(e)||e.proxy:Ao(e.parent):null,Hn=_e(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ao(e.parent),$root:e=>Ao(e.root),$emit:e=>e.emit,$options:e=>fi(e),$forceUpdate:e=>e.f||(e.f=()=>li(e.update)),$nextTick:e=>e.n||(e.n=Mt.bind(e.proxy)),$watch:e=>du.bind(e)}),go=(e,t)=>e!==he&&!e.__isScriptSetup&&se(e,t),xu={get({_:e},t){const{ctx:n,setupState:s,data:o,props:i,accessCache:r,type:l,appContext:a}=e;let c;if(t[0]!=="$"){const p=r[t];if(p!==void 0)switch(p){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(go(s,t))return r[t]=1,s[t];if(o!==he&&se(o,t))return r[t]=2,o[t];if((c=e.propsOptions[0])&&se(c,t))return r[t]=3,i[t];if(n!==he&&se(n,t))return r[t]=4,n[t];ko&&(r[t]=0)}}const u=Hn[t];let h,d;if(u)return t==="$attrs"&&Fe(e,"get",t),u(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==he&&se(n,t))return r[t]=4,n[t];if(d=a.config.globalProperties,se(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:i}=e;return go(o,t)?(o[t]=n,!0):s!==he&&se(s,t)?(s[t]=n,!0):se(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:i}},r){let l;return!!n[r]||e!==he&&se(e,r)||go(t,r)||(l=i[0])&&se(l,r)||se(s,r)||se(Hn,r)||se(o.config.globalProperties,r)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:se(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function $o(e,t,n){const s=ns();if(n&&n.local){const o=L(e[t]);return ve(()=>e[t],i=>o.value=i),ve(o,i=>{i!==e[t]&&s.emit(`update:${t}`,i)}),o}else return{__v_isRef:!0,get value(){return e[t]},set value(o){s.emit(`update:${t}`,o)}}}function $s(e){return Y(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Bl(e,t){return!e||!t?e||t:Y(e)&&Y(t)?e.concat(t):_e({},$s(e),$s(t))}let ko=!0;function Tu(e){const t=fi(e),n=e.proxy,s=e.ctx;ko=!1,t.beforeCreate&&qi(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:r,watch:l,provide:a,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:p,updated:g,activated:v,deactivated:w,beforeDestroy:$,beforeUnmount:E,destroyed:V,unmounted:P,render:j,renderTracked:F,renderTriggered:O,errorCaptured:H,serverPrefetch:_,expose:k,inheritAttrs:R,components:D,directives:Q,filters:X}=t;if(c&&Su(c,s,null),r)for(const re in r){const ne=r[re];Z(ne)&&(s[re]=ne.bind(n))}if(o){const re=o.call(n,n);de(re)&&(e.data=Pe(re))}if(ko=!0,i)for(const re in i){const ne=i[re],Oe=Z(ne)?ne.bind(n,n):Z(ne.get)?ne.get.bind(n,n):vt,Vt=!Z(ne)&&Z(ne.set)?ne.set.bind(n):vt,Ye=W({get:Oe,set:Vt});Object.defineProperty(s,re,{enumerable:!0,configurable:!0,get:()=>Ye.value,set:Ge=>Ye.value=Ge})}if(l)for(const re in l)Vl(l[re],s,n,re);if(a){const re=Z(a)?a.call(n):a;Reflect.ownKeys(re).forEach(ne=>{hi(ne,re[ne])})}u&&qi(u,e,"c");function ie(re,ne){Y(ne)?ne.forEach(Oe=>re(Oe.bind(n))):ne&&re(ne.bind(n))}if(ie(vu,h),ie(Bt,d),ie(_u,p),ie(eo,g),ie(pu,v),ie(mu,w),ie(Cu,H),ie(wu,F),ie(bu,O),ie(ts,E),ie(di,P),ie(yu,_),Y(k))if(k.length){const re=e.exposed||(e.exposed={});k.forEach(ne=>{Object.defineProperty(re,ne,{get:()=>n[ne],set:Oe=>n[ne]=Oe})})}else e.exposed||(e.exposed={});j&&e.render===vt&&(e.render=j),R!=null&&(e.inheritAttrs=R),D&&(e.components=D),Q&&(e.directives=Q)}function Su(e,t,n=vt){Y(e)&&(e=Po(e));for(const s in e){const o=e[s];let i;de(o)?"default"in o?i=mn(o.from||s,o.default,!0):i=mn(o.from||s):i=mn(o),Te(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):t[s]=i}}function qi(e,t,n){tt(Y(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Vl(e,t,n,s){const o=s.includes(".")?Dl(n,s):()=>n[s];if(ye(e)){const i=t[e];Z(i)&&ve(o,i)}else if(Z(e))ve(o,e.bind(n));else if(de(e))if(Y(e))e.forEach(i=>Vl(i,t,n,s));else{const i=Z(e.handler)?e.handler.bind(n):t[e.handler];Z(i)&&ve(o,i,e)}}function fi(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:r}}=e.appContext,l=i.get(t);let a;return l?a=l:!o.length&&!n&&!s?a=t:(a={},o.length&&o.forEach(c=>ks(a,c,r,!0)),ks(a,t,r)),de(t)&&i.set(t,a),a}function ks(e,t,n,s=!1){const{mixins:o,extends:i}=t;i&&ks(e,i,n,!0),o&&o.forEach(r=>ks(e,r,n,!0));for(const r in t)if(!(s&&r==="expose")){const l=Eu[r]||n&&n[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const Eu={data:Xi,props:Ji,emits:Ji,methods:Dn,computed:Dn,beforeCreate:De,created:De,beforeMount:De,mounted:De,beforeUpdate:De,updated:De,beforeDestroy:De,beforeUnmount:De,destroyed:De,unmounted:De,activated:De,deactivated:De,errorCaptured:De,serverPrefetch:De,components:Dn,directives:Dn,watch:Mu,provide:Xi,inject:Iu};function Xi(e,t){return t?e?function(){return _e(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function Iu(e,t){return Dn(Po(e),Po(t))}function Po(e){if(Y(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function De(e,t){return e?[...new Set([].concat(e,t))]:t}function Dn(e,t){return e?_e(Object.create(null),e,t):t}function Ji(e,t){return e?Y(e)&&Y(t)?[...new Set([...e,...t])]:_e(Object.create(null),$s(e),$s(t??{})):t}function Mu(e,t){if(!e)return t;if(!t)return e;const n=_e(Object.create(null),e);for(const s in t)n[s]=De(e[s],t[s]);return n}function Ul(){return{app:null,config:{isNativeTag:oc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nu=0;function Ou(e,t){return function(s,o=null){Z(s)||(s=_e({},s)),o!=null&&!de(o)&&(o=null);const i=Ul(),r=new WeakSet;let l=!1;const a=i.app={_uid:Nu++,_component:s,_props:o,_container:null,_context:i,_instance:null,version:od,get config(){return i.config},set config(c){},use(c,...u){return r.has(c)||(c&&Z(c.install)?(r.add(c),c.install(a,...u)):Z(c)&&(r.add(c),c(a,...u))),a},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),a},component(c,u){return u?(i.components[c]=u,a):i.components[c]},directive(c,u){return u?(i.directives[c]=u,a):i.directives[c]},mount(c,u,h){if(!l){const d=q(s,o);return d.appContext=i,u&&t?t(d,c):e(d,c,h),l=!0,a._container=c,c.__vue_app__=a,so(d.component)||d.component.proxy}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(c,u){return i.provides[c]=u,a},runWithContext(c){Ps=a;try{return c()}finally{Ps=null}}};return a}}let Ps=null;function hi(e,t){if(xe){let n=xe.provides;const s=xe.parent&&xe.parent.provides;s===n&&(n=xe.provides=Object.create(s)),n[e]=t}}function mn(e,t,n=!1){const s=xe||Ie;if(s||Ps){const o=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Ps._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Z(t)?t.call(s&&s.proxy):t}}function Au(e,t,n,s=!1){const o={},i={};Ms(i,no,1),e.propsDefaults=Object.create(null),Wl(e,t,o,i);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);n?e.props=s?o:Hc(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function $u(e,t,n,s){const{props:o,attrs:i,vnode:{patchFlag:r}}=e,l=te(o),[a]=e.propsOptions;let c=!1;if((s||r>0)&&!(r&16)){if(r&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Xs(e.emitsOptions,d))continue;const p=t[d];if(a)if(se(i,d))p!==i[d]&&(i[d]=p,c=!0);else{const g=_t(d);o[g]=Do(a,l,g,p,e,!1)}else p!==i[d]&&(i[d]=p,c=!0)}}}else{Wl(e,t,o,i)&&(c=!0);let u;for(const h in l)(!t||!se(t,h)&&((u=sn(h))===h||!se(t,u)))&&(a?n&&(n[h]!==void 0||n[u]!==void 0)&&(o[h]=Do(a,l,h,void 0,e,!0)):delete o[h]);if(i!==l)for(const h in i)(!t||!se(t,h))&&(delete i[h],c=!0)}c&&St(e,"set","$attrs")}function Wl(e,t,n,s){const[o,i]=e.propsOptions;let r=!1,l;if(t)for(let a in t){if(ws(a))continue;const c=t[a];let u;o&&se(o,u=_t(a))?!i||!i.includes(u)?n[u]=c:(l||(l={}))[u]=c:Xs(e.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,r=!0)}if(i){const a=te(n),c=l||he;for(let u=0;u<i.length;u++){const h=i[u];n[h]=Do(o,a,h,c[h],e,!se(c,h))}}return r}function Do(e,t,n,s,o,i){const r=e[n];if(r!=null){const l=se(r,"default");if(l&&s===void 0){const a=r.default;if(r.type!==Function&&!r.skipFactory&&Z(a)){const{propsDefaults:c}=o;n in c?s=c[n]:(vn(o),s=c[n]=a.call(null,t),Jt())}else s=a}r[0]&&(i&&!l?s=!1:r[1]&&(s===""||s===sn(n))&&(s=!0))}return s}function jl(e,t,n=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const i=e.props,r={},l=[];let a=!1;if(!Z(e)){const u=h=>{a=!0;const[d,p]=jl(h,t,!0);_e(r,d),p&&l.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!a)return de(e)&&s.set(e,dn),dn;if(Y(i))for(let u=0;u<i.length;u++){const h=_t(i[u]);Zi(h)&&(r[h]=he)}else if(i)for(const u in i){const h=_t(u);if(Zi(h)){const d=i[u],p=r[h]=Y(d)||Z(d)?{type:d}:_e({},d);if(p){const g=tr(Boolean,p.type),v=tr(String,p.type);p[0]=g>-1,p[1]=v<0||g<v,(g>-1||se(p,"default"))&&l.push(h)}}}const c=[r,l];return de(e)&&s.set(e,c),c}function Zi(e){return e[0]!=="$"}function Qi(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function er(e,t){return Qi(e)===Qi(t)}function tr(e,t){return Y(t)?t.findIndex(n=>er(n,e)):Z(t)&&er(t,e)?0:-1}const Kl=e=>e[0]==="_"||e==="$stable",pi=e=>Y(e)?e.map(mt):[mt(e)],ku=(e,t,n)=>{if(t._n)return t;const s=ct((...o)=>pi(t(...o)),n);return s._c=!1,s},zl=(e,t,n)=>{const s=e._ctx;for(const o in e){if(Kl(o))continue;const i=e[o];if(Z(i))t[o]=ku(o,i,s);else if(i!=null){const r=pi(i);t[o]=()=>r}}},Yl=(e,t)=>{const n=pi(t);e.slots.default=()=>n},Pu=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=te(t),Ms(t,"_",n)):zl(t,e.slots={})}else e.slots={},t&&Yl(e,t);Ms(e.slots,no,1)},Du=(e,t,n)=>{const{vnode:s,slots:o}=e;let i=!0,r=he;if(s.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:(_e(o,t),!n&&l===1&&delete o._):(i=!t.$stable,zl(t,o)),r=t}else t&&(Yl(e,t),r={default:1});if(i)for(const l in o)!Kl(l)&&r[l]==null&&delete o[l]};function Ro(e,t,n,s,o=!1){if(Y(e)){e.forEach((d,p)=>Ro(d,t&&(Y(t)?t[p]:t),n,s,o));return}if(Gn(s)&&!o)return;const i=s.shapeFlag&4?so(s.component)||s.component.proxy:s.el,r=o?null:i,{i:l,r:a}=e,c=t&&t.r,u=l.refs===he?l.refs={}:l.refs,h=l.setupState;if(c!=null&&c!==a&&(ye(c)?(u[c]=null,se(h,c)&&(h[c]=null)):Te(c)&&(c.value=null)),Z(a))Gt(a,l,12,[r,u]);else{const d=ye(a),p=Te(a);if(d||p){const g=()=>{if(e.f){const v=d?se(h,a)?h[a]:u[a]:a.value;o?Y(v)&&Xo(v,i):Y(v)?v.includes(i)||v.push(i):d?(u[a]=[i],se(h,a)&&(h[a]=u[a])):(a.value=[i],e.k&&(u[e.k]=a.value))}else d?(u[a]=r,se(h,a)&&(h[a]=r)):p&&(a.value=r,e.k&&(u[e.k]=r))};r?(g.id=-1,He(g,n)):g()}}}const He=uu;function Ru(e){return Lu(e)}function Lu(e,t){const n=Eo();n.__VUE__=!0;const{insert:s,remove:o,patchProp:i,createElement:r,createText:l,createComment:a,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:p=vt,insertStaticContent:g}=e,v=(f,m,y,C=null,x=null,N=null,B=!1,M=null,A=!!m.dynamicChildren)=>{if(f===m)return;f&&!zt(f,m)&&(C=ls(f),Ge(f,x,N,!0),f=null),m.patchFlag===-2&&(A=!1,m.dynamicChildren=null);const{type:S,ref:K,shapeFlag:U}=m;switch(S){case to:w(f,m,y,C);break;case nt:$(f,m,y,C);break;case xs:f==null&&E(m,y,C,B);break;case le:D(f,m,y,C,x,N,B,M,A);break;default:U&1?j(f,m,y,C,x,N,B,M,A):U&6?Q(f,m,y,C,x,N,B,M,A):(U&64||U&128)&&S.process(f,m,y,C,x,N,B,M,A,on)}K!=null&&x&&Ro(K,f&&f.ref,N,m||f,!m)},w=(f,m,y,C)=>{if(f==null)s(m.el=l(m.children),y,C);else{const x=m.el=f.el;m.children!==f.children&&c(x,m.children)}},$=(f,m,y,C)=>{f==null?s(m.el=a(m.children||""),y,C):m.el=f.el},E=(f,m,y,C)=>{[f.el,f.anchor]=g(f.children,m,y,C,f.el,f.anchor)},V=({el:f,anchor:m},y,C)=>{let x;for(;f&&f!==m;)x=d(f),s(f,y,C),f=x;s(m,y,C)},P=({el:f,anchor:m})=>{let y;for(;f&&f!==m;)y=d(f),o(f),f=y;o(m)},j=(f,m,y,C,x,N,B,M,A)=>{B=B||m.type==="svg",f==null?F(m,y,C,x,N,B,M,A):_(f,m,x,N,B,M,A)},F=(f,m,y,C,x,N,B,M)=>{let A,S;const{type:K,props:U,shapeFlag:z,transition:J,dirs:ee}=f;if(A=f.el=r(f.type,N,U&&U.is,U),z&8?u(A,f.children):z&16&&H(f.children,A,null,C,x,N&&K!=="foreignObject",B,M),ee&&Ut(f,null,C,"created"),O(A,f,f.scopeId,B,C),U){for(const ce in U)ce!=="value"&&!ws(ce)&&i(A,ce,null,U[ce],N,f.children,C,x,yt);"value"in U&&i(A,"value",null,U.value),(S=U.onVnodeBeforeMount)&&ht(S,C,f)}ee&&Ut(f,null,C,"beforeMount");const ue=Gu(x,J);ue&&J.beforeEnter(A),s(A,m,y),((S=U&&U.onVnodeMounted)||ue||ee)&&He(()=>{S&&ht(S,C,f),ue&&J.enter(A),ee&&Ut(f,null,C,"mounted")},x)},O=(f,m,y,C,x)=>{if(y&&p(f,y),C)for(let N=0;N<C.length;N++)p(f,C[N]);if(x){let N=x.subTree;if(m===N){const B=x.vnode;O(f,B,B.scopeId,B.slotScopeIds,x.parent)}}},H=(f,m,y,C,x,N,B,M,A=0)=>{for(let S=A;S<f.length;S++){const K=f[S]=M?Dt(f[S]):mt(f[S]);v(null,K,m,y,C,x,N,B,M)}},_=(f,m,y,C,x,N,B)=>{const M=m.el=f.el;let{patchFlag:A,dynamicChildren:S,dirs:K}=m;A|=f.patchFlag&16;const U=f.props||he,z=m.props||he;let J;y&&Wt(y,!1),(J=z.onVnodeBeforeUpdate)&&ht(J,y,m,f),K&&Ut(m,f,y,"beforeUpdate"),y&&Wt(y,!0);const ee=x&&m.type!=="foreignObject";if(S?k(f.dynamicChildren,S,M,y,C,ee,N):B||ne(f,m,M,null,y,C,ee,N,!1),A>0){if(A&16)R(M,m,U,z,y,C,x);else if(A&2&&U.class!==z.class&&i(M,"class",null,z.class,x),A&4&&i(M,"style",U.style,z.style,x),A&8){const ue=m.dynamicProps;for(let ce=0;ce<ue.length;ce++){const be=ue[ce],it=U[be],rn=z[be];(rn!==it||be==="value")&&i(M,be,it,rn,x,f.children,y,C,yt)}}A&1&&f.children!==m.children&&u(M,m.children)}else!B&&S==null&&R(M,m,U,z,y,C,x);((J=z.onVnodeUpdated)||K)&&He(()=>{J&&ht(J,y,m,f),K&&Ut(m,f,y,"updated")},C)},k=(f,m,y,C,x,N,B)=>{for(let M=0;M<m.length;M++){const A=f[M],S=m[M],K=A.el&&(A.type===le||!zt(A,S)||A.shapeFlag&70)?h(A.el):y;v(A,S,K,null,C,x,N,B,!0)}},R=(f,m,y,C,x,N,B)=>{if(y!==C){if(y!==he)for(const M in y)!ws(M)&&!(M in C)&&i(f,M,y[M],null,B,m.children,x,N,yt);for(const M in C){if(ws(M))continue;const A=C[M],S=y[M];A!==S&&M!=="value"&&i(f,M,S,A,B,m.children,x,N,yt)}"value"in C&&i(f,"value",y.value,C.value)}},D=(f,m,y,C,x,N,B,M,A)=>{const S=m.el=f?f.el:l(""),K=m.anchor=f?f.anchor:l("");let{patchFlag:U,dynamicChildren:z,slotScopeIds:J}=m;J&&(M=M?M.concat(J):J),f==null?(s(S,y,C),s(K,y,C),H(m.children,y,K,x,N,B,M,A)):U>0&&U&64&&z&&f.dynamicChildren?(k(f.dynamicChildren,z,y,x,N,B,M),(m.key!=null||x&&m===x.subTree)&&ql(f,m,!0)):ne(f,m,y,K,x,N,B,M,A)},Q=(f,m,y,C,x,N,B,M,A)=>{m.slotScopeIds=M,f==null?m.shapeFlag&512?x.ctx.activate(m,y,C,B,A):X(m,y,C,x,N,B,A):me(f,m,A)},X=(f,m,y,C,x,N,B)=>{const M=f.component=Yu(f,C,x);if(Zs(f)&&(M.ctx.renderer=on),qu(M),M.asyncDep){if(x&&x.registerDep(M,ie),!f.el){const A=M.subTree=q(nt);$(null,A,m,y)}return}ie(M,f,m,y,x,N,B)},me=(f,m,y)=>{const C=m.component=f.component;if(lu(f,m,y))if(C.asyncDep&&!C.asyncResolved){re(C,m,y);return}else C.next=m,Qc(C.update),C.update();else m.el=f.el,C.vnode=m},ie=(f,m,y,C,x,N,B)=>{const M=()=>{if(f.isMounted){let{next:K,bu:U,u:z,parent:J,vnode:ee}=f,ue=K,ce;Wt(f,!1),K?(K.el=ee.el,re(f,K,B)):K=ee,U&&Cs(U),(ce=K.props&&K.props.onVnodeBeforeUpdate)&&ht(ce,J,K,ee),Wt(f,!0);const be=po(f),it=f.subTree;f.subTree=be,v(it,be,h(it.el),ls(it),f,x,N),K.el=be.el,ue===null&&au(f,be.el),z&&He(z,x),(ce=K.props&&K.props.onVnodeUpdated)&&He(()=>ht(ce,J,K,ee),x)}else{let K;const{el:U,props:z}=m,{bm:J,m:ee,parent:ue}=f,ce=Gn(m);if(Wt(f,!1),J&&Cs(J),!ce&&(K=z&&z.onVnodeBeforeMount)&&ht(K,ue,m),Wt(f,!0),U&&uo){const be=()=>{f.subTree=po(f),uo(U,f.subTree,f,x,null)};ce?m.type.__asyncLoader().then(()=>!f.isUnmounted&&be()):be()}else{const be=f.subTree=po(f);v(null,be,y,C,f,x,N),m.el=be.el}if(ee&&He(ee,x),!ce&&(K=z&&z.onVnodeMounted)){const be=m;He(()=>ht(K,ue,be),x)}(m.shapeFlag&256||ue&&Gn(ue.vnode)&&ue.vnode.shapeFlag&256)&&f.a&&He(f.a,x),f.isMounted=!0,m=y=C=null}},A=f.effect=new ei(M,()=>li(S),f.scope),S=f.update=()=>A.run();S.id=f.uid,Wt(f,!0),S()},re=(f,m,y)=>{m.component=f;const C=f.vnode.props;f.vnode=m,f.next=null,$u(f,m.props,C,y),Du(f,m.children,y),Tn(),ji(f),Sn()},ne=(f,m,y,C,x,N,B,M,A=!1)=>{const S=f&&f.children,K=f?f.shapeFlag:0,U=m.children,{patchFlag:z,shapeFlag:J}=m;if(z>0){if(z&128){Vt(S,U,y,C,x,N,B,M,A);return}else if(z&256){Oe(S,U,y,C,x,N,B,M,A);return}}J&8?(K&16&&yt(S,x,N),U!==S&&u(y,U)):K&16?J&16?Vt(S,U,y,C,x,N,B,M,A):yt(S,x,N,!0):(K&8&&u(y,""),J&16&&H(U,y,C,x,N,B,M,A))},Oe=(f,m,y,C,x,N,B,M,A)=>{f=f||dn,m=m||dn;const S=f.length,K=m.length,U=Math.min(S,K);let z;for(z=0;z<U;z++){const J=m[z]=A?Dt(m[z]):mt(m[z]);v(f[z],J,y,null,x,N,B,M,A)}S>K?yt(f,x,N,!0,!1,U):H(m,y,C,x,N,B,M,A,U)},Vt=(f,m,y,C,x,N,B,M,A)=>{let S=0;const K=m.length;let U=f.length-1,z=K-1;for(;S<=U&&S<=z;){const J=f[S],ee=m[S]=A?Dt(m[S]):mt(m[S]);if(zt(J,ee))v(J,ee,y,null,x,N,B,M,A);else break;S++}for(;S<=U&&S<=z;){const J=f[U],ee=m[z]=A?Dt(m[z]):mt(m[z]);if(zt(J,ee))v(J,ee,y,null,x,N,B,M,A);else break;U--,z--}if(S>U){if(S<=z){const J=z+1,ee=J<K?m[J].el:C;for(;S<=z;)v(null,m[S]=A?Dt(m[S]):mt(m[S]),y,ee,x,N,B,M,A),S++}}else if(S>z)for(;S<=U;)Ge(f[S],x,N,!0),S++;else{const J=S,ee=S,ue=new Map;for(S=ee;S<=z;S++){const Ve=m[S]=A?Dt(m[S]):mt(m[S]);Ve.key!=null&&ue.set(Ve.key,S)}let ce,be=0;const it=z-ee+1;let rn=!1,Pi=0;const Mn=new Array(it);for(S=0;S<it;S++)Mn[S]=0;for(S=J;S<=U;S++){const Ve=f[S];if(be>=it){Ge(Ve,x,N,!0);continue}let ft;if(Ve.key!=null)ft=ue.get(Ve.key);else for(ce=ee;ce<=z;ce++)if(Mn[ce-ee]===0&&zt(Ve,m[ce])){ft=ce;break}ft===void 0?Ge(Ve,x,N,!0):(Mn[ft-ee]=S+1,ft>=Pi?Pi=ft:rn=!0,v(Ve,m[ft],y,null,x,N,B,M,A),be++)}const Di=rn?Hu(Mn):dn;for(ce=Di.length-1,S=it-1;S>=0;S--){const Ve=ee+S,ft=m[Ve],Ri=Ve+1<K?m[Ve+1].el:C;Mn[S]===0?v(null,ft,y,Ri,x,N,B,M,A):rn&&(ce<0||S!==Di[ce]?Ye(ft,y,Ri,2):ce--)}}},Ye=(f,m,y,C,x=null)=>{const{el:N,type:B,transition:M,children:A,shapeFlag:S}=f;if(S&6){Ye(f.component.subTree,m,y,C);return}if(S&128){f.suspense.move(m,y,C);return}if(S&64){B.move(f,m,y,on);return}if(B===le){s(N,m,y);for(let U=0;U<A.length;U++)Ye(A[U],m,y,C);s(f.anchor,m,y);return}if(B===xs){V(f,m,y);return}if(C!==2&&S&1&&M)if(C===0)M.beforeEnter(N),s(N,m,y),He(()=>M.enter(N),x);else{const{leave:U,delayLeave:z,afterLeave:J}=M,ee=()=>s(N,m,y),ue=()=>{U(N,()=>{ee(),J&&J()})};z?z(N,ee,ue):ue()}else s(N,m,y)},Ge=(f,m,y,C=!1,x=!1)=>{const{type:N,props:B,ref:M,children:A,dynamicChildren:S,shapeFlag:K,patchFlag:U,dirs:z}=f;if(M!=null&&Ro(M,null,y,f,!0),K&256){m.ctx.deactivate(f);return}const J=K&1&&z,ee=!Gn(f);let ue;if(ee&&(ue=B&&B.onVnodeBeforeUnmount)&&ht(ue,m,f),K&6)sc(f.component,y,C);else{if(K&128){f.suspense.unmount(y,C);return}J&&Ut(f,null,m,"beforeUnmount"),K&64?f.type.remove(f,m,y,x,on,C):S&&(N!==le||U>0&&U&64)?yt(S,m,y,!1,!0):(N===le&&U&384||!x&&K&16)&&yt(A,m,y),C&&In(f)}(ee&&(ue=B&&B.onVnodeUnmounted)||J)&&He(()=>{ue&&ht(ue,m,f),J&&Ut(f,null,m,"unmounted")},y)},In=f=>{const{type:m,el:y,anchor:C,transition:x}=f;if(m===le){nc(y,C);return}if(m===xs){P(f);return}const N=()=>{o(y),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(f.shapeFlag&1&&x&&!x.persisted){const{leave:B,delayLeave:M}=x,A=()=>B(y,N);M?M(f.el,N,A):A()}else N()},nc=(f,m)=>{let y;for(;f!==m;)y=d(f),o(f),f=y;o(m)},sc=(f,m,y)=>{const{bum:C,scope:x,update:N,subTree:B,um:M}=f;C&&Cs(C),x.stop(),N&&(N.active=!1,Ge(B,f,m,y)),M&&He(M,m),He(()=>{f.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},yt=(f,m,y,C=!1,x=!1,N=0)=>{for(let B=N;B<f.length;B++)Ge(f[B],m,y,C,x)},ls=f=>f.shapeFlag&6?ls(f.component.subTree):f.shapeFlag&128?f.suspense.next():d(f.anchor||f.el),ki=(f,m,y)=>{f==null?m._vnode&&Ge(m._vnode,null,null,!0):v(m._vnode||null,f,m,null,null,null,y),ji(),Nl(),m._vnode=f},on={p:v,um:Ge,m:Ye,r:In,mt:X,mc:H,pc:ne,pbc:k,n:ls,o:e};let co,uo;return t&&([co,uo]=t(on)),{render:ki,hydrate:co,createApp:Ou(ki,co)}}function Wt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Gu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ql(e,t,n=!1){const s=e.children,o=t.children;if(Y(s)&&Y(o))for(let i=0;i<s.length;i++){const r=s[i];let l=o[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[i]=Dt(o[i]),l.el=r.el),n||ql(r,l)),l.type===to&&(l.el=r.el)}}function Hu(e){const t=e.slice(),n=[0];let s,o,i,r,l;const a=e.length;for(s=0;s<a;s++){const c=e[s];if(c!==0){if(o=n[n.length-1],e[o]<c){t[s]=o,n.push(s);continue}for(i=0,r=n.length-1;i<r;)l=i+r>>1,e[n[l]]<c?i=l+1:r=l;c<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,r=n[i-1];i-- >0;)n[i]=r,r=t[r];return n}const Fu=e=>e.__isTeleport,le=Symbol.for("v-fgt"),to=Symbol.for("v-txt"),nt=Symbol.for("v-cmt"),xs=Symbol.for("v-stc"),Fn=[];let at=null;function I(e=!1){Fn.push(at=e?null:[])}function Bu(){Fn.pop(),at=Fn[Fn.length-1]||null}let Yn=1;function nr(e){Yn+=e}function Xl(e){return e.dynamicChildren=Yn>0?at||dn:null,Bu(),Yn>0&&at&&at.push(e),e}function G(e,t,n,s,o,i){return Xl(b(e,t,n,s,o,i,!0))}function ke(e,t,n,s,o){return Xl(q(e,t,n,s,o,!0))}function Ds(e){return e?e.__v_isVNode===!0:!1}function zt(e,t){return e.type===t.type&&e.key===t.key}const no="__vInternal",Jl=({key:e})=>e??null,Ts=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ye(e)||Te(e)||Z(e)?{i:Ie,r:e,k:t,f:!!n}:e:null);function b(e,t=null,n=null,s=0,o=null,i=e===le?0:1,r=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Jl(t),ref:t&&Ts(t),scopeId:Js,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ie};return l?(mi(a,n),i&128&&e.normalize(a)):n&&(a.shapeFlag|=ye(n)?8:16),Yn>0&&!r&&at&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&at.push(a),a}const q=Vu;function Vu(e,t=null,n=null,s=0,o=null,i=!1){if((!e||e===$l)&&(e=nt),Ds(e)){const l=Ft(e,t,!0);return n&&mi(l,n),Yn>0&&!i&&at&&(l.shapeFlag&6?at[at.indexOf(e)]=l:at.push(l)),l.patchFlag|=-2,l}if(ed(e)&&(e=e.__vccOpts),t){t=Uu(t);let{class:l,style:a}=t;l&&!ye(l)&&(t.class=Me(l)),de(a)&&(xl(a)&&!Y(a)&&(a=_e({},a)),t.style=oe(a))}const r=ye(e)?1:cu(e)?128:Fu(e)?64:de(e)?4:Z(e)?2:0;return b(e,t,n,s,o,r,i,!0)}function Uu(e){return e?xl(e)||no in e?_e({},e):e:null}function Ft(e,t,n=!1){const{props:s,ref:o,patchFlag:i,children:r}=e,l=t?ju(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Jl(l),ref:t&&t.ref?n&&o?Y(o)?o.concat(Ts(t)):[o,Ts(t)]:Ts(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==le?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ft(e.ssContent),ssFallback:e.ssFallback&&Ft(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ut(e=" ",t=0){return q(to,null,e,t)}function Wu(e,t){const n=q(xs,null,e);return n.staticCount=t,n}function Ke(e="",t=!1){return t?(I(),ke(nt,null,e)):q(nt,null,e)}function mt(e){return e==null||typeof e=="boolean"?q(nt):Y(e)?q(le,null,e.slice()):typeof e=="object"?Dt(e):q(to,null,String(e))}function Dt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ft(e)}function mi(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Y(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),mi(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(no in t)?t._ctx=Ie:o===3&&Ie&&(Ie.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Z(t)?(t={default:t,_ctx:Ie},n=32):(t=String(t),s&64?(n=16,t=[ut(t)]):n=8);e.children=t,e.shapeFlag|=n}function ju(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=Me([t.class,s.class]));else if(o==="style")t.style=oe([t.style,s.style]);else if(Vs(o)){const i=t[o],r=s[o];r&&i!==r&&!(Y(i)&&i.includes(r))&&(t[o]=i?[].concat(i,r):r)}else o!==""&&(t[o]=s[o])}return t}function ht(e,t,n,s=null){tt(e,t,7,[n,s])}const Ku=Ul();let zu=0;function Yu(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||Ku,i={uid:zu++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new gc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jl(s,o),emitsOptions:Al(s,o),emit:null,emitted:null,propsDefaults:he,inheritAttrs:s.inheritAttrs,ctx:he,data:he,props:he,attrs:he,slots:he,refs:he,setupState:he,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=nu.bind(null,i),e.ce&&e.ce(i),i}let xe=null;const ns=()=>xe||Ie;let gi,ln,sr="__VUE_INSTANCE_SETTERS__";(ln=Eo()[sr])||(ln=Eo()[sr]=[]),ln.push(e=>xe=e),gi=e=>{ln.length>1?ln.forEach(t=>t(e)):ln[0](e)};const vn=e=>{gi(e),e.scope.on()},Jt=()=>{xe&&xe.scope.off(),gi(null)};function Zl(e){return e.vnode.shapeFlag&4}let qn=!1;function qu(e,t=!1){qn=t;const{props:n,children:s}=e.vnode,o=Zl(e);Au(e,n,o,t),Pu(e,s);const i=o?Xu(e,t):void 0;return qn=!1,i}function Xu(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Qn(new Proxy(e.ctx,xu));const{setup:s}=n;if(s){const o=e.setupContext=s.length>1?Zu(e):null;vn(e),Tn();const i=Gt(s,e,0,[e.props,o]);if(Sn(),Jt(),il(i)){if(i.then(Jt,Jt),t)return i.then(r=>{or(e,r,t)}).catch(r=>{qs(r,e,0)});e.asyncDep=i}else or(e,i,t)}else Ql(e,t)}function or(e,t,n){Z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:de(t)&&(e.setupState=Sl(t)),Ql(e,n)}let ir;function Ql(e,t,n){const s=e.type;if(!e.render){if(!t&&ir&&!s.render){const o=s.template||fi(e).template;if(o){const{isCustomElement:i,compilerOptions:r}=e.appContext.config,{delimiters:l,compilerOptions:a}=s,c=_e(_e({isCustomElement:i,delimiters:l},r),a);s.render=ir(o,c)}}e.render=s.render||vt}{vn(e),Tn();try{Tu(e)}finally{Sn(),Jt()}}}function Ju(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Fe(e,"get","$attrs"),t[n]}}))}function Zu(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Ju(e)},slots:e.slots,emit:e.emit,expose:t}}function so(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Sl(Qn(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Hn)return Hn[n](e)},has(t,n){return n in t||n in Hn}}))}function Qu(e,t=!0){return Z(e)?e.displayName||e.name:e.name||t&&e.__name}function ed(e){return Z(e)&&"__vccOpts"in e}const W=(e,t)=>Xc(e,t,qn);function td(e,t,n){const s=arguments.length;return s===2?de(t)&&!Y(t)?Ds(t)?q(e,null,[t]):q(e,t):q(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ds(n)&&(n=[n]),q(e,t,n))}const nd=Symbol.for("v-scx"),sd=()=>mn(nd),od="3.3.13",id="http://www.w3.org/2000/svg",Yt=typeof document<"u"?document:null,rr=Yt&&Yt.createElement("template"),rd={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t?Yt.createElementNS(id,e):Yt.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>Yt.createTextNode(e),createComment:e=>Yt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Yt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,i){const r=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{rr.innerHTML=s?`<svg>${e}</svg>`:e;const l=rr.content;if(s){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},At="transition",Nn="animation",_n=Symbol("_vtc"),En=(e,{slots:t})=>td(hu,ta(e),t);En.displayName="Transition";const ea={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ld=En.props=_e({},Ll,ea),jt=(e,t=[])=>{Y(e)?e.forEach(n=>n(...t)):e&&e(...t)},lr=e=>e?Y(e)?e.some(t=>t.length>1):e.length>1:!1;function ta(e){const t={};for(const D in e)D in ea||(t[D]=e[D]);if(e.css===!1)return t;const{name:n="v",type:s,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=i,appearActiveClass:c=r,appearToClass:u=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,g=ad(o),v=g&&g[0],w=g&&g[1],{onBeforeEnter:$,onEnter:E,onEnterCancelled:V,onLeave:P,onLeaveCancelled:j,onBeforeAppear:F=$,onAppear:O=E,onAppearCancelled:H=V}=t,_=(D,Q,X)=>{kt(D,Q?u:l),kt(D,Q?c:r),X&&X()},k=(D,Q)=>{D._isLeaving=!1,kt(D,h),kt(D,p),kt(D,d),Q&&Q()},R=D=>(Q,X)=>{const me=D?O:E,ie=()=>_(Q,D,X);jt(me,[Q,ie]),ar(()=>{kt(Q,D?a:i),wt(Q,D?u:l),lr(me)||cr(Q,s,v,ie)})};return _e(t,{onBeforeEnter(D){jt($,[D]),wt(D,i),wt(D,r)},onBeforeAppear(D){jt(F,[D]),wt(D,a),wt(D,c)},onEnter:R(!1),onAppear:R(!0),onLeave(D,Q){D._isLeaving=!0;const X=()=>k(D,Q);wt(D,h),sa(),wt(D,d),ar(()=>{D._isLeaving&&(kt(D,h),wt(D,p),lr(P)||cr(D,s,w,X))}),jt(P,[D,X])},onEnterCancelled(D){_(D,!1),jt(V,[D])},onAppearCancelled(D){_(D,!0),jt(H,[D])},onLeaveCancelled(D){k(D),jt(j,[D])}})}function ad(e){if(e==null)return null;if(de(e))return[vo(e.enter),vo(e.leave)];{const t=vo(e);return[t,t]}}function vo(e){return cc(e)}function wt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[_n]||(e[_n]=new Set)).add(t)}function kt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[_n];n&&(n.delete(t),n.size||(e[_n]=void 0))}function ar(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let cd=0;function cr(e,t,n,s){const o=e._endId=++cd,i=()=>{o===e._endId&&s()};if(n)return setTimeout(i,n);const{type:r,timeout:l,propCount:a}=na(e,t);if(!r)return s();const c=r+"end";let u=0;const h=()=>{e.removeEventListener(c,d),i()},d=p=>{p.target===e&&++u>=a&&h()};setTimeout(()=>{u<a&&h()},l+1),e.addEventListener(c,d)}function na(e,t){const n=window.getComputedStyle(e),s=g=>(n[g]||"").split(", "),o=s(`${At}Delay`),i=s(`${At}Duration`),r=ur(o,i),l=s(`${Nn}Delay`),a=s(`${Nn}Duration`),c=ur(l,a);let u=null,h=0,d=0;t===At?r>0&&(u=At,h=r,d=i.length):t===Nn?c>0&&(u=Nn,h=c,d=a.length):(h=Math.max(r,c),u=h>0?r>c?At:Nn:null,d=u?u===At?i.length:a.length:0);const p=u===At&&/\b(transform|all)(,|$)/.test(s(`${At}Property`).toString());return{type:u,timeout:h,propCount:d,hasTransform:p}}function ur(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>dr(n)+dr(e[s])))}function dr(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function sa(){return document.body.offsetHeight}function ud(e,t,n){const s=e[_n];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const vi=Symbol("_vod"),oa={beforeMount(e,{value:t},{transition:n}){e[vi]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):On(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),On(e,!0),s.enter(e)):s.leave(e,()=>{On(e,!1)}):On(e,t))},beforeUnmount(e,{value:t}){On(e,t)}};function On(e,t){e.style.display=t?e[vi]:"none"}const dd=Symbol("");function fd(e,t,n){const s=e.style,o=ye(n);if(n&&!o){if(t&&!ye(t))for(const i in t)n[i]==null&&Lo(s,i,"");for(const i in n)Lo(s,i,n[i])}else{const i=s.display;if(o){if(t!==n){const r=s[dd];r&&(n+=";"+r),s.cssText=n}}else t&&e.removeAttribute("style");vi in e&&(s.display=i)}}const fr=/\s*!important$/;function Lo(e,t,n){if(Y(n))n.forEach(s=>Lo(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=hd(e,t);fr.test(n)?e.setProperty(sn(s),n.replace(fr,""),"important"):e[s]=n}}const hr=["Webkit","Moz","ms"],_o={};function hd(e,t){const n=_o[t];if(n)return n;let s=_t(t);if(s!=="filter"&&s in e)return _o[t]=s;s=js(s);for(let o=0;o<hr.length;o++){const i=hr[o]+s;if(i in e)return _o[t]=i}return t}const pr="http://www.w3.org/1999/xlink";function pd(e,t,n,s,o){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(pr,t.slice(6,t.length)):e.setAttributeNS(pr,t,n);else{const i=mc(t);n==null||i&&!al(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function md(e,t,n,s,o,i,r){if(t==="innerHTML"||t==="textContent"){s&&r(s,o,i),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const c=l==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=al(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function an(e,t,n,s){e.addEventListener(t,n,s)}function gd(e,t,n,s){e.removeEventListener(t,n,s)}const mr=Symbol("_vei");function vd(e,t,n,s,o=null){const i=e[mr]||(e[mr]={}),r=i[t];if(s&&r)r.value=s;else{const[l,a]=_d(t);if(s){const c=i[t]=wd(s,o);an(e,l,c,a)}else r&&(gd(e,l,r,a),i[t]=void 0)}}const gr=/(?:Once|Passive|Capture)$/;function _d(e){let t;if(gr.test(e)){t={};let s;for(;s=e.match(gr);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):sn(e.slice(2)),t]}let yo=0;const yd=Promise.resolve(),bd=()=>yo||(yd.then(()=>yo=0),yo=Date.now());function wd(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;tt(Cd(s,n.value),t,5,[s])};return n.value=e,n.attached=bd(),n}function Cd(e,t){if(Y(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const vr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,xd=(e,t,n,s,o=!1,i,r,l,a)=>{t==="class"?ud(e,s,o):t==="style"?fd(e,n,s):Vs(t)?qo(t)||vd(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Td(e,t,s,o))?md(e,t,s,i,r,l,a):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),pd(e,t,s,o))};function Td(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&vr(t)&&Z(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return vr(t)&&ye(n)?!1:t in e}const ia=new WeakMap,ra=new WeakMap,Rs=Symbol("_moveCb"),_r=Symbol("_enterCb"),la={name:"TransitionGroup",props:_e({},ld,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=ns(),s=Rl();let o,i;return eo(()=>{if(!o.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!Od(o[0].el,n.vnode.el,r))return;o.forEach(Id),o.forEach(Md);const l=o.filter(Nd);sa(),l.forEach(a=>{const c=a.el,u=c.style;wt(c,r),u.transform=u.webkitTransform=u.transitionDuration="";const h=c[Rs]=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",h),c[Rs]=null,kt(c,r))};c.addEventListener("transitionend",h)})}),()=>{const r=te(e),l=ta(r);let a=r.tag||le;o=i,i=t.default?ui(t.default()):[];for(let c=0;c<i.length;c++){const u=i[c];u.key!=null&&zn(u,Kn(u,l,s,n))}if(o)for(let c=0;c<o.length;c++){const u=o[c];zn(u,Kn(u,l,s,n)),ia.set(u,u.el.getBoundingClientRect())}return q(a,null,i)}}},Sd=e=>delete e.mode;la.props;const Ed=la;function Id(e){const t=e.el;t[Rs]&&t[Rs](),t[_r]&&t[_r]()}function Md(e){ra.set(e,e.el.getBoundingClientRect())}function Nd(e){const t=ia.get(e),n=ra.get(e),s=t.left-n.left,o=t.top-n.top;if(s||o){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${o}px)`,i.transitionDuration="0s",e}}function Od(e,t,n){const s=e.cloneNode(),o=e[_n];o&&o.forEach(l=>{l.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(s);const{hasTransform:r}=na(s);return i.removeChild(s),r}const yr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Y(t)?n=>Cs(t,n):t};function Ad(e){e.target.composing=!0}function br(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const bo=Symbol("_assign"),_i={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[bo]=yr(o);const i=s||o.props&&o.props.type==="number";an(e,t?"change":"input",r=>{if(r.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=So(l)),e[bo](l)}),n&&an(e,"change",()=>{e.value=e.value.trim()}),t||(an(e,"compositionstart",Ad),an(e,"compositionend",br),an(e,"change",br))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:o}},i){if(e[bo]=yr(i),e.composing)return;const r=o||e.type==="number"?So(e.value):e.value,l=t??"";r!==l&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===l)||(e.value=l))}},$d=["ctrl","shift","alt","meta"],kd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>$d.some(n=>e[`${n}Key`]&&!t.includes(n))},ze=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(o,...i)=>{for(let r=0;r<t.length;r++){const l=kd[t[r]];if(l&&l(o,t))return}return e(o,...i)})},Pd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Go=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const i=sn(o.key);if(t.some(r=>r===i||Pd[r]===i))return e(o)})},Dd=_e({patchProp:xd},rd);let wr;function Rd(){return wr||(wr=Ru(Dd))}const Ld=(...e)=>{const t=Rd().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=Gd(s);if(!o)return;const i=t._component;!Z(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const r=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),r},t};function Gd(e){return ye(e)?document.querySelector(e):e}function Hd(){try{return"constructor"in GestureEvent}catch{return!1}}function aa(){return typeof window<"u"&&"ontouchstart"in window}function ca(e){return"pointerId"in e?null:e.type==="touchend"?e.changedTouches:e.targetTouches}function yi(e){return Array.from(ca(e)).map(t=>t.identifier)}function Ze(e){const t="buttons"in e?e.buttons:0,{shiftKey:n,altKey:s,metaKey:o,ctrlKey:i}=e;return{buttons:t,shiftKey:n,altKey:s,metaKey:o,ctrlKey:i}}const ss=e=>e;function cn(e,t=ss){const n=ca(e),{clientX:s,clientY:o}=n?n[0]:e;return t([s,o])}function Cr(e,t,n=ss){const[s,o]=Array.from(e.touches).filter(p=>t.includes(p.identifier));if(!s||!o)throw Error("The event doesn't have two pointers matching the pointerIds");const i=o.clientX-s.clientX,r=o.clientY-s.clientY,l=(o.clientX+s.clientX)/2,a=(o.clientY+s.clientY)/2,c=Math.hypot(i,r),u=-(Math.atan2(i,r)*180)/Math.PI,h=n([c,u]),d=n([l,a]);return{values:h,origin:d}}function Fd(e,t=ss){const{scrollX:n,scrollY:s,scrollLeft:o,scrollTop:i}=e.currentTarget;return t([n||o||0,s||i||0])}const xr=40,Tr=800;function ua(e,t=ss){let{deltaX:n,deltaY:s,deltaMode:o}=e;return o===1?(n*=xr,s*=xr):o===2&&(n*=Tr,s*=Tr),t([n,s])}function Sr(e,t=ss){return t([e.scale,e.rotation])}function da(){}function fa(...e){return e.length===0?da:e.length===1?e[0]:function(){var t;for(let n of e)t=n.apply(this,arguments)||t;return t}}function Rt(e,t){if(e===void 0){if(t===void 0)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function Er(e,t){return Object.assign({},t,e||{})}function Ls(e,...t){return typeof e=="function"?e(...t):e}function An(e){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:da,canceled:!1,memo:void 0,args:void 0,...e}}function ha(){const e={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},t=An({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),n=An({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),s=An({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),o=An({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=An({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:e,drag:t,pinch:n,wheel:s,move:o,scroll:i}}class Bd{constructor(t){this.classes=t,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=aa(),this.supportsGestureEvents=Hd(),this.bind=(...n)=>{const s={};for(let o of this.classes)new o(this,n).addBindings(s);for(let o in this.nativeRefs)ge(s,o,i=>this.nativeRefs[o]({...this.state.shared,event:i,args:n}));return this.config.domTarget?jd(this,s):Kd(this,s)},this.clean=()=>{const{eventOptions:n,domTarget:s}=this.config,o=T(s);o&&os(o,ga(this.domListeners),n),Object.values(this.timeouts).forEach(clearTimeout),Vd(this)},this.classes=t,this.state=ha(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function pa(e,t){"pointerId"in t?e.pointerIds.add(t.pointerId):e.touchIds=new Set(yi(t))}function ma(e,t){"pointerId"in t?e.pointerIds.delete(t.pointerId):yi(t).forEach(n=>e.touchIds.delete(n))}function Vd(e){const{config:{window:t,eventOptions:n},windowListeners:s}=e,o=T(t);if(o){for(let i in s){const r=s[i];os(o,r,n)}e.windowListeners={}}}function Ud({config:e,windowListeners:t},n,s=e.eventOptions){const o=T(e.window);o&&(os(o,t[n],s),delete t[n])}function Wd({config:e,windowListeners:t},n,s=[],o=e.eventOptions){const i=T(e.window);i&&(os(i,t[n],o),va(i,t[n]=s,o))}function jd({config:e,domListeners:t},n){const{eventOptions:s,domTarget:o}=e,i=T(o);if(!i)throw new Error("domTarget must be defined");os(i,ga(t),s);for(let[r,l]of Object.entries(n)){const a=r.slice(2).toLowerCase();t.push([a,fa(...l)])}va(i,t,s)}function Kd({config:e},t){const n={},s=e.eventOptions.capture?"Capture":"";for(let[o,i]of Object.entries(t)){const r=Array.isArray(i)?i:[i],l=o+s;n[l]=fa(...r)}return n}function ga(e=[]){return e.splice(0,e.length)}function ge(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function va(e,t=[],n={}){if(e)for(let[s,o]of t)e.addEventListener(s,o,n)}function os(e,t=[],n={}){if(e)for(let[s,o]of t)e.removeEventListener(s,o,n)}function Gs(e,t){return e.map((n,s)=>n+t[s])}function bi(e,t){return e.map((n,s)=>n-t[s])}function Xn(e){return Math.hypot(...e)}function _a(e,t=e){const n=Xn(t),s=n===0?0:1/n,o=t.map(r=>s*r);return{distance:Xn(e),direction:o}}function ya(e,t,n){const s=Xn(t),o=s===0?0:1/s,i=n===0?0:1/n,r=i*s,l=t.map(u=>i*u),a=t.map(u=>o*u),c=Xn(e);return{velocities:l,velocity:r,distance:c,direction:a}}function Hs(e){return Math.sign?Math.sign(e):+(e>0)-+(e<0)||+e}function zd(e,t,n){return Math.max(t,Math.min(e,n))}function Yd(e,t){return Math.pow(e,t*5)}function Ir(e,t,n){return t===0||Math.abs(t)===1/0?Yd(e,n):e*t*n/(t+n*e)}function Mr(e,t,n,s=.15){return s===0?zd(e,t,n):e<t?-Ir(t-e,n-t,s)+t:e>n?+Ir(e-n,n-t,s)+n:e}const Qe=new Map,qd=e=>e;class ba{constructor(t,n=[]){this.controller=t,this.args=n,this.debounced=!0,this.setTimeout=(s,o=140,...i)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(s,o,...i)},this.clearTimeout=()=>{clearTimeout(this.controller.timeouts[this.stateKey])},this.fireGestureHandler=(s=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!s&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const a=this.state.active,c=this.state._active;this.state.active=c,this.state.first=c&&!a,this.state.last=a&&!c,this.controller.state.shared[this.ingKey]=c}const o=this.controller.pointerIds.size||this.controller.touchIds.size,i=this.controller.state.shared.buttons>0||o>0,r={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:o,down:i},l=this.handler(r);return this.state.memo=l!==void 0?l:this.state.memo,r},this.controller=t,this.args=n}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||qd}updateSharedState(t){Object.assign(this.controller.state.shared,t)}updateGestureState(t){Object.assign(this.state,t)}checkIntentionality(t,n){return{_intentional:t,_blocked:!1}}getMovement(t){const{rubberband:n,threshold:s}=this.config,{_bounds:o,_initial:i,_active:r,_intentional:l,lastOffset:a,movement:c}=this.state,u=this.getInternalMovement(t,this.state),h=this.transform(s).map(Math.abs),d=l[0]===!1?Nr(u[0],h[0]):l[0],p=l[1]===!1?Nr(u[1],h[1]):l[1],g=this.checkIntentionality([d,p],u);if(g._blocked)return{...g,_movement:u,delta:[0,0]};const v=g._intentional,w=u;let $=[v[0]!==!1?u[0]-v[0]:0,v[1]!==!1?u[1]-v[1]:0];const E=Gs($,a),V=r?n:[0,0];return $=Or(o,Gs($,i),V),{...g,intentional:v[0]!==!1||v[1]!==!1,_initial:i,_movement:w,movement:$,values:t,offset:Or(o,E,V),delta:bi($,c)}}clean(){this.clearTimeout()}}function Nr(e,t){return Math.abs(e)>=t?Hs(e)*t:!1}function Or(e,[t,n],[s,o]){const[[i,r],[l,a]]=e;return[Mr(t,i,r,s),Mr(n,l,a,o)]}function we({state:e},t,n){const{timeStamp:s,type:o}=t,i=e.values,r=n?0:s-e.startTime;return{_lastEventType:o,event:t,timeStamp:s,elapsedTime:r,previous:i}}function Zt({state:e,config:t,stateKey:n,args:s},o,i){const r=e.offset,l=i.timeStamp,{initial:a,bounds:c}=t,u={...ha()[n],_active:!0,args:s,values:o,initial:o,offset:r,lastOffset:r,startTime:l};return{...u,_initial:Ls(a,u),_bounds:Ls(c,u)}}class oo extends ba{getInternalMovement(t,n){return bi(t,n.initial)}checkIntentionality(t,n){if(t[0]===!1&&t[1]===!1)return{_intentional:t,axis:this.state.axis};const[s,o]=n.map(Math.abs),i=this.state.axis||(s>o?"x":s<o?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:t,_blocked:!1,axis:i}:i?this.config.axis&&i!==this.config.axis?{_intentional:t,_blocked:!0,axis:i}:(t[i==="x"?1:0]=!1,{_intentional:t,_blocked:!1,axis:i}):{_intentional:[!1,!1],_blocked:!1,axis:i}}getKinematics(t,n){const s=this.getMovement(t);if(!s._blocked){const o=n.timeStamp-this.state.timeStamp;Object.assign(s,ya(s.movement,s.delta,o))}return s}mapStateValues(t){return{xy:t.values,vxvy:t.velocities}}}const Xd=3;function Ar(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}class Jd extends oo{constructor(){super(...arguments),this.ingKey="dragging",this.stateKey="drag",this.setPointerCapture=t=>{if(this.config.useTouch||document.pointerLockElement)return;const{target:n,pointerId:s}=t;n&&"setPointerCapture"in n&&n.setPointerCapture(s),this.updateGestureState({_dragTarget:n,_dragPointerId:s})},this.releasePointerCapture=()=>{if(this.config.useTouch||document.pointerLockElement)return;const{_dragTarget:t,_dragPointerId:n}=this.state;if(n&&t&&"releasePointerCapture"in t&&(!("hasPointerCapture"in t)||t.hasPointerCapture(n)))try{t.releasePointerCapture(n)}catch{}},this.preventScroll=t=>{this.state._dragPreventScroll&&t.cancelable&&t.preventDefault()},this.getEventId=t=>this.config.useTouch?t.changedTouches[0].identifier:t.pointerId,this.isValidEvent=t=>this.state._pointerId===this.getEventId(t),this.shouldPreventWindowScrollY=this.config.preventWindowScrollY&&this.controller.supportsTouchEvents,this.setUpWindowScrollDetection=t=>{Ar(t),Wd(this.controller,this.stateKey,[["touchmove",this.preventScroll],["touchend",this.clean.bind(this)],["touchcancel",this.clean.bind(this)]],{passive:!1}),this.setTimeout(this.startDrag.bind(this),250,t)},this.setUpDelayedDragTrigger=t=>{this.state._dragDelayed=!0,Ar(t),this.setTimeout(this.startDrag.bind(this),this.config.delay,t)},this.setStartState=t=>{const n=cn(t,this.transform);this.updateSharedState(Ze(t)),this.updateGestureState({...Zt(this,n,t),...we(this,t,!0),_pointerId:this.getEventId(t)}),this.updateGestureState(this.getMovement(n))},this.onDragStart=t=>{pa(this.controller,t),!(!this.enabled||this.state._active)&&(this.setStartState(t),this.setPointerCapture(t),this.shouldPreventWindowScrollY?this.setUpWindowScrollDetection(t):this.config.delay>0?this.setUpDelayedDragTrigger(t):this.startDrag(t,!0))},this.onDragChange=t=>{if(this.state.canceled||!this.state._active||!this.isValidEvent(t)||this.state._lastEventType===t.type&&t.timeStamp===this.state.timeStamp)return;let n;if(document.pointerLockElement){const{movementX:a,movementY:c}=t;n=Gs(this.transform([a,c]),this.state.values)}else n=cn(t,this.transform);const s=this.getKinematics(n,t);if(!this.state._dragStarted){if(this.state._dragDelayed){this.startDrag(t);return}if(this.shouldPreventWindowScrollY)if(!this.state._dragPreventScroll&&s.axis)if(s.axis==="x")this.startDrag(t);else{this.state._active=!1;return}else return;else return}const o=Ze(t);this.updateSharedState(o);const i=we(this,t),r=Xn(s._movement);let{_dragIsTap:l}=this.state;l&&r>=Xd&&(l=!1),this.updateGestureState({...i,...s,_dragIsTap:l}),this.fireGestureHandler()},this.onDragEnd=t=>{if(ma(this.controller,t),!this.isValidEvent(t)||(this.clean(),!this.state._active))return;this.state._active=!1;const n=this.state._dragIsTap,[s,o]=this.state.velocities,[i,r]=this.state.movement,[l,a]=this.state._intentional,[c,u]=this.config.swipeVelocity,[h,d]=this.config.swipeDistance,p=this.config.swipeDuration,g={...we(this,t),...this.getMovement(this.state.values)},v=[0,0];g.elapsedTime<p&&(l!==!1&&Math.abs(s)>c&&Math.abs(i)>h&&(v[0]=Hs(s)),a!==!1&&Math.abs(o)>u&&Math.abs(r)>d&&(v[1]=Hs(o))),this.updateSharedState({buttons:0}),this.updateGestureState({...g,tap:n,swipe:v}),this.fireGestureHandler(this.config.filterTaps&&n===!0)},this.clean=()=>{super.clean(),this.state._dragStarted=!1,this.releasePointerCapture(),Ud(this.controller,this.stateKey)},this.onCancel=()=>{this.state.canceled||(this.updateGestureState({canceled:!0,_active:!1}),this.updateSharedState({buttons:0}),Mt(this.fireGestureHandler))},this.onClick=t=>{this.state._dragIsTap||t.stopPropagation()}}startDrag(t,n=!1){!this.state._active||this.state._dragStarted||(n||this.setStartState(t),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())}addBindings(t){if(this.config.useTouch?(ge(t,"onTouchStart",this.onDragStart),ge(t,"onTouchMove",this.onDragChange),ge(t,"onTouchEnd",this.onDragEnd),ge(t,"onTouchCancel",this.onDragEnd)):(ge(t,"onPointerDown",this.onDragStart),ge(t,"onPointerMove",this.onDragChange),ge(t,"onPointerUp",this.onDragEnd),ge(t,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){const n=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";ge(t,n,this.onClick)}}}function is(e={},t){const n={};for(const[s,o]of Object.entries(t))switch(typeof o){case"function":n[s]=o.call(n,e[s],s,e);break;case"object":n[s]=is(e[s],o);break;case"boolean":o&&(n[s]=e[s]);break}return n}const Zd=180,Qd=.15,ef=.5,tf=50,nf=250,wa={threshold(e=0){return Rt(e)},rubberband(e=0){switch(e){case!0:return Rt(Qd);case!1:return Rt(0);default:return Rt(e)}},enabled(e=!0){return e},triggerAllEvents(e=!1){return e},initial(e=0){return typeof e=="function"?e:Rt(e)},transform:!0},wi={...wa,axis:!0,lockDirection(e=!1){return e},bounds(e={}){if(typeof e=="function")return i=>wi.bounds(e(i));const{left:t=-1/0,right:n=1/0,top:s=-1/0,bottom:o=1/0}=e;return[[t,n],[s,o]]}},sf=typeof window<"u"&&window.document&&window.document.createElement,of={enabled(e=!0){return e},domTarget:!0,window(e=sf?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform:!0},rf={...wa,bounds(e,t,{distanceBounds:n={},angleBounds:s={}}){const o=r=>{const l=Er(Ls(n,r),{min:-1/0,max:1/0});return[l.min,l.max]},i=r=>{const l=Er(Ls(s,r),{min:-1/0,max:1/0});return[l.min,l.max]};return typeof n!="function"&&typeof s!="function"?[o(),i()]:r=>[o(r),i(r)]}},lf={...wi,useTouch(e=!0){return e&&aa()},preventWindowScrollY(e=!1){return e},threshold(e,t,{filterTaps:n=!1,lockDirection:s=!1,axis:o=void 0}){const i=Rt(e,n?3:s||o?1:0);return this.filterTaps=n,i},swipeVelocity(e=ef){return Rt(e)},swipeDistance(e=tf){return Rt(e)},swipeDuration(e=nf){return e},delay(e=0){switch(e){case!0:return Zd;case!1:return 0;default:return e}}};function af(e){return is(e,of)}function wo(e={}){return is(e,wi)}function cf(e={}){return is(e,rf)}function uf(e={}){return is(e,lf)}function df(e,t=new Set){const{drag:n,wheel:s,move:o,scroll:i,pinch:r,hover:l,eventOptions:a,window:c,transform:u,domTarget:h,enabled:d}=e,p=af({domTarget:h,eventOptions:a,transform:u,window:c,enabled:d});return t.has("onDrag")&&(p.drag=uf(n)),t.has("onWheel")&&(p.wheel=wo(s)),t.has("onScroll")&&(p.scroll=wo(i)),t.has("onMove")&&(p.move=wo(o)),t.has("onPinch")&&(p.pinch=cf(r)),t.has("onHover")&&(p.hover={enabled:!0,...l}),p}function ff(e,t,n={}){const s=hf(e),o=new Bd(s);return o.config=t,o.handlers=e,o.nativeRefs=n,ns()&&!t.manual&&(Bt(o.bind),di(o.clean)),o}function hf(e){const t=new Set;return e.drag&&t.add(Qe.get("drag")),e.wheel&&t.add(Qe.get("wheel")),e.scroll&&t.add(Qe.get("scroll")),e.move&&t.add(Qe.get("move")),e.pinch&&t.add(Qe.get("pinch")),e.hover&&t.add(Qe.get("hover")),t}class $r extends oo{constructor(){super(...arguments),this.ingKey="moving",this.stateKey="move",this.debounced=!0,this.onMove=t=>{this.enabled&&(this.setTimeout(this.onMoveEnd),this.state._active?this.onMoveChange(t):this.onMoveStart(t))},this.onMoveStart=t=>{this.updateSharedState(Ze(t));const n=cn(t,this.transform);this.updateGestureState({...Zt(this,n,t),...we(this,t,!0)}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()},this.onMoveChange=t=>{this.updateSharedState(Ze(t));const n=cn(t,this.transform);this.updateGestureState({...we(this,t),...this.getKinematics(n,t)}),this.fireGestureHandler()},this.onMoveEnd=()=>{if(this.clean(),!this.state._active)return;const t=this.state.values;this.updateGestureState(this.getMovement(t)),this.updateGestureState({velocities:[0,0],velocity:0,_active:!1}),this.fireGestureHandler()},this.hoverTransform=()=>this.controller.config.hover.transform||this.controller.config.transform,this.onPointerEnter=t=>{if(this.controller.state.shared.hovering=!0,!!this.controller.config.enabled){if(this.controller.config.hover.enabled){const n=cn(t,this.hoverTransform()),s={...this.controller.state.shared,...this.state,...we(this,t,!0),args:this.args,values:n,active:!0,hovering:!0};this.controller.handlers.hover({...s,...this.mapStateValues(s)})}"move"in this.controller.handlers&&this.onMoveStart(t)}},this.onPointerLeave=t=>{if(this.controller.state.shared.hovering=!1,"move"in this.controller.handlers&&this.onMoveEnd(),!this.controller.config.hover.enabled)return;const n=cn(t,this.hoverTransform()),s={...this.controller.state.shared,...this.state,...we(this,t),args:this.args,values:n,active:!1};this.controller.handlers.hover({...s,...this.mapStateValues(s)})}}addBindings(t){"move"in this.controller.handlers&&ge(t,"onPointerMove",this.onMove),"hover"in this.controller.handlers&&(ge(t,"onPointerEnter",this.onPointerEnter),ge(t,"onPointerLeave",this.onPointerLeave))}}class pf extends ba{getInternalMovement(t,n){const s=n.values[1];let[o,i=s]=t,r=i-s,l=n.turns;return Math.abs(r)>270&&(l+=Hs(r)),bi([o,i-360*l],n.initial)}getKinematics(t,n){const s=this.getMovement(t),o=(t[1]-s._movement[1]-this.state.initial[1])/360,i=n.timeStamp-this.state.timeStamp,{distance:r,velocity:l,...a}=ya(s.movement,s.delta,i);return{turns:o,...s,...a}}mapStateValues(t){return{da:t.values,vdva:t.velocities}}}const mf=7,gf=260;class vf extends pf{constructor(){super(...arguments),this.ingKey="pinching",this.stateKey="pinch",this.onPinchStart=t=>{pa(this.controller,t);const n=this.controller.touchIds;if(!this.enabled||this.state._active&&this.state._pointerIds.every(r=>n.has(r))||n.size<2)return;const s=Array.from(n).slice(0,2),{values:o,origin:i}=Cr(t,s,this.transform);this.updateSharedState(Ze(t)),this.updateGestureState({...Zt(this,o,t),...we(this,t,!0),_pointerIds:s,cancel:this.onCancel,origin:i}),this.updateGestureState(this.getMovement(o)),this.fireGestureHandler()},this.onPinchChange=t=>{const{canceled:n,_active:s}=this.state;if(n||!s||t.timeStamp===this.state.timeStamp)return;const o=Ze(t);this.updateSharedState(o);try{const{values:i,origin:r}=Cr(t,this.state._pointerIds,this.transform),l=this.getKinematics(i,t);this.updateGestureState({...we(this,t),...l,origin:r}),this.fireGestureHandler()}catch{this.onPinchEnd(t)}},this.onPinchEnd=t=>{ma(this.controller,t);const n=yi(t);this.state._pointerIds.every(s=>!n.includes(s))||(this.clean(),this.state._active&&(this.updateGestureState({...we(this,t),...this.getMovement(this.state.values),_active:!1}),this.fireGestureHandler()))},this.onCancel=()=>{this.state.canceled||(this.updateGestureState({_active:!1,canceled:!0}),this.fireGestureHandler())},this.onGestureStart=t=>{if(!this.enabled)return;t.preventDefault();const n=Sr(t,this.transform);this.updateSharedState(Ze(t)),this.updateGestureState({...Zt(this,n,t),...we(this,t,!0),origin:[t.clientX,t.clientY],cancel:this.onCancel}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()},this.onGestureChange=t=>{const{canceled:n,_active:s}=this.state;if(n||!s)return;t.preventDefault();const o=Ze(t);this.updateSharedState(o);const i=Sr(t,this.transform);i[0]=(i[0]-this.state.event.scale)*gf+this.state.values[0];const r=this.getKinematics(i,t);this.updateGestureState({...we(this,t),...r,origin:[t.clientX,t.clientY]}),this.fireGestureHandler()},this.onGestureEnd=t=>{this.clean(),this.state._active&&(this.updateGestureState({...we(this,t),...this.getMovement(this.state.values),_active:!1,origin:[t.clientX,t.clientY]}),this.fireGestureHandler())},this.wheelShouldRun=t=>this.enabled&&t.ctrlKey,this.getWheelValuesFromEvent=t=>{const[,n]=ua(t,this.transform),{values:[s,o]}=this.state;return{values:[s-n*mf,o!==void 0?o:0],origin:[t.clientX,t.clientY],delta:[0,n]}},this.onWheel=t=>{this.wheelShouldRun(t)&&(this.setTimeout(this.onWheelEnd),this.state._active?this.onWheelChange(t):this.onWheelStart(t))},this.onWheelStart=t=>{const{values:n,delta:s,origin:o}=this.getWheelValuesFromEvent(t);t.cancelable&&t.preventDefault(),this.updateSharedState(Ze(t)),this.updateGestureState({...Zt(this,n,t),...we(this,t,!0),initial:this.state.values,offset:n,delta:s,origin:o}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()},this.onWheelChange=t=>{t.cancelable&&t.preventDefault(),this.updateSharedState(Ze(t));const{values:n,origin:s,delta:o}=this.getWheelValuesFromEvent(t);this.updateGestureState({...we(this,t),...this.getKinematics(n,t),origin:s,delta:o}),this.fireGestureHandler()},this.onWheelEnd=()=>{this.clean(),this.state._active&&(this.state._active=!1,this.updateGestureState(this.getMovement(this.state.values)),this.fireGestureHandler())}}addBindings(t){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(ge(t,"onGestureStart",this.onGestureStart),ge(t,"onGestureChange",this.onGestureChange),ge(t,"onGestureEnd",this.onGestureEnd)):(ge(t,"onTouchStart",this.onPinchStart),ge(t,"onTouchMove",this.onPinchChange),ge(t,"onTouchEnd",this.onPinchEnd),ge(t,"onTouchCancel",this.onPinchEnd),ge(t,"onWheel",this.onWheel))}}class _f extends oo{constructor(){super(...arguments),this.ingKey="scrolling",this.stateKey="scroll",this.debounced=!0,this.handleEvent=t=>{if(!this.enabled)return;this.clearTimeout(),this.setTimeout(this.onEnd);const n=Fd(t,this.transform);if(this.updateSharedState(Ze(t)),this.state._active)this.updateGestureState({...we(this,t),...this.getKinematics(n,t)});else{this.updateGestureState({...Zt(this,n,t),...we(this,t,!0),initial:this.state.values});const s=this.getMovement(n),o=_a(s.delta);this.updateGestureState(s),this.updateGestureState(o)}this.fireGestureHandler()},this.onEnd=()=>{this.clean(),this.state._active&&(this.updateGestureState({...this.getMovement(this.state.values),_active:!1,velocities:[0,0],velocity:0}),this.fireGestureHandler())}}addBindings(t){ge(t,"onScroll",this.handleEvent)}}class yf extends oo{constructor(){super(...arguments),this.ingKey="wheeling",this.stateKey="wheel",this.debounced=!0,this.handleEvent=t=>{if(t.ctrlKey&&"pinch"in this.controller.handlers||!this.enabled)return;this.setTimeout(this.onEnd),this.updateSharedState(Ze(t));const n=Gs(ua(t,this.transform),this.state.values);if(this.state._active)this.updateGestureState({...we(this,t),...this.getKinematics(n,t)});else{this.updateGestureState({...Zt(this,n,t),...we(this,t,!0),initial:this.state.values});const s=this.getMovement(n),o=_a(s.delta);this.updateGestureState(s),this.updateGestureState(o)}this.fireGestureHandler()},this.onEnd=()=>{if(this.clean(),!this.state._active)return;const t=this.getMovement(this.state.values);this.updateGestureState(t),this.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),this.fireGestureHandler()}}addBindings(t){ge(t,"onWheel",this.handleEvent)}}const bf=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function wf(e){const t={},n={},s=new Set;for(let o in e)bf.test(o)?(s.add(RegExp.lastMatch),n[o]=e[o]):t[o]=e[o];return[n,t,s]}function gn(e,t){const[n,s,o]=wf(e);Qe.set("drag",Jd),Qe.set("hover",$r),Qe.set("move",$r),Qe.set("pinch",vf),Qe.set("scroll",_f),Qe.set("wheel",yf);const i=df(t,o),r={};return o.has("onDrag")&&(r.drag=$n(n,"onDrag")),o.has("onWheel")&&(r.wheel=$n(n,"onWheel")),o.has("onScroll")&&(r.scroll=$n(n,"onScroll")),o.has("onMove")&&(r.move=$n(n,"onMove")),o.has("onPinch")&&(r.pinch=$n(n,"onPinch")),o.has("onHover")&&(r.hover=n.onHover),ff(r,i,s)}function $n(e,t){const n=t+"Start",s=t+"End";return i=>{let r;return i.first&&n in e&&e[n](i),t in e&&(r=e[t](i)),i.last&&s in e&&e[s](i),r}}function Cf(e){return Zo()?(ul(e),!0):!1}function rt(e){return typeof e=="function"?e():T(e)}const xf=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Tf=Object.prototype.toString,Sf=e=>Tf.call(e)==="[object Object]",Co=(e,t,n)=>Math.min(n,Math.max(t,e)),Ho=()=>{};function Ef(e,t){function n(...s){return new Promise((o,i)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(o).catch(i)})}return n}const Ca=e=>e();function If(e,t=!0,n=!0,s=!1){let o=0,i,r=!0,l=Ho,a;const c=()=>{i&&(clearTimeout(i),i=void 0,l(),l=Ho)};return h=>{const d=rt(e),p=Date.now()-o,g=()=>a=h();return c(),d<=0?(o=Date.now(),g()):(p>d&&(n||!r)?(o=Date.now(),g()):t&&(a=new Promise((v,w)=>{l=s?w:v,i=setTimeout(()=>{o=Date.now(),r=!0,v(g()),c()},Math.max(0,d-p))})),!n&&!i&&(i=setTimeout(()=>r=!0,d)),r=!1,a)}}function Mf(e=Ca){const t=L(!0);function n(){t.value=!1}function s(){t.value=!0}const o=(...i)=>{t.value&&e(...i)};return{isActive:ni(t),pause:n,resume:s,eventFilter:o}}function Nf(e){return e||ns()}function xa(e,t,n={}){const{eventFilter:s=Ca,...o}=n;return ve(e,Ef(s,t),o)}function Ta(e,t,n={}){const{eventFilter:s,...o}=n,{eventFilter:i,pause:r,resume:l,isActive:a}=Mf(s);return{stop:xa(e,t,{...o,eventFilter:i}),pause:r,resume:l,isActive:a}}function Of(e,t=!0,n){const s=Nf(n);s?Bt(e,s):t?e():Mt(e)}function Af(e,t,n){const s=ve(e,(...o)=>(Mt(()=>s()),t(...o)),n);return s}function $f(e,t,n={}){const{throttle:s=0,trailing:o=!0,leading:i=!0,...r}=n;return xa(e,t,{...r,eventFilter:If(s,o,i)})}function kf(e){var t;const n=rt(e);return(t=n?.$el)!=null?t:n}const Fo=xf?window:void 0;function kr(...e){let t,n,s,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,o]=e,t=Fo):[t,n,s,o]=e,!t)return Ho;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const i=[],r=()=>{i.forEach(u=>u()),i.length=0},l=(u,h,d,p)=>(u.addEventListener(h,d,p),()=>u.removeEventListener(h,d,p)),a=ve(()=>[kf(t),rt(o)],([u,h])=>{if(r(),!u)return;const d=Sf(h)?{...h}:h;i.push(...n.flatMap(p=>s.map(g=>l(u,p,g,d))))},{immediate:!0,flush:"post"}),c=()=>{a(),r()};return Cf(c),c}const ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gs="__vueuse_ssr_handlers__",Pf=Df();function Df(){return gs in ms||(ms[gs]=ms[gs]||{}),ms[gs]}function Rf(e,t){return Pf[e]||t}function Lf(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Gf={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Pr="vueuse-storage";function xo(e,t,n,s={}){var o;const{flush:i="pre",deep:r=!0,listenToStorageChanges:l=!0,writeDefaults:a=!0,mergeDefaults:c=!1,shallow:u,window:h=Fo,eventFilter:d,onError:p=_=>{console.error(_)},initOnMounted:g}=s,v=(u?Bc:L)(typeof t=="function"?t():t);if(!n)try{n=Rf("getDefaultStorage",()=>{var _;return(_=Fo)==null?void 0:_.localStorage})()}catch(_){p(_)}if(!n)return v;const w=rt(t),$=Lf(w),E=(o=s.serializer)!=null?o:Gf[$],{pause:V,resume:P}=Ta(v,()=>j(v.value),{flush:i,deep:r,eventFilter:d});return h&&l&&Of(()=>{kr(h,"storage",H),kr(h,Pr,O),g&&H()}),g||H(),v;function j(_){try{if(_==null)n.removeItem(e);else{const k=E.write(_),R=n.getItem(e);R!==k&&(n.setItem(e,k),h&&h.dispatchEvent(new CustomEvent(Pr,{detail:{key:e,oldValue:R,newValue:k,storageArea:n}})))}}catch(k){p(k)}}function F(_){const k=_?_.newValue:n.getItem(e);if(k==null)return a&&w!=null&&n.setItem(e,E.write(w)),w;if(!_&&c){const R=E.read(k);return typeof c=="function"?c(R,w):$==="object"&&!Array.isArray(R)?{...w,...R}:R}else return typeof k!="string"?k:E.read(k)}function O(_){H(_.detail)}function H(_){if(!(_&&_.storageArea!==n)){if(_&&_.key==null){v.value=w;return}if(!(_&&_.key!==e)){V();try{_?.newValue!==E.write(v.value)&&(v.value=F(_))}catch(k){p(k)}finally{_?Mt(P):P()}}}}}function Dr(e,t,n){if(typeof e=="function"||tn(e))return W(()=>Co(rt(e),rt(t),rt(n)));const s=L(e);return W({get(){return s.value=Co(s.value,rt(t),rt(n))},set(o){s.value=Co(o,rt(t),rt(n))}})}function Ci(){const e=Pe({h:xo("hue",70),s:Dr(xo("sat",70),0,100),v:Dr(xo("val",70),0,100)}),t=W(()=>`hsl(${e.h%360}deg,${e.s}%,${e.v/2}%)`),n=W(()=>[e.h%360/360*255,e.s/100*255,e.v/100*255].map(Math.floor));return ve(()=>e.h,s=>{e.h=s>360?0:s<0?360:s}),{color:e,hsl:t,bytes:n}}function Hf(e=0,t=0,n=1,s=1){return t===void 0&&(t=Math.floor(e/12)+4),`hsla(${e%12*30},${n*100}%,${Math.abs(t+2)*8}%,${s})`}function Ff(e){return Hf(Bf(e),3)}function Bf(e,t=440){return 12*(Math.log(Number(e)/t)/Math.log(2))}const Vf={namePrefix:"PBSaber"},Uf={state:{service:"73621000-1fb5-459e-8fcc-c5c9c331914b",characteristic:"73621100-1fb5-459e-8fcc-c5c9c331914b"},midi:{service:"03b80e5a-ede8-4b33-a751-6ce34ec4c700",characteristic:"7772e5db-3868-4112-a1a9-f2669d106bf3"},config:{service:"73620000-1fb5-459e-8fcc-c5c9c331914b",characteristic:"73620100-1fb5-459e-8fcc-c5c9c331914b"}},un={device:Vf,services:Uf},fe={MSG_REQUESTPARAM:240,MSG_LIGHTSABER_STATE:1,MSG_LIGHTSABER_STATE_ALL:2,MSG_LIGHTSABER_STATE_CALIBIMU:3,MSG_LIGHTSABER_CONFIG:160,MSG_LIGHTSABER_CONFIG_ALL:176,MSG_LIGHTSABER_CONFIG_SABREMODE:161,MSG_LIGHTSABER_CONFIG_LEDS:162,MSG_LIGHTSABER_CONFIG_GESTURE:163,MSG_LIGHTSABER_CONFIG_AUDIO:164,MSG_LIGHTSABER_CONFIG_MIDI:165,MSG_LIGHTSABER_CONFIG_HUM:166,MSG_LIGHTSABER_CONFIG_WIFI:167,MSG_LIGHTSABER_CONFIG_BLE:168};function Wf(e,t){return Object.keys(e)?.[Object.values(e).indexOf(t)]||"UNKNOWN"}const jf={LIGHT_OFF:0,LIGHT_ON:1,LIGHT_TRANSITION_ON:2,LIGHT_TRANSITION_OFF:3},Sa={MODE_LIGHTSABER:0,MODE_POV:1,MODE_MIDI:2,MODE_PERFORMANCE:3,size:1},Kf={HANDEDNESS_RIGHT:0,HANDEDNESS_LEFT:1,size:1};function io(e,t){const n=new Uint8Array(t+2);return zf(e,t,n),n}function zf(e,t,n){n[0]=128,n[1]=128;for(let r=0;r<t;r++)n[r+2]=e[r];console.log("Sending: ",n)}function Yf(e){return(e[0]&63)<<7}function qf(e,t,n){return e&8064|t[n]&127}function Ea(e){return e.length<3?(console.log("Invalid packet (size < 3)"),!1):!(e[0]&128)||!(e[1]&128)?(console.log("Invalid packet"),!1):!0}function To(e,t,n=!0){let s=n?e[t+1]<<8|e[t]:e[t]<<8|e[t+1];return s&32768&&(s|=4294901760),s}function Ue(e,t,n=!0){return n?e[t+1]<<8|e[t]:e[t]<<8|e[t+1]}function Xe(e,t,n=!0){let s=n?e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]:e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return s&2147483648&&(s|=0xffffffff00000000),s}function kn(e,t,n){return e[t]>>n&1}function vs(e,t,n=!0){let s=new ArrayBuffer(4),o=new DataView(s);return o.setUint8(0,e[t]),o.setUint8(1,e[t+1]),o.setUint8(2,e[t+2]),o.setUint8(3,e[t+3]),o.getFloat32(0,n)}function Rr(e,t,n){let s="";for(let o=0;o<n;o++)s+=String.fromCharCode(e[t+o]);return s}function _s(e,t,n){new DataView(t.buffer).setFloat32(n,e,!0)}function je(e,t,n){new DataView(t.buffer).setUint16(n,e,!0)}function Je(e,t,n){new DataView(t.buffer).setInt32(n,e,!0)}function $t(e,t){return JSON.stringify(e)===JSON.stringify(t)}const Xf={handedness:Kf.HANDEDNESS_RIGHT,twist_threshold:0,noswing_threshold:0,stab_max_rad:0,clash_threshold:.1,cal_acc_bias:[0,0,0],cal_gyro_bias:[0,0,0],cal_mag_bias:[0,0,0],cal_mag_scale:[0,0,0],size:65},Jf={lightOnVolumePCT:50,lightOffVolumePCT:50,actionVolumePCT:50,size:3},Zf={humSynthesizer:0,humVolumePCT:80,hum1Freq:74,hum2Freq:92,hum3Freq:278,hum4Freq:370,hum5Freq:462,hum1VolumePCT:25,hum2VolumePCT:66,hum3VolumePCT:35,hum4VolumePCT:20,hum5VolumePCT:16,size:17},Qf={midiVolumePCT:100,midiNoteWidthPCT:20,midiNoteSpeedPCT:50,attackTimeMs:50,decayTimeMs:50,sustainTimeMs:5,sustainLevelPCT:50,releaseTimeMs:500,lpfCutOffFreq:1150,echoDelayMs:50,echoDecayPCT:50,size:17},eh={brightness_max:80,baseColor:[200,255,255],size:4},th={ssid:"00000000000000000000000000000000",password:"00000000000000000000000000000000",size:64},nh={statesSenderInterval:100,size:2},sh={signature:0,size:2},oh={mode:Sa.MODE_LIGHTSABER,size:1},It=Pe({sabreMode:oh,leds:eh,gesture:Xf,audio:Jf,hum:Zf,midi:Qf,wifi:th,ble:nh,signature:sh});It.size=Object.values(It).reduce((e,t)=>e+t.size,0);const Ia=L(),Ma=L(),Ct=L(),xi=L(!1);let bt=structuredClone(te(It));ve(Ma,async e=>{ih(),Object.assign(It,ah(e)),await Mt(),rh()});const{stop:Kv,pause:ih,resume:rh}=Ta(It,e=>{console.log("config changed "+xi.value),$t(e.sabreMode,bt.sabreMode)||(Ct.value=xt(fe.MSG_LIGHTSABER_CONFIG_SABREMODE)),$t(e.leds,bt.leds)||(Ct.value=xt(fe.MSG_LIGHTSABER_CONFIG_LEDS)),$t(e.gesture,bt.gesture)||(Ct.value=xt(fe.MSG_LIGHTSABER_CONFIG_GESTURE)),$t(e.audio,bt.audio)||(Ct.value=xt(fe.MSG_LIGHTSABER_CONFIG_AUDIO)),$t(e.midi,bt.midi)||(Ct.value=xt(fe.MSG_LIGHTSABER_CONFIG_MIDI)),$t(e.hum,bt.hum)||(Ct.value=xt(fe.MSG_LIGHTSABER_CONFIG_HUM)),$t(e.wifi,bt.wifi)||(Ct.value=xt(fe.MSG_LIGHTSABER_CONFIG_WIFI)),$t(e.ble,bt.ble)||(Ct.value=xt(fe.MSG_LIGHTSABER_CONFIG_BLE)),bt=structuredClone(te(e))},{deep:!0});function rs(){return{config:It,inConfig:Ma,outConfig:Ct,timestamp:Ia,sendConfig:xt,readConfig:lh,configReady:xi}}function lh(){const e=new Uint8Array(2);return e[0]=fe.MSG_REQUESTPARAM,e[1]=fe.MSG_LIGHTSABER_CONFIG_ALL,console.log("config request"),io(e,2)}function ah(e){if(!Ea(e))return;const t={...It};let n=Yf(e),s=1;for(;s<e.length;){e[s]&128&&(n=qf(n,e,s),s++),Ia.value=n;let o=e[s];if(s++,o===0)return;if(o==fe.MSG_LIGHTSABER_CONFIG_ALL){let i=ch(e,s);Object.assign(t,i.cfg),s=i.ptr,xi.value=!0}}return console.log(t),t}function ch(e,t){let n={...It};return n.sabreMode.mode=e[t],t++,n.leds.brightness_max=e[t],t++,n.leds.baseColor[0]=e[t],t++,n.leds.baseColor[1]=e[t],t++,n.leds.baseColor[2]=e[t],t++,n.gesture.handedness=e[t],t++,n.gesture.twist_threshold=vs(e,t),t+=4,n.gesture.noswing_threshold=vs(e,t),t+=4,n.gesture.stab_max_rad=vs(e,t),t+=4,n.gesture.clash_threshold=vs(e,t),t+=4,n.gesture.cal_acc_bias[0]=Xe(e,t),t+=4,n.gesture.cal_acc_bias[1]=Xe(e,t),t+=4,n.gesture.cal_acc_bias[2]=Xe(e,t),t+=4,n.gesture.cal_gyro_bias[0]=Xe(e,t),t+=4,n.gesture.cal_gyro_bias[1]=Xe(e,t),t+=4,n.gesture.cal_gyro_bias[2]=Xe(e,t),t+=4,n.gesture.cal_mag_bias[0]=Xe(e,t),t+=4,n.gesture.cal_mag_bias[1]=Xe(e,t),t+=4,n.gesture.cal_mag_bias[2]=Xe(e,t),t+=4,n.gesture.cal_mag_scale[0]=Xe(e,t),t+=4,n.gesture.cal_mag_scale[1]=Xe(e,t),t+=4,n.gesture.cal_mag_scale[2]=Xe(e,t),t+=4,n.audio.lightOnVolumePCT=e[t],t++,n.audio.lightOffVolumePCT=e[t],t++,n.audio.actionVolumePCT=e[t],t++,n.midi.midiVolumePCT=e[t],t++,n.midi.midiNoteWidthPCT=e[t],t++,n.midi.midiNoteSpeedPCT=e[t],t++,n.midi.attackTimeMs=Ue(e,t),t+=2,n.midi.decayTimeMs=Ue(e,t),t+=2,n.midi.sustainTimeMs=Ue(e,t),t+=2,n.midi.sustainLevelPCT=e[t],t++,n.midi.releaseTimeMs=Ue(e,t),t+=2,n.midi.lpfCutOffFreq=Ue(e,t),t+=2,n.midi.echoDelayMs=Ue(e,t),t+=2,n.midi.echoDecayPCT=e[t],t++,n.hum.humSynthesizer=e[t],t++,n.hum.humVolumePCT=e[t],t++,n.hum.hum1Freq=Ue(e,t),t+=2,n.hum.hum2Freq=Ue(e,t),t+=2,n.hum.hum3Freq=Ue(e,t),t+=2,n.hum.hum4Freq=Ue(e,t),t+=2,n.hum.hum5Freq=Ue(e,t),t+=2,n.hum.hum1VolumePCT=e[t],t++,n.hum.hum2VolumePCT=e[t],t++,n.hum.hum3VolumePCT=e[t],t++,n.hum.hum4VolumePCT=e[t],t++,n.hum.hum5VolumePCT=e[t],t++,n.wifi.ssid=Rr(e,t,32),t+=32,n.wifi.password=Rr(e,t,32),t+=32,n.ble.statesSenderInterval=Ue(e,t),t+=2,n.signature.signature=Ue(e,t),t+=2,{cfg:n,ptr:t}}function xt(e=fe.MSG_LIGHTSABER_CONFIG_ALL,t=It){const n=new Uint8Array(256).fill(0);let s=0;switch(n[s++]=fe.MSG_LIGHTSABER_CONFIG,n[s++]=e,e){case fe.MSG_LIGHTSABER_CONFIG_ALL:s=Lr(t.sabreMode.mode,n,s),s=Gr(t.leds,n,s),s=Hr(t.gesture,n,s),s=Fr(t.audio,n,s),s=Br(t.midi,n,s),s=Vr(t.hum,n,s),s=Ur(t.wifi,n,s),s=Wr(t.ble,n,s),s=uh(t.signature,n,s),console.log("MAKING PACKET FOR ALL");break;case fe.MSG_LIGHTSABER_CONFIG_SABREMODE:s=Lr(t.sabreMode.mode,n,s),console.log("MAKING PACKET FOR SABREMODE");break;case fe.MSG_LIGHTSABER_CONFIG_LEDS:s=Gr(t.leds,n,s),console.log("MAKING PACKET FOR LEDS");break;case fe.MSG_LIGHTSABER_CONFIG_GESTURE:s=Hr(t.gesture,n,s);break;case fe.MSG_LIGHTSABER_CONFIG_AUDIO:s=Fr(t.audio,n,s);break;case fe.MSG_LIGHTSABER_CONFIG_MIDI:s=Br(t.midi,n,s);break;case fe.MSG_LIGHTSABER_CONFIG_HUM:console.log("SPTR = "+s),s=Vr(t.hum,n,s),console.log("EPTR = "+s);break;case fe.MSG_LIGHTSABER_CONFIG_WIFI:s=Ur(t.wifi,n,s);break;case fe.MSG_LIGHTSABER_CONFIG_BLE:s=Wr(t.ble,n,s);break}return io(n,s+1)}function Lr(e,t,n){return t[n]=e,n+1}function Gr(e,t,n){return t[n]=e.brightness_max,t[n+1]=e.baseColor[0],t[n+2]=e.baseColor[1],t[n+3]=e.baseColor[2],n+4}function Hr(e,t,n){return t[n]=e.handedness,_s(e.twist_threshold,t,n+1),_s(e.noswing_threshold,t,n+5),_s(e.stab_max_rad,t,n+9),_s(e.clash_threshold,t,n+13),Je(e.cal_acc_bias[0],t,n+17),Je(e.cal_acc_bias[1],t,n+21),Je(e.cal_acc_bias[2],t,n+25),Je(e.cal_gyro_bias[0],t,n+29),Je(e.cal_gyro_bias[1],t,n+33),Je(e.cal_gyro_bias[2],t,n+37),Je(e.cal_mag_bias[0],t,n+41),Je(e.cal_mag_bias[1],t,n+45),Je(e.cal_mag_bias[2],t,n+49),Je(e.cal_mag_scale[0],t,n+53),Je(e.cal_mag_scale[1],t,n+57),Je(e.cal_mag_scale[2],t,n+61),n+65}function Fr(e,t,n){return t[n]=e.lightOnVolumePCT,t[n+1]=e.lightOffVolumePCT,t[n+2]=e.actionVolumePCT,n+3}function Br(e,t,n){return t[n]=e.midiVolumePCT,t[n+1]=e.midiNoteWidthPCT,t[n+2]=e.midiNoteSpeedPCT,je(e.attackTimeMs,t,n+3),je(e.decayTimeMs,t,n+5),je(e.sustainTimeMs,t,n+7),t[n+9]=e.sustainLevelPCT,je(e.releaseTimeMs,t,n+10),je(e.lpfCutOffFreq,t,n+12),je(e.echoDelayMs,t,n+14),t[n+16]=e.echoDecayPCT,n+17}function Vr(e,t,n){return t[n]=e.humSynthesizer,t[n+1]=e.humVolumePCT,je(e.hum1Freq,t,n+2),je(e.hum2Freq,t,n+4),je(e.hum3Freq,t,n+6),je(e.hum4Freq,t,n+8),je(e.hum5Freq,t,n+10),t[n+12]=e.hum1VolumePCT,t[n+13]=e.hum2VolumePCT,t[n+14]=e.hum3VolumePCT,t[n+15]=e.hum4VolumePCT,t[n+16]=e.hum5VolumePCT,n+17}function Ur(e,t,n){for(let s=0;s<32;s++)t[n+s]=e.ssid.charCodeAt(s);for(let s=0;s<32;s++)t[n+32+s]=e.password.charCodeAt(s);return n+64}function Wr(e,t,n){return je(e.statesSenderInterval,t,n),n+2}function uh(e,t,n){return je(e.signature,t,n),n+2}const ro=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},dh={class:"param z-20"},fh={__name:"ControlSlider",props:Bl({min:{type:Number,default:0},max:{type:Number,default:100},units:{type:String,default:"%"},vertical:{type:Boolean,default:!1}},{modelValue:{local:!0,default:0}}),emits:["update:modelValue"],setup(e){const t=$o(e,"modelValue",{local:!0}),n=e,s=L(),o=(i,r,l)=>Math.max(r,Math.min(l,i));return gn({onDrag(i){i.event.preventDefault(),t.value=o(t.value+i.delta[n.vertical?1:0]/10,n.min,n.max)},onWheel(i){i.event.preventDefault(),t.value=o(t.value-i.velocities[n.vertical?1:0],n.min,n.max)}},{domTarget:s,eventOptions:{passive:!1}}),(i,r)=>(I(),G("div",{class:"control",ref_key:"domTarget",ref:s},[b("div",dh,[Ae(i.$slots,"default",{},()=>[ut("PARAM ")],!0)]),b("div",{class:"rect absolute bottom-0 left-0 w-full h-full bg-light-400 bg-opacity-50",style:oe({width:`${100*(t.value-e.min)/(e.max-e.min)}%`})},null,4),b("div",{class:"line",style:oe({left:`${100*(t.value-e.min)/(e.max-e.min)}%`})},[b("div",{class:"px-2",style:oe({marginLeft:`${(t.value-e.min)/(e.max-e.min)>.8?-60:0}px`})},ae(t.value.toFixed(0))+ae(e.units),5)],4)],512))}},Ss=ro(fh,[["__scopeId","data-v-c1d595ea"]]),Ti=e=>(su("data-v-6fa4eb05"),e=e(),ou(),e),hh={class:"h-full select-none"},ph={class:"grid grid-cols-2 gap-4 w-full h-full"},mh=Ti(()=>b("div",{class:"param"},"HUE",-1)),gh=Ti(()=>b("div",{class:"param"},"SAT",-1)),vh=Ti(()=>b("div",{class:"param"},"VAL",-1)),_h={__name:"ControlColors",setup(e){const{color:t,hsl:n,bytes:s}=Ci(),{config:o}=rs();ve(s,c=>{o.leds.baseColor=c});const i=L(),r=L(),l=L();gn({onDrag(c){c.event.preventDefault(),t.h+=c.delta[0]/2},onWheel(c){c.event.preventDefault(),t.h-=c.velocities[0]}},{domTarget:i,eventOptions:{passive:!1}}),gn({onDrag(c){c.event.preventDefault(),t.s+=c.delta[0]/10},onWheel(c){c.event.preventDefault(),t.s-=c.velocities[0]}},{domTarget:r,eventOptions:{passive:!1}}),gn({onDrag(c){c.event.preventDefault(),t.v+=c.delta[0]/10},onWheel(c){c.event.preventDefault(),t.v-=c.velocities[0]}},{domTarget:l,eventOptions:{passive:!1}});const a=W(()=>{let c="linear-gradient(to right";for(let u=0;u<=360;u+=1)c+=`, hsl(${u}, ${t.s}%, ${t.v}%)`;return c+=")",c});return(c,u)=>(I(),G("section",hh,[b("div",ph,[b("div",{class:"control col-span-2",ref_key:"controlH",ref:i,style:oe({background:a.value})},[mh,b("div",{class:"line",style:oe({left:`${T(t).h/3.6}%`})},[b("div",{class:"px-2",style:oe({marginLeft:`${T(t).h>310?-50:0}px`})},ae(T(t).h.toFixed(0))+"°",5)],4)],4),b("div",{class:"control",ref_key:"controlS",ref:r,style:oe({background:`linear-gradient(90deg, hsl(${T(t).h}deg,0%, ${T(t).v}%), hsl(${T(t).h}deg,50%, ${T(t).v/2}%))`})},[gh,b("div",{class:"line",style:oe({left:`${T(t).s}%`})},[b("div",{class:"px-2",style:oe({marginLeft:`${T(t).s>60?-50:0}px`})},ae(T(t).s.toFixed(0))+"%",5)],4)],4),b("div",{class:"control",ref_key:"controlV",ref:l,style:oe({background:`linear-gradient(90deg, hsl(${T(t).h}deg,${T(t).s}%, 0%),hsl(${T(t).h}deg,${T(t).s}%, 50%))`})},[vh,b("div",{class:"line",style:oe({left:`${T(t).v}%`})},[b("div",{class:"px-2",style:oe({marginLeft:`${T(t).v>60?-50:0}px`})},ae(T(t).v.toFixed(0))+"%",5)],4)],4),q(Ss,{class:"col-span-2",modelValue:T(o).leds.brightness_max,"onUpdate:modelValue":u[0]||(u[0]=h=>T(o).leds.brightness_max=h)},{default:ct(()=>[ut("Max Brightness")]),_:1},8,["modelValue"])])]))}},yh=ro(_h,[["__scopeId","data-v-6fa4eb05"]]),bh={class:"flex flex-wrap items-center gap-4 p-2"},wh=b("div",{class:"text-lg"},"Sound",-1),Ch={__name:"ControlSound",setup(e){const{config:t}=rs();return(n,s)=>(I(),G("section",bh,[wh,q(Ss,{class:"flex-auto",modelValue:T(t).audio.lightOnVolumePCT,"onUpdate:modelValue":s[0]||(s[0]=o=>T(t).audio.lightOnVolumePCT=o)},{default:ct(()=>[ut("Light On Volume")]),_:1},8,["modelValue"]),q(Ss,{class:"flex-auto",modelValue:T(t).audio.lightOffVolumePCT,"onUpdate:modelValue":s[1]||(s[1]=o=>T(t).audio.lightOffVolumePCT=o)},{default:ct(()=>[ut("Light Off Volume")]),_:1},8,["modelValue"]),q(Ss,{class:"flex-auto",modelValue:T(t).audio.actionVolumePCT,"onUpdate:modelValue":s[2]||(s[2]=o=>T(t).audio.actionVolumePCT=o)},{default:ct(()=>[ut("Action Volume")]),_:1},8,["modelValue"])]))}},Si=Pe({lightState:0,running:0,audioOutput:0,charging:0,sdCard:0,imu:0,reserved:0,incalibration:0,batteryVoltage:0,rollCentiDeg:0,pitchCentiDeg:0,yawCentiDeg:0,gestureState:0,lastGestureActive:0,size:11}),Na=L(),Ei=L(),Ii=L();ve(Ei,Oa);function Mi(){return{state:Si,inState:Ei,outState:Ii,timestamp:Na,loadState:Oa,toggleLightState:xh,calibrateIMU:Th}}function xh(){const e=new Uint8Array(2);e[0]=fe.MSG_LIGHTSABER_STATE,e[1]=Si.lightState==jf.LIGHT_ON?0:1,Ii.value=io(e,2)}function Th(){const e=new Uint8Array(2);e[0]=fe.MSG_LIGHTSABER_STATE_CALIBIMU,e[1]=1,Ii.value=io(e,2)}function Oa(e=Ei.value){if(!Ea(e))return;let t=0,n=(e[t]&63)<<7;for(t++;t<e.length;){e[t]&128&&(n=n&8064|e[t]&127,t++),Na.value=n;let s=e[t];if(t++,s===0)return;if(s==fe.MSG_LIGHTSABER_STATE_ALL){let o=Sh(e,t);Object.assign(Si,o.states),t=o.ptr}}}function Sh(e,t){let n={};return n.lightState=e[t],t++,n.running=kn(e,t,0),n.audioOutput=kn(e,t,1),n.charging=kn(e,t,2),n.sdCard=kn(e,t,3),n.imu=kn(e,t,4),n.reserved=e[t]>>5&7,t++,n.batteryVoltage=e[t],t++,n.rollCentiDeg=To(e,t),t+=2,n.pitchCentiDeg=To(e,t),t+=2,n.yawCentiDeg=To(e,t),t+=2,n.gestureState=e[t],t++,n.lastGestureActive=e[t],t++,{ptr:t,states:n}}const Eh=navigator.bluetooth,Ih=Object.values(un.services).map(e=>e.service),Mh={filters:[{namePrefix:un.device.namePrefix}],optionalServices:Ih},Es=L(),Rn=L(),Nh=L(),Aa=L(),$a=L(),Oh=Pe({}),ka=L(!1);async function Ah(){try{Es.value=await navigator.bluetooth.requestDevice(Mh),Rn.value=await Es.value.gatt.connect(),Es.value.addEventListener("gattserverdisconnected",()=>{console.log("device disconnected")}),Nh.value=await Rn.value.getPrimaryServices();const e=await Rn.value.getPrimaryService(un.services.state.service);$a.value=await e.getCharacteristic(un.services.state.characteristic);const t=await Rn.value.getPrimaryService(un.services.config.service);Aa.value=await t.getCharacteristic(un.services.config.characteristic),ka.value=!0}catch(e){console.log(e)}}function Ni(){return{ble:Oh,available:Eh,device:Es,server:Rn,connect:Ah,configCharacteristic:Aa,stateCharacteristic:$a,isConnected:ka}}const $h={__name:"SabreBlade",setup(e){const{state:t}=Mi(),{color:n,hsl:s}=Ci();return(o,i)=>(I(),G("div",{class:"flex-0 h-40 mx-0 transition-transform duration-700 origin-center-bottom rounded-lg m-0 border-5",style:oe({transform:`scaleY(${T(t).lightState?1:0})`,background:`hsla(0deg,0%,100%,${T(n).v/50})`,borderColor:T(s),boxShadow:`0px 0px 40px 10px ${T(s)}`})},null,4))}},kh={class:"flex flex-col gap-2 items-center w-full"},Ph={class:"flex flex-wrap relative font-mono text-xs"},Dh={class:"p-1 text-center w-20",style:{flex:"0 1 80px"}},Rh={class:"p-0"},Lh={__name:"ControlState",setup(e){const{state:t,inState:n,outState:s,timestamp:o}=Mi(),{stateCharacteristic:i}=Ni();Af(i,()=>{i.value.addEventListener("characteristicvaluechanged",l=>{n.value=new Uint8Array(l.target.value.buffer)}),i.value.startNotifications(),ve(s,l=>{i.value.writeValue(l)})});const r=W(()=>({roll:t.rollCentiDeg/100,pitch:t.pitchCentiDeg/100,yaw:t.yawCentiDeg/100}));return(l,a)=>(I(),G("section",kh,[b("div",Ph,[(I(!0),G(le,null,Be(r.value,(c,u)=>(I(),G("div",Dh,[ut(ae(u)+" ",1),b("div",Rh,ae(c.toFixed())+"°",1)]))),256)),b("div",{class:"p-8 absolute right-20 -top-50 pointer-events-none",style:oe({transform:`rotateX(${r.value.roll}deg) rotateY(${r.value.pitch}deg) rotateZ(${r.value.yaw}deg)`})},[q($h)],4)])]))}},Gh=ro(Lh,[["__scopeId","data-v-5514bcea"]]),Hh={class:"flex flex-col p-0 text-xs bg-dark-100 overflow-scroll opacity-60 max-h-120"},Fh={class:"flex flex-col bg-dark-700 font-mono text-xs gap-2 p-4 sticky top-0"},Bh={class:"bg-dark-900 p-2"},Vh={__name:"ControlConfig",setup(e){const{config:t,inConfig:n,outConfig:s,readConfig:o,configReady:i}=rs(),{configCharacteristic:r,isConnected:l}=Ni();async function a(){let c=o();await r.value?.writeValue(c),n.value=new Uint8Array((await r.value.readValue()).buffer)}return ve(()=>r.value,async()=>{a()}),ve(l,c=>{c.valueOf()==!0?(console.log("Device connected!"),n.value=a()):console.log("Device disconnected!")}),$f(s,async c=>{if(!n.value||i.valueOf()==!1)return;let u=await r.value.writeValueWithResponse(c.buffer);u&&console.log(u),console.log("config sent")},{throttle:200}),(c,u)=>(I(),G("section",Hh,[b("div",Fh,[b("button",{class:"flex-1",onClick:u[0]||(u[0]=h=>a())},"Receive Config"),b("p",null,"IN "+ae(T(n)?.join(" ")),1),b("p",null,"OUT "+ae(T(s)?.join(" ")),1)]),b("pre",Bh,ae(T(t))+" ",1)]))}},Uh={class:"param z-20"},Wh={__name:"ControlPad",props:Bl({minX:{type:Number,default:0},maxX:{type:Number,default:100},minY:{type:Number,default:0},maxY:{type:Number,default:100},unitsX:{type:String,default:"Hz"},unitsY:{type:String,default:"%"}},{x:{local:!0,default:0},y:{local:!0,default:0}}),emits:["update:x","update:y"],setup(e){const t=$o(e,"x",{local:!0}),n=$o(e,"y",{local:!0}),s=e,o=L(),i=(r,l,a)=>Math.max(l,Math.min(a,r));return gn({onDrag(r){r.event.preventDefault(),t.value=i(t.value+r.delta[0]/10,s.minX,s.maxX),n.value=i(n.value-r.delta[1]/10,s.minY,s.maxY)},onWheel(r){r.event.preventDefault(),t.value=i(t.value-r.velocities[0],s.minX,s.maxX),n.value=i(n.value+r.velocities[1],s.minY,s.maxY)}},{domTarget:o,eventOptions:{passive:!1}}),(r,l)=>(I(),G("div",{class:"control",ref_key:"domTarget",ref:o},[b("div",Uh,[Ae(r.$slots,"default",{},()=>[ut("PARAM ")],!0)]),b("div",{class:"rect absolute bottom-0 left-0 w-full h-full bg-light-200 bg-opacity-24",style:oe({width:`${100*(t.value-e.minX)/(e.maxX-e.minX)}%`})},null,4),b("div",{class:"rect absolute bottom-0 left-0 w-full h-full bg-light-200 bg-opacity-24",style:oe({height:`${100*(n.value-e.minY)/(e.maxY-e.minY)}%`})},null,4),b("div",{class:"line",style:oe({left:`${100*(t.value-e.minX)/(e.maxX-e.minX)}%`,backgroundColor:e.unitsX=="Hz"?T(Ff)(t.value):"#eee8"})},[b("div",{class:"px-2",style:oe({marginLeft:`${(t.value-e.minX)/(e.maxX-e.minX)>.8?-60:0}px`})},ae(t.value.toFixed(0))+ae(e.unitsX),5)],4),b("div",{class:"mix-blend-difference absolute left-0 right-0 h-1 bg-white pl-2px",style:oe({bottom:`${100*(n.value-e.minY)/(e.maxY-e.minY)}%`})},[b("div",{class:"px-2 right-2 absolute top-1",style:oe({top:`${(n.value-e.minY)/(e.maxY-e.minY)<.3?-20:0}px`})},ae(n.value.toFixed(0))+ae(e.unitsY),5)],4)],512))}},jh=ro(Wh,[["__scopeId","data-v-23c2c051"]]),Kh={class:"flex flex-wrap gap-4"},zh={__name:"ControlHum",setup(e){const{config:t}=rs();function n(){t.hum.humSynthesizer=t.hum.humSynthesizer?0:1,console.log(t.hum.humSynthesizer)}return(s,o)=>(I(),G("section",Kh,[b("button",{class:"flex-1",onPointerdown:n},ae(T(t).hum.humSynthesizer?"Synth":"Sample")+" Hum",33),(I(),G(le,null,Be(5,i=>q(jh,{class:"min-w-30 min-h-16 transition",style:oe([{opacity:T(t).hum.humSynthesizer?1:.5},{flex:"1 1 auto"}]),key:i,x:T(t).hum[`hum${i}Freq`],"onUpdate:x":r=>T(t).hum[`hum${i}Freq`]=r,minX:50,maxX:500,y:T(t).hum[`hum${i}VolumePCT`],"onUpdate:y":r=>T(t).hum[`hum${i}VolumePCT`]=r},{default:ct(()=>[ut("HUM"+ae(i),1)]),_:2},1032,["style","x","onUpdate:x","y","onUpdate:y"])),64))]))}},Yh="0.3.2";let ys;const qh=new Uint8Array(16);function Xh(){if(!ys&&(ys=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ys))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ys(qh)}const Se=[];for(let e=0;e<256;++e)Se.push((e+256).toString(16).slice(1));function Jh(e,t=0){return Se[e[t+0]]+Se[e[t+1]]+Se[e[t+2]]+Se[e[t+3]]+"-"+Se[e[t+4]]+Se[e[t+5]]+"-"+Se[e[t+6]]+Se[e[t+7]]+"-"+Se[e[t+8]]+Se[e[t+9]]+"-"+Se[e[t+10]]+Se[e[t+11]]+Se[e[t+12]]+Se[e[t+13]]+Se[e[t+14]]+Se[e[t+15]]}const Zh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jr={randomUUID:Zh};function Et(e,t,n){if(jr.randomUUID&&!t&&!e)return jr.randomUUID();e=e||{};const s=e.random||(e.rng||Xh)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){n=n||0;for(let o=0;o<16;++o)t[n+o]=s[o];return t}return Jh(s)}class Qt{constructor(){this.listenerMap=new Map,this._listeners=[],this.proxyMap=new Map,this.proxies=[]}get listeners(){return this._listeners.concat(this.proxies.flatMap(t=>t()))}subscribe(t,n){this.listenerMap.has(t)&&(console.warn(`Already subscribed. Unsubscribing for you.
Please check that you don't accidentally use the same token twice to register two different handlers for the same event/hook.`),this.unsubscribe(t)),this.listenerMap.set(t,n),this._listeners.push(n)}unsubscribe(t){if(this.listenerMap.has(t)){const n=this.listenerMap.get(t);this.listenerMap.delete(t);const s=this._listeners.indexOf(n);s>=0&&this._listeners.splice(s,1)}}registerProxy(t,n){this.proxyMap.has(t)&&(console.warn(`Already subscribed. Unsubscribing for you.
Please check that you don't accidentally use the same token twice to register two different proxies for the same event/hook.`),this.unregisterProxy(t)),this.proxyMap.set(t,n),this.proxies.push(n)}unregisterProxy(t){if(!this.proxyMap.has(t))return;const n=this.proxyMap.get(t);this.proxyMap.delete(t);const s=this.proxies.indexOf(n);s>=0&&this.proxies.splice(s,1)}}class pe extends Qt{constructor(t){super(),this.entity=t}emit(t){this.listeners.forEach(n=>n(t,this.entity))}}class Re extends Qt{constructor(t){super(),this.entity=t}emit(t){let n=!1;const s=()=>[n=!0];for(const o of Array.from(this.listeners.values()))if(o(t,s,this.entity),n)return{prevented:!0};return{prevented:!1}}}class Qh extends Qt{execute(t,n){let s=t;for(const o of this.listeners)s=o(s,n);return s}}class st extends Qh{constructor(t){super(),this.entity=t}execute(t){return super.execute(t,this.entity)}}class ep extends Qt{constructor(t){super(),this.entity=t}execute(t){const n=[];for(const s of this.listeners)n.push(s(t,this.entity));return n}}function pt(){const e=Symbol(),t=new Map,n=new Set,s=(a,c)=>{c instanceof Qt&&c.registerProxy(e,()=>{var u,h;return(h=(u=t.get(a))===null||u===void 0?void 0:u.listeners)!==null&&h!==void 0?h:[]})},o=a=>{const c=new Qt;t.set(a,c),n.forEach(u=>s(a,u[a]))},i=a=>{n.add(a);for(const c of t.keys())s(c,a[c])},r=a=>{for(const c of t.keys())a[c]instanceof Qt&&a[c].unregisterProxy(e);n.delete(a)},l=()=>{n.forEach(a=>r(a)),t.clear()};return new Proxy({},{get(a,c){return c==="addTarget"?i:c==="removeTarget"?r:c==="destroy"?l:typeof c!="string"||c.startsWith("_")?a[c]:(t.has(c)||o(c),t.get(c))}})}class Kr{constructor(t,n){if(this.destructed=!1,this.events={destruct:new pe(this)},!t||!n)throw new Error("Cannot initialize connection with null/undefined for 'from' or 'to' values");this.id=Et(),this.from=t,this.to=n,this.from.connectionCount++,this.to.connectionCount++}destruct(){this.events.destruct.emit(),this.from.connectionCount--,this.to.connectionCount--,this.destructed=!0}}class tp{constructor(t,n){if(!t||!n)throw new Error("Cannot initialize connection with null/undefined for 'from' or 'to' values");this.id=Et(),this.from=t,this.to=n}}function Bo(e,t){return Object.fromEntries(Object.entries(e).map(([n,s])=>[n,t(s)]))}class Pa{constructor(){this._title="",this.id=Et(),this.events={loaded:new pe(this),beforeAddInput:new Re(this),addInput:new pe(this),beforeRemoveInput:new Re(this),removeInput:new pe(this),beforeAddOutput:new Re(this),addOutput:new pe(this),beforeRemoveOutput:new Re(this),removeOutput:new pe(this),beforeTitleChanged:new Re(this),titleChanged:new pe(this),update:new pe(this)},this.hooks={beforeLoad:new st(this),afterSave:new st(this)}}get graph(){return this.graphInstance}get title(){return this._title}set title(t){this.events.beforeTitleChanged.emit(t).prevented||(this._title=t,this.events.titleChanged.emit(t))}addInput(t,n){return this.addInterface("input",t,n)}addOutput(t,n){return this.addInterface("output",t,n)}removeInput(t){return this.removeInterface("input",t)}removeOutput(t){return this.removeInterface("output",t)}registerGraph(t){this.graphInstance=t}load(t){this.hooks.beforeLoad.execute(t),this.id=t.id,this._title=t.title,Object.entries(t.inputs).forEach(([n,s])=>{this.inputs[n]&&(this.inputs[n].load(s),this.inputs[n].nodeId=this.id)}),Object.entries(t.outputs).forEach(([n,s])=>{this.outputs[n]&&(this.outputs[n].load(s),this.outputs[n].nodeId=this.id)}),this.events.loaded.emit(this)}save(){const t=Bo(this.inputs,o=>o.save()),n=Bo(this.outputs,o=>o.save()),s={type:this.type,id:this.id,title:this.title,inputs:t,outputs:n};return this.hooks.afterSave.execute(s)}onPlaced(){}onDestroy(){}initializeIo(){Object.entries(this.inputs).forEach(([t,n])=>this.initializeIntf("input",t,n)),Object.entries(this.outputs).forEach(([t,n])=>this.initializeIntf("output",t,n))}initializeIntf(t,n,s){s.isInput=t==="input",s.nodeId=this.id,s.events.setValue.subscribe(this,()=>this.events.update.emit({type:t,name:n,intf:s}))}addInterface(t,n,s){const o=t==="input"?this.events.beforeAddInput:this.events.beforeAddOutput,i=t==="input"?this.events.addInput:this.events.addOutput,r=t==="input"?this.inputs:this.outputs;return o.emit(s).prevented?!1:(r[n]=s,this.initializeIntf(t,n,s),i.emit(s),!0)}removeInterface(t,n){const s=t==="input"?this.events.beforeRemoveInput:this.events.beforeRemoveOutput,o=t==="input"?this.events.removeInput:this.events.removeOutput,i=t==="input"?this.inputs[n]:this.outputs[n];if(!i||s.emit(i).prevented)return!1;if(i.connectionCount>0)if(this.graphInstance)this.graphInstance.connections.filter(l=>l.from===i||l.to===i).forEach(l=>{this.graphInstance.removeConnection(l)});else throw new Error("Interface is connected, but no graph instance is specified. Unable to delete interface");return i.events.setValue.unsubscribe(this),t==="input"?delete this.inputs[n]:delete this.outputs[n],o.emit(i),!0}}class Da extends Pa{load(t){super.load(t)}save(){return super.save()}}function np(e){return class extends Da{constructor(){var t,n;super(),this.type=e.type,this.inputs={},this.outputs={},this.calculate=e.calculate?(s,o)=>e.calculate.call(this,s,o):void 0,this._title=(t=e.title)!==null&&t!==void 0?t:e.type,this.executeFactory("input",e.inputs),this.executeFactory("output",e.outputs),(n=e.onCreate)===null||n===void 0||n.call(this)}onPlaced(){var t;(t=e.onPlaced)===null||t===void 0||t.call(this)}onDestroy(){var t;(t=e.onDestroy)===null||t===void 0||t.call(this)}executeFactory(t,n){Object.keys(n||{}).forEach(s=>{const o=n[s]();t==="input"?this.addInput(s,o):this.addOutput(s,o)})}}}class Le{set connectionCount(t){this._connectionCount=t,this.events.setConnectionCount.emit(t)}get connectionCount(){return this._connectionCount}set value(t){this.events.beforeSetValue.emit(t).prevented||(this._value=t,this.events.setValue.emit(t))}get value(){return this._value}constructor(t,n){this.id=Et(),this.nodeId="",this.port=!0,this.hidden=!1,this.events={setConnectionCount:new pe(this),beforeSetValue:new Re(this),setValue:new pe(this),updated:new pe(this)},this.hooks={load:new st(this),save:new st(this)},this._connectionCount=0,this.name=t,this._value=n}load(t){this.id=t.id,this.templateId=t.templateId,this.value=t.value,this.hooks.load.execute(t)}save(){const t={id:this.id,templateId:this.templateId,value:this.value};return this.hooks.save.execute(t)}setComponent(t){return this.component=t,this}setPort(t){return this.port=t,this}setHidden(t){return this.hidden=t,this}use(t,...n){return t(this,...n),this}}const yn="__baklava_SubgraphInputNode",bn="__baklava_SubgraphOutputNode";class Ra extends Da{constructor(){super(),this.graphInterfaceId=Et()}onPlaced(){super.onPlaced(),this.initializeIo()}save(){return{...super.save(),graphInterfaceId:this.graphInterfaceId}}load(t){super.load(t),this.graphInterfaceId=t.graphInterfaceId}}class La extends Ra{constructor(){super(...arguments),this.type=yn,this.inputs={name:new Le("Name","Input")},this.outputs={placeholder:new Le("Value",void 0)}}static isGraphInputNode(t){return t.type===yn}}class Ga extends Ra{constructor(){super(...arguments),this.type=bn,this.inputs={name:new Le("Name","Output"),placeholder:new Le("Value",void 0)},this.outputs={output:new Le("Output",void 0).setHidden(!0)},this.calculate=({placeholder:t})=>({output:t})}static isGraphOutputNode(t){return t.type===bn}}class lo{get nodes(){return this._nodes}get connections(){return this._connections}get loading(){return this._loading}get destroying(){return this._destroying}get inputs(){return this.nodes.filter(n=>n.type===yn).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.placeholder.id}))}get outputs(){return this.nodes.filter(n=>n.type===bn).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.output.id}))}constructor(t,n){this.id=Et(),this.activeTransactions=0,this._nodes=[],this._connections=[],this._loading=!1,this._destroying=!1,this.events={beforeAddNode:new Re(this),addNode:new pe(this),beforeRemoveNode:new Re(this),removeNode:new pe(this),beforeAddConnection:new Re(this),addConnection:new pe(this),checkConnection:new Re(this),beforeRemoveConnection:new Re(this),removeConnection:new pe(this)},this.hooks={save:new st(this),load:new st(this),checkConnection:new ep(this)},this.nodeEvents=pt(),this.nodeHooks=pt(),this.connectionEvents=pt(),this.editor=t,this.template=n,t.registerGraph(this)}addNode(t){if(!this.events.beforeAddNode.emit(t).prevented)return this.nodeEvents.addTarget(t.events),this.nodeHooks.addTarget(t.hooks),t.registerGraph(this),this._nodes.push(t),t=this.nodes.find(n=>n.id===t.id),t.onPlaced(),this.events.addNode.emit(t),t}removeNode(t){if(this.nodes.includes(t)){if(this.events.beforeRemoveNode.emit(t).prevented)return;const n=[...Object.values(t.inputs),...Object.values(t.outputs)];this.connections.filter(s=>n.includes(s.from)||n.includes(s.to)).forEach(s=>this.removeConnection(s)),this._nodes.splice(this.nodes.indexOf(t),1),this.events.removeNode.emit(t),t.onDestroy(),this.nodeEvents.removeTarget(t.events),this.nodeHooks.removeTarget(t.hooks)}}addConnection(t,n){const s=this.checkConnection(t,n);if(!s.connectionAllowed||this.events.beforeAddConnection.emit({from:t,to:n}).prevented)return;for(const i of s.connectionsInDanger){const r=this.connections.find(l=>l.id===i.id);r&&this.removeConnection(r)}const o=new Kr(s.dummyConnection.from,s.dummyConnection.to);return this.internalAddConnection(o),o}removeConnection(t){if(this.connections.includes(t)){if(this.events.beforeRemoveConnection.emit(t).prevented)return;t.destruct(),this._connections.splice(this.connections.indexOf(t),1),this.events.removeConnection.emit(t),this.connectionEvents.removeTarget(t.events)}}checkConnection(t,n){if(!t||!n)return{connectionAllowed:!1};const s=this.findNodeById(t.nodeId),o=this.findNodeById(n.nodeId);if(s&&o&&s===o)return{connectionAllowed:!1};if(t.isInput&&!n.isInput){const l=t;t=n,n=l}if(t.isInput||!n.isInput)return{connectionAllowed:!1};if(this.connections.some(l=>l.from===t&&l.to===n))return{connectionAllowed:!1};if(this.events.checkConnection.emit({from:t,to:n}).prevented)return{connectionAllowed:!1};const i=this.hooks.checkConnection.execute({from:t,to:n});if(i.some(l=>!l.connectionAllowed))return{connectionAllowed:!1};const r=Array.from(new Set(i.flatMap(l=>l.connectionsInDanger)));return{connectionAllowed:!0,dummyConnection:new tp(t,n),connectionsInDanger:r}}findNodeInterface(t){for(const n of this.nodes){for(const s in n.inputs){const o=n.inputs[s];if(o.id===t)return o}for(const s in n.outputs){const o=n.outputs[s];if(o.id===t)return o}}}findNodeById(t){return this.nodes.find(n=>n.id===t)}load(t){try{this._loading=!0;const n=[];for(let s=this.connections.length-1;s>=0;s--)this.removeConnection(this.connections[s]);for(let s=this.nodes.length-1;s>=0;s--)this.removeNode(this.nodes[s]);this.id=t.id;for(const s of t.nodes){const o=this.editor.nodeTypes.get(s.type);if(!o){n.push(`Node type ${s.type} is not registered`);continue}const i=new o.type;this.addNode(i),i.load(s)}for(const s of t.connections){const o=this.findNodeInterface(s.from),i=this.findNodeInterface(s.to);if(o)if(i){const r=new Kr(o,i);r.id=s.id,this.internalAddConnection(r)}else{n.push(`Could not find interface with id ${s.to}`);continue}else{n.push(`Could not find interface with id ${s.from}`);continue}}return this.hooks.load.execute(t),n}finally{this._loading=!1}}save(){const t={id:this.id,nodes:this.nodes.map(n=>n.save()),connections:this.connections.map(n=>({id:n.id,from:n.from.id,to:n.to.id})),inputs:this.inputs,outputs:this.outputs};return this.hooks.save.execute(t)}destroy(){this._destroying=!0;for(const t of this.nodes)this.removeNode(t);this.editor.unregisterGraph(this)}internalAddConnection(t){this.connectionEvents.addTarget(t.events),this._connections.push(t),this.events.addConnection.emit(t)}}const Jn="__baklava_GraphNode-";function wn(e){return Jn+e.id}function sp(e){return class extends Pa{constructor(){super(...arguments),this.type=wn(e),this.inputs={},this.outputs={},this.template=e,this.calculate=async(n,s)=>{var o;if(!this.subgraph)throw new Error(`GraphNode ${this.id}: calculate called without subgraph being initialized`);if(!s.engine||typeof s.engine!="object")throw new Error(`GraphNode ${this.id}: calculate called but no engine provided in context`);const i=s.engine.getInputValues(this.subgraph);for(const a of this.subgraph.inputs)i.set(a.nodeInterfaceId,n[a.id]);const r=await s.engine.runGraph(this.subgraph,i,s.globalValues),l={};for(const a of this.subgraph.outputs)l[a.id]=(o=r.get(a.nodeId))===null||o===void 0?void 0:o.get("output");return l._calculationResults=r,l}}get title(){return this._title}set title(n){this.template.name=n}load(n){if(!this.subgraph)throw new Error("Cannot load a graph node without a graph");if(!this.template)throw new Error("Unable to load graph node without graph template");this.subgraph.load(n.graphState),super.load(n)}save(){if(!this.subgraph)throw new Error("Cannot save a graph node without a graph");return{...super.save(),graphState:this.subgraph.save()}}onPlaced(){this.template.events.updated.subscribe(this,()=>this.initialize()),this.template.events.nameChanged.subscribe(this,n=>{this._title=n}),this.initialize()}onDestroy(){var n;this.template.events.updated.unsubscribe(this),this.template.events.nameChanged.unsubscribe(this),(n=this.subgraph)===null||n===void 0||n.destroy()}initialize(){this.subgraph&&this.subgraph.destroy(),this.subgraph=this.template.createGraph(),this._title=this.template.name,this.updateInterfaces(),this.events.update.emit(null)}updateInterfaces(){if(!this.subgraph)throw new Error("Trying to update interfaces without graph instance");for(const n of this.subgraph.inputs)n.id in this.inputs?this.inputs[n.id].name=n.name:this.addInput(n.id,new Le(n.name,void 0));for(const n of Object.keys(this.inputs))this.subgraph.inputs.some(s=>s.id===n)||this.removeInput(n);for(const n of this.subgraph.outputs)n.id in this.outputs?this.outputs[n.id].name=n.name:this.addOutput(n.id,new Le(n.name,void 0));for(const n of Object.keys(this.outputs))this.subgraph.outputs.some(s=>s.id===n)||this.removeOutput(n);this.addOutput("_calculationResults",new Le("_calculationResults",void 0).setHidden(!0))}}}class ao{static fromGraph(t,n){return new ao(t.save(),n)}get name(){return this._name}set name(t){this._name=t,this.events.nameChanged.emit(t);const n=this.editor.nodeTypes.get(wn(this));n&&(n.title=t)}get inputs(){return this.nodes.filter(n=>n.type===yn).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.placeholder.id}))}get outputs(){return this.nodes.filter(n=>n.type===bn).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.output.id}))}constructor(t,n){this.id=Et(),this._name="Subgraph",this.events={nameChanged:new pe(this),updated:new pe(this)},this.hooks={beforeLoad:new st(this),afterSave:new st(this)},this.editor=n,t.id&&(this.id=t.id),t.name&&(this._name=t.name),this.update(t)}update(t){this.nodes=t.nodes,this.connections=t.connections,this.events.updated.emit()}save(){return{id:this.id,name:this.name,nodes:this.nodes,connections:this.connections,inputs:this.inputs,outputs:this.outputs}}createGraph(t){const n=new Map,s=d=>{const p=Et();return n.set(d,p),p},o=d=>{const p=n.get(d);if(!p)throw new Error(`Unable to create graph from template: Could not map old id ${d} to new id`);return p},i=d=>Bo(d,p=>({id:s(p.id),templateId:p.id,value:p.value})),r=this.nodes.map(d=>({...d,id:s(d.id),inputs:i(d.inputs),outputs:i(d.outputs)})),l=this.connections.map(d=>({id:s(d.id),from:o(d.from),to:o(d.to)})),a=this.inputs.map(d=>({id:d.id,name:d.name,nodeId:o(d.nodeId),nodeInterfaceId:o(d.nodeInterfaceId)})),c=this.outputs.map(d=>({id:d.id,name:d.name,nodeId:o(d.nodeId),nodeInterfaceId:o(d.nodeInterfaceId)})),u={id:Et(),nodes:r,connections:l,inputs:a,outputs:c};return t||(t=new lo(this.editor)),t.load(u).forEach(d=>console.warn(d)),t.template=this,t}}class op{get nodeTypes(){return this._nodeTypes}get graph(){return this._graph}get graphTemplates(){return this._graphTemplates}get graphs(){return this._graphs}get loading(){return this._loading}constructor(){this.events={loaded:new pe(this),beforeRegisterNodeType:new Re(this),registerNodeType:new pe(this),beforeUnregisterNodeType:new Re(this),unregisterNodeType:new pe(this),beforeAddGraphTemplate:new Re(this),addGraphTemplate:new pe(this),beforeRemoveGraphTemplate:new Re(this),removeGraphTemplate:new pe(this),registerGraph:new pe(this),unregisterGraph:new pe(this)},this.hooks={save:new st(this),load:new st(this)},this.graphTemplateEvents=pt(),this.graphTemplateHooks=pt(),this.graphEvents=pt(),this.graphHooks=pt(),this.nodeEvents=pt(),this.nodeHooks=pt(),this.connectionEvents=pt(),this._graphs=new Set,this._nodeTypes=new Map,this._graph=new lo(this),this._graphTemplates=[],this._loading=!1,this.registerNodeType(La),this.registerNodeType(Ga)}registerNodeType(t,n){var s,o;if(this.events.beforeRegisterNodeType.emit({type:t,options:n}).prevented)return;const i=new t;this._nodeTypes.set(i.type,{type:t,category:(s=n?.category)!==null&&s!==void 0?s:"default",title:(o=n?.title)!==null&&o!==void 0?o:i.title}),this.events.registerNodeType.emit({type:t,options:n})}unregisterNodeType(t){const n=typeof t=="string"?t:new t().type;if(this.nodeTypes.has(n)){if(this.events.beforeUnregisterNodeType.emit(n).prevented)return;this._nodeTypes.delete(n),this.events.unregisterNodeType.emit(n)}}addGraphTemplate(t){if(this.events.beforeAddGraphTemplate.emit(t).prevented)return;this._graphTemplates.push(t),this.graphTemplateEvents.addTarget(t.events),this.graphTemplateHooks.addTarget(t.hooks);const n=sp(t);this.registerNodeType(n,{category:"Subgraphs",title:t.name}),this.events.addGraphTemplate.emit(t)}removeGraphTemplate(t){if(this.graphTemplates.includes(t)){if(this.events.beforeRemoveGraphTemplate.emit(t).prevented)return;const n=wn(t);for(const s of[this.graph,...this.graphs.values()]){const o=s.nodes.filter(i=>i.type===n);for(const i of o)s.removeNode(i)}this.unregisterNodeType(n),this._graphTemplates.splice(this._graphTemplates.indexOf(t),1),this.graphTemplateEvents.removeTarget(t.events),this.graphTemplateHooks.removeTarget(t.hooks),this.events.removeGraphTemplate.emit(t)}}registerGraph(t){this.graphEvents.addTarget(t.events),this.graphHooks.addTarget(t.hooks),this.nodeEvents.addTarget(t.nodeEvents),this.nodeHooks.addTarget(t.nodeHooks),this.connectionEvents.addTarget(t.connectionEvents),this.events.registerGraph.emit(t),this._graphs.add(t)}unregisterGraph(t){this.graphEvents.removeTarget(t.events),this.graphHooks.removeTarget(t.hooks),this.nodeEvents.removeTarget(t.nodeEvents),this.nodeHooks.removeTarget(t.nodeHooks),this.connectionEvents.removeTarget(t.connectionEvents),this.events.unregisterGraph.emit(t),this._graphs.delete(t)}load(t){try{this._loading=!0,t=this.hooks.load.execute(t),t.graphTemplates.forEach(s=>{const o=new ao(s,this);this.addGraphTemplate(o)});const n=this._graph.load(t.graph);return this.events.loaded.emit(),n.forEach(s=>console.warn(s)),n}finally{this._loading=!1}}save(){const t={graph:this.graph.save(),graphTemplates:this.graphTemplates.map(n=>n.save())};return this.hooks.save.execute(t)}}var zr;(function(e){e.Running="Running",e.Idle="Idle",e.Paused="Paused",e.Stopped="Stopped"})(zr||(zr={}));let Vo=null;function ip(e){Vo=e}function ot(){if(!Vo)throw new Error("providePlugin() must be called before usePlugin()");return{viewModel:Vo}}function dt(){const{viewModel:e}=ot();return{graph:Un(e.value,"displayedGraph"),switchGraph:e.value.switchGraph}}function Ha(e){const{graph:t}=dt(),n=L(null),s=L(null);return{dragging:W(()=>!!n.value),onPointerDown:a=>{n.value={x:a.pageX,y:a.pageY},s.value={x:e.value.x,y:e.value.y}},onPointerMove:a=>{if(n.value){const c=a.pageX-n.value.x,u=a.pageY-n.value.y;e.value.x=s.value.x+c/t.value.scaling,e.value.y=s.value.y+u/t.value.scaling}},onPointerUp:()=>{n.value=null,s.value=null}}}function Fa(e,t,n){if(!t.template)return!1;if(wn(t.template)===n)return!0;const s=e.graphTemplates.find(i=>wn(i)===n);return s?s.nodes.filter(i=>i.type.startsWith(Jn)).some(i=>Fa(e,t,i.type)):!1}function Ba(e){return W(()=>{const t=Array.from(e.value.editor.nodeTypes.entries()),n=new Set(t.map(([,o])=>o.category)),s=[];for(const o of n.values()){let i=t.filter(([,r])=>r.category===o);e.value.displayedGraph.template?i=i.filter(([r])=>!Fa(e.value.editor,e.value.displayedGraph,r)):i=i.filter(([r])=>![yn,bn].includes(r)),i.length>0&&s.push({name:o,nodeTypes:Object.fromEntries(i)})}return s.sort((o,i)=>o.name==="default"?-1:i.name==="default"||o.name>i.name?1:-1),s})}function Va(){const{graph:e}=dt();return{transform:(n,s)=>{const o=n/e.value.scaling-e.value.panning.x,i=s/e.value.scaling-e.value.panning.y;return[o,i]}}}function rp(){const{graph:e}=dt();let t=[],n=-1,s={x:0,y:0};const o=W(()=>e.value.panning),i=Ha(o),r=W(()=>({"transform-origin":"0 0",transform:`scale(${e.value.scaling}) translate(${e.value.panning.x}px, ${e.value.panning.y}px)`})),l=(p,g,v)=>{const w=[p/e.value.scaling-e.value.panning.x,g/e.value.scaling-e.value.panning.y],$=[p/v-e.value.panning.x,g/v-e.value.panning.y],E=[$[0]-w[0],$[1]-w[1]];e.value.panning.x+=E[0],e.value.panning.y+=E[1],e.value.scaling=v},a=p=>{p.preventDefault();let g=p.deltaY;p.deltaMode===1&&(g*=32);const v=e.value.scaling*(1-g/3e3);l(p.offsetX,p.offsetY,v)},c=()=>({ax:t[0].clientX,ay:t[0].clientY,bx:t[1].clientX,by:t[1].clientY});return{styles:r,...i,onPointerDown:p=>{if(t.push(p),i.onPointerDown(p),t.length===2){const{ax:g,ay:v,bx:w,by:$}=c();s={x:g+(w-g)/2,y:v+($-v)/2}}},onPointerMove:p=>{for(let g=0;g<t.length;g++)if(p.pointerId==t[g].pointerId){t[g]=p;break}if(t.length==2){const{ax:g,ay:v,bx:w,by:$}=c(),E=g-w,V=v-$,P=Math.sqrt(E*E+V*V);if(n>0){const j=e.value.scaling*(1+(P-n)/500);l(s.x,s.y,j)}n=P}else i.onPointerMove(p)},onPointerUp:p=>{t=t.filter(g=>g.pointerId!==p.pointerId),n=-1,i.onPointerUp()},onMouseWheel:a}}var et=(e=>(e[e.NONE=0]="NONE",e[e.ALLOWED=1]="ALLOWED",e[e.FORBIDDEN=2]="FORBIDDEN",e))(et||{});const Ua=Symbol();function lp(){const{graph:e}=dt(),t=L(null),n=L(null),s=l=>{t.value&&(t.value.mx=l.offsetX/e.value.scaling-e.value.panning.x,t.value.my=l.offsetY/e.value.scaling-e.value.panning.y)},o=()=>{if(n.value){if(t.value)return;const l=e.value.connections.find(a=>a.to===n.value);n.value.isInput&&l?(t.value={status:et.NONE,from:l.from},e.value.removeConnection(l)):t.value={status:et.NONE,from:n.value},t.value.mx=void 0,t.value.my=void 0}},i=()=>{if(t.value&&n.value){if(t.value.from===n.value)return;e.value.addConnection(t.value.from,t.value.to)}t.value=null},r=l=>{if(n.value=l??null,l&&t.value){t.value.to=l;const a=e.value.checkConnection(t.value.from,t.value.to);if(t.value.status=a.connectionAllowed?et.ALLOWED:et.FORBIDDEN,a.connectionAllowed){const c=a.connectionsInDanger.map(u=>u.id);e.value.connections.forEach(u=>{c.includes(u.id)&&(u.isInDanger=!0)})}}else!l&&t.value&&(t.value.to=void 0,t.value.status=et.NONE,e.value.connections.forEach(a=>{a.isInDanger=!1}))};return hi(Ua,{temporaryConnection:t,hoveredOver:r}),{temporaryConnection:t,onMouseMove:s,onMouseDown:o,onMouseUp:i,hoveredOver:r}}function ap(e){const t=L(!1),n=L(0),s=L(0),o=Ba(e),{transform:i}=Va(),r=W(()=>{let u=[];const h={};for(const p of o.value){const g=Object.entries(p.nodeTypes).map(([v,w])=>({label:w.title,value:"addNode:"+v}));p.name==="default"?u=g:h[p.name]=g}const d=[...Object.entries(h).map(([p,g])=>({label:p,submenu:g}))];return d.length>0&&u.length>0&&d.push({isDivider:!0}),d.push(...u),d}),l=W(()=>e.value.settings.contextMenu.additionalItems.length===0?r.value:[{label:"Add node",submenu:r.value},...e.value.settings.contextMenu.additionalItems.map(u=>"isDivider"in u||"submenu"in u?u:{label:u.label,value:"command:"+u.command,disabled:!e.value.commandHandler.canExecuteCommand(u.command)})]);function a(u){t.value=!0,n.value=u.offsetX,s.value=u.offsetY}function c(u){if(u.startsWith("addNode:")){const h=u.substring(8),d=e.value.editor.nodeTypes.get(h);if(!d)return;const p=Pe(new d.type);e.value.displayedGraph.addNode(p);const[g,v]=i(n.value,s.value);p.position.x=g,p.position.y=v}else if(u.startsWith("command:")){const h=u.substring(8);e.value.commandHandler.canExecuteCommand(h)&&e.value.commandHandler.executeCommand(h)}}return{show:t,x:n,y:s,items:l,open:a,onClick:c}}const cp=Ne({setup(){const{viewModel:e}=ot(),{graph:t}=dt();return{styles:W(()=>{const s=e.value.settings.background,o=t.value.panning.x*t.value.scaling,i=t.value.panning.y*t.value.scaling,r=t.value.scaling*s.gridSize,l=r/s.gridDivision,a=`${r}px ${r}px, ${r}px ${r}px`,c=t.value.scaling>s.subGridVisibleThreshold?`, ${l}px ${l}px, ${l}px ${l}px`:"";return{backgroundPosition:`left ${o}px top ${i}px`,backgroundSize:`${a} ${c}`}})}}}),Ce=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n};function up(e,t,n,s,o,i){return I(),G("div",{class:"background",style:oe(e.styles)},null,4)}const dp=Ce(cp,[["render",up]]);function fp(e){return Zo()?(ul(e),!0):!1}function Oi(e){return typeof e=="function"?e():T(e)}const Wa=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const hp=Object.prototype.toString,pp=e=>hp.call(e)==="[object Object]",Is=()=>{},mp=gp();function gp(){var e,t;return Wa&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window?.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function vp(e,t,n=!1){return t.reduce((s,o)=>(o in e&&(!n||e[o]!==void 0)&&(s[o]=e[o]),s),{})}function _p(e,t={}){if(!Te(e))return Kc(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const s in e.value)n[s]=jc(()=>({get(){return e.value[s]},set(o){var i;if((i=Oi(t.replaceRef))!=null?i:!0)if(Array.isArray(e.value)){const l=[...e.value];l[s]=o,e.value=l}else{const l={...e.value,[s]:o};Object.setPrototypeOf(l,Object.getPrototypeOf(e.value)),e.value=l}else e.value[s]=o}}));return n}function Ln(e){var t;const n=Oi(e);return(t=n?.$el)!=null?t:n}const Ai=Wa?window:void 0;function Bn(...e){let t,n,s,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,o]=e,t=Ai):[t,n,s,o]=e,!t)return Is;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const i=[],r=()=>{i.forEach(u=>u()),i.length=0},l=(u,h,d,p)=>(u.addEventListener(h,d,p),()=>u.removeEventListener(h,d,p)),a=ve(()=>[Ln(t),Oi(o)],([u,h])=>{if(r(),!u)return;const d=pp(h)?{...h}:h;i.push(...n.flatMap(p=>s.map(g=>l(u,p,g,d))))},{immediate:!0,flush:"post"}),c=()=>{a(),r()};return fp(c),c}let Yr=!1;function ja(e,t,n={}){const{window:s=Ai,ignore:o=[],capture:i=!0,detectIframe:r=!1}=n;if(!s)return Is;mp&&!Yr&&(Yr=!0,Array.from(s.document.body.children).forEach(d=>d.addEventListener("click",Is)),s.document.documentElement.addEventListener("click",Is));let l=!0;const a=d=>o.some(p=>{if(typeof p=="string")return Array.from(s.document.querySelectorAll(p)).some(g=>g===d.target||d.composedPath().includes(g));{const g=Ln(p);return g&&(d.target===g||d.composedPath().includes(g))}}),u=[Bn(s,"click",d=>{const p=Ln(e);if(!(!p||p===d.target||d.composedPath().includes(p))){if(d.detail===0&&(l=!a(d)),!l){l=!0;return}t(d)}},{passive:!0,capture:i}),Bn(s,"pointerdown",d=>{const p=Ln(e);l=!a(d)&&!!(p&&!d.composedPath().includes(p))},{passive:!0}),r&&Bn(s,"blur",d=>{setTimeout(()=>{var p;const g=Ln(e);((p=s.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!g?.contains(s.document.activeElement)&&t(d)},0)})].filter(Boolean);return()=>u.forEach(d=>d())}const Ka={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},yp=Object.keys(Ka);function bp(e={}){const{target:t=Ai}=e,n=L(!1),s=L(e.initialValue||{});Object.assign(s.value,Ka,s.value);const o=i=>{n.value=!0,!(e.pointerTypes&&!e.pointerTypes.includes(i.pointerType))&&(s.value=vp(i,yp,!1))};if(t){const i={passive:!0};Bn(t,["pointerdown","pointermove","pointerup"],o,i),Bn(t,"pointerleave",()=>n.value=!1,i)}return{..._p(s),isInside:n}}const wp=["onMouseenter","onMouseleave","onClick"],Cp={class:"flex-fill"},xp={key:0,class:"__submenu-icon",style:{"line-height":"1em"}},Tp=b("svg",{width:"13",height:"13",viewBox:"-60 120 250 250"},[b("path",{d:"M160.875 279.5625 L70.875 369.5625 L70.875 189.5625 L160.875 279.5625 Z",stroke:"none",fill:"white"})],-1),Sp=[Tp],$i=Ne({__name:"ContextMenu",props:{modelValue:{type:Boolean},items:{},x:{default:0},y:{default:0},isNested:{type:Boolean,default:!1},isFlipped:{default:()=>({x:!1,y:!1})},flippable:{type:Boolean,default:!1}},emits:["update:modelValue","click"],setup(e,{emit:t}){const n=e,s=t;let o=null;const i=L(null),r=L(-1),l=L(0),a=L({x:!1,y:!1}),c=W(()=>n.flippable&&(a.value.x||n.isFlipped.x)),u=W(()=>n.flippable&&(a.value.y||n.isFlipped.y)),h=W(()=>{const E={};return n.isNested||(E.top=(u.value?n.y-l.value:n.y)+"px",E.left=n.x+"px"),E}),d=W(()=>({"--flipped-x":c.value,"--flipped-y":u.value,"--nested":n.isNested})),p=W(()=>n.items.map(E=>({...E,hover:!1})));ve([()=>n.y,()=>n.items],()=>{var E,V,P,j;l.value=n.items.length*30;const F=((V=(E=i.value)==null?void 0:E.parentElement)==null?void 0:V.offsetWidth)??0,O=((j=(P=i.value)==null?void 0:P.parentElement)==null?void 0:j.offsetHeight)??0;a.value.x=!n.isNested&&n.x>F*.75,a.value.y=!n.isNested&&n.y+l.value>O-20}),ja(i,()=>{n.modelValue&&s("update:modelValue",!1)});const g=E=>{!E.submenu&&E.value&&(s("click",E.value),s("update:modelValue",!1))},v=E=>{s("click",E),r.value=-1,n.isNested||s("update:modelValue",!1)},w=(E,V)=>{n.items[V].submenu&&(r.value=V,o!==null&&(clearTimeout(o),o=null))},$=(E,V)=>{n.items[V].submenu&&(o=window.setTimeout(()=>{r.value=-1,o=null},200))};return(E,V)=>{const P=nn("ContextMenu",!0);return I(),ke(En,{name:"slide-fade"},{default:ct(()=>[es(b("div",{ref_key:"el",ref:i,class:Me(["baklava-context-menu",d.value]),style:oe(h.value)},[(I(!0),G(le,null,Be(p.value,(j,F)=>(I(),G(le,null,[j.isDivider?(I(),G("div",{key:`d-${F}`,class:"divider"})):(I(),G("div",{key:`i-${F}`,class:Me(["item",{submenu:!!j.submenu,"--disabled":!!j.disabled}]),onMouseenter:O=>w(O,F),onMouseleave:O=>$(O,F),onClick:ze(O=>g(j),["stop","prevent"])},[b("div",Cp,ae(j.label),1),j.submenu?(I(),G("div",xp,Sp)):Ke("",!0),j.submenu?(I(),ke(P,{key:1,"model-value":r.value===F,items:j.submenu,"is-nested":!0,"is-flipped":{x:c.value,y:u.value},flippable:E.flippable,onClick:v},null,8,["model-value","items","is-flipped","flippable"])):Ke("",!0)],42,wp))],64))),256))],6),[[oa,E.modelValue]])]),_:1})}}}),Ep={},Ip={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Mp=b("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Np=b("circle",{cx:"12",cy:"12",r:"1"},null,-1),Op=b("circle",{cx:"12",cy:"19",r:"1"},null,-1),Ap=b("circle",{cx:"12",cy:"5",r:"1"},null,-1),$p=[Mp,Np,Op,Ap];function kp(e,t){return I(),G("svg",Ip,$p)}const za=Ce(Ep,[["render",kp]]),Pp=["id"],Dp={key:0,class:"__tooltip"},Rp={key:2,class:"align-middle"},qr=Ne({__name:"NodeInterface",props:{node:{},intf:{}},setup(e){const t=(w,$=100)=>{const E=w?.toString?w.toString():"";return E.length>$?E.slice(0,$)+"...":E},n=e,{viewModel:s}=ot(),{hoveredOver:o,temporaryConnection:i}=mn(Ua),r=L(null),l=W(()=>n.intf.connectionCount>0),a=L(!1),c=W(()=>s.value.settings.displayValueOnHover&&a.value),u=W(()=>({"--input":n.intf.isInput,"--output":!n.intf.isInput,"--connected":l.value})),h=W(()=>n.intf.component&&(!n.intf.isInput||!n.intf.port||n.intf.connectionCount===0)),d=()=>{a.value=!0,o(n.intf)},p=()=>{a.value=!1,o(void 0)},g=()=>{r.value&&s.value.hooks.renderInterface.execute({intf:n.intf,el:r.value})},v=()=>{const w=s.value.displayedGraph.sidebar;w.nodeId=n.node.id,w.optionName=n.intf.name,w.visible=!0};return Bt(g),eo(g),(w,$)=>{var E;return I(),G("div",{id:w.intf.id,ref_key:"el",ref:r,class:Me(["baklava-node-interface",u.value])},[w.intf.port?(I(),G("div",{key:0,class:Me(["__port",{"--selected":((E=T(i))==null?void 0:E.from)===w.intf}]),onPointerover:d,onPointerout:p},[Ae(w.$slots,"portTooltip",{showTooltip:c.value},()=>[c.value===!0?(I(),G("span",Dp,ae(t(w.intf.value)),1)):Ke("",!0)])],34)):Ke("",!0),h.value?(I(),ke(ci(w.intf.component),{key:1,modelValue:w.intf.value,"onUpdate:modelValue":$[0]||($[0]=V=>w.intf.value=V),node:w.node,intf:w.intf,onOpenSidebar:v},null,40,["modelValue","node","intf"])):(I(),G("span",Rp,ae(w.intf.name),1))],10,Pp)}}}),Lp=["id","data-node-type"],Gp={class:"__title-label"},Hp={class:"__menu"},Fp={class:"__outputs"},Bp={class:"__inputs"},Vp=Ne({__name:"Node",props:{node:{},selected:{type:Boolean,default:!1},dragging:{type:Boolean}},emits:["select","start-drag"],setup(e,{emit:t}){const n=e,s=t,{viewModel:o}=ot(),{graph:i,switchGraph:r}=dt(),l=L(null),a=L(!1),c=L(""),u=L(null),h=L(!1),d=L(!1),p=W(()=>{const R=[{value:"rename",label:"Rename"},{value:"delete",label:"Delete"}];return n.node.type.startsWith(Jn)&&R.push({value:"editSubgraph",label:"Edit Subgraph"}),R}),g=W(()=>({"--selected":n.selected,"--dragging":n.dragging,"--two-column":!!n.node.twoColumn})),v=W(()=>{var R,D;return{top:`${((R=n.node.position)==null?void 0:R.y)??0}px`,left:`${((D=n.node.position)==null?void 0:D.x)??0}px`,"--width":`${n.node.width??o.value.settings.nodes.defaultWidth}px`}}),w=W(()=>Object.values(n.node.inputs).filter(R=>!R.hidden)),$=W(()=>Object.values(n.node.outputs).filter(R=>!R.hidden)),E=()=>{s("select")},V=R=>{n.selected||E(),s("start-drag",R)},P=()=>{d.value=!0},j=async R=>{var D;switch(R){case"delete":i.value.removeNode(n.node);break;case"rename":c.value=n.node.title,a.value=!0,await Mt(),(D=u.value)==null||D.focus();break;case"editSubgraph":r(n.node.template);break}},F=()=>{n.node.title=c.value,a.value=!1},O=()=>{l.value&&o.value.hooks.renderNode.execute({node:n.node,el:l.value})},H=R=>{h.value=!0,R.preventDefault()},_=R=>{if(!h.value)return;const D=n.node.width+R.movementX/i.value.scaling,Q=o.value.settings.nodes.minWidth,X=o.value.settings.nodes.maxWidth;n.node.width=Math.max(Q,Math.min(X,D))},k=()=>{h.value=!1};return Bt(()=>{O(),window.addEventListener("mousemove",_),window.addEventListener("mouseup",k)}),eo(O),ts(()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",k)}),(R,D)=>(I(),G("div",{id:R.node.id,ref_key:"el",ref:l,class:Me(["baklava-node",g.value]),style:oe(v.value),"data-node-type":R.node.type,onPointerdown:E},[T(o).settings.nodes.resizable?(I(),G("div",{key:0,class:"__resize-handle",onMousedown:H},null,32)):Ke("",!0),Ae(R.$slots,"title",{},()=>[b("div",{class:"__title",onPointerdown:ze(V,["self","stop"])},[a.value?es((I(),G("input",{key:1,ref_key:"renameInputEl",ref:u,"onUpdate:modelValue":D[1]||(D[1]=Q=>c.value=Q),type:"text",class:"baklava-input",placeholder:"Node Name",onBlur:F,onKeydown:Go(F,["enter"])},null,544)),[[_i,c.value]]):(I(),G(le,{key:0},[b("div",Gp,ae(R.node.title),1),b("div",Hp,[q(za,{class:"--clickable",onClick:P}),q($i,{modelValue:d.value,"onUpdate:modelValue":D[0]||(D[0]=Q=>d.value=Q),x:0,y:0,items:p.value,onClick:j},null,8,["modelValue","items"])])],64))],32)]),Ae(R.$slots,"content",{},()=>[b("div",{class:"__content",onKeydown:D[2]||(D[2]=Go(ze(()=>{},["stop"]),["delete"]))},[b("div",Fp,[(I(!0),G(le,null,Be($.value,Q=>Ae(R.$slots,"nodeInterface",{key:Q.id,type:"output",node:R.node,intf:Q},()=>[q(qr,{node:R.node,intf:Q},null,8,["node","intf"])])),128))]),b("div",Bp,[(I(!0),G(le,null,Be(w.value,Q=>Ae(R.$slots,"nodeInterface",{key:Q.id,type:"input",node:R.node,intf:Q},()=>[q(qr,{node:R.node,intf:Q},null,8,["node","intf"])])),128))])],32)])],46,Lp))}}),Up=Ne({props:{x1:{type:Number,required:!0},y1:{type:Number,required:!0},x2:{type:Number,required:!0},y2:{type:Number,required:!0},state:{type:Number,default:et.NONE},isTemporary:{type:Boolean,default:!1}},setup(e){const{viewModel:t}=ot(),{graph:n}=dt(),s=(r,l)=>{const a=(r+n.value.panning.x)*n.value.scaling,c=(l+n.value.panning.y)*n.value.scaling;return[a,c]},o=W(()=>{const[r,l]=s(e.x1,e.y1),[a,c]=s(e.x2,e.y2);if(t.value.settings.useStraightConnections)return`M ${r} ${l} L ${a} ${c}`;{const u=.3*Math.abs(r-a);return`M ${r} ${l} C ${r+u} ${l}, ${a-u} ${c}, ${a} ${c}`}}),i=W(()=>({"--temporary":e.isTemporary,"--allowed":e.state===et.ALLOWED,"--forbidden":e.state===et.FORBIDDEN}));return{d:o,classes:i}}}),Wp=["d"];function jp(e,t,n,s,o,i){return I(),G("path",{class:Me(["baklava-connection",e.classes]),d:e.d},null,10,Wp)}const Ya=Ce(Up,[["render",jp]]);function Kp(e){return document.getElementById(e.id)}function Cn(e){const t=document.getElementById(e.id),n=t?.getElementsByClassName("__port");return{node:t?.closest(".baklava-node")??null,interface:t,port:n&&n.length>0?n[0]:null}}const zp=Ne({components:{"connection-view":Ya},props:{connection:{type:Object,required:!0}},setup(e){const{graph:t}=dt();let n;const s=L({x1:0,y1:0,x2:0,y2:0}),o=W(()=>e.connection.isInDanger?et.FORBIDDEN:et.NONE),i=W(()=>{var c;return(c=t.value.findNodeById(e.connection.from.nodeId))==null?void 0:c.position}),r=W(()=>{var c;return(c=t.value.findNodeById(e.connection.to.nodeId))==null?void 0:c.position}),l=c=>c.node&&c.interface&&c.port?[c.node.offsetLeft+c.interface.offsetLeft+c.port.offsetLeft+c.port.clientWidth/2,c.node.offsetTop+c.interface.offsetTop+c.port.offsetTop+c.port.clientHeight/2]:[0,0],a=()=>{const c=Cn(e.connection.from),u=Cn(e.connection.to);c.node&&u.node&&(n||(n=new ResizeObserver(()=>{a()}),n.observe(c.node),n.observe(u.node)));const[h,d]=l(c),[p,g]=l(u);s.value={x1:h,y1:d,x2:p,y2:g}};return Bt(async()=>{await Mt(),a()}),ts(()=>{n&&n.disconnect()}),ve([i,r],()=>a(),{deep:!0}),{d:s,state:o}}});function Yp(e,t,n,s,o,i){const r=nn("connection-view");return I(),ke(r,{x1:e.d.x1,y1:e.d.y1,x2:e.d.x2,y2:e.d.y2,state:e.state},null,8,["x1","y1","x2","y2","state"])}const qp=Ce(zp,[["render",Yp]]);function Fs(e){return e.node&&e.interface&&e.port?[e.node.offsetLeft+e.interface.offsetLeft+e.port.offsetLeft+e.port.clientWidth/2,e.node.offsetTop+e.interface.offsetTop+e.port.offsetTop+e.port.clientHeight/2]:[0,0]}const Xp=Ne({components:{"connection-view":Ya},props:{connection:{type:Object,required:!0}},setup(e){const t=W(()=>e.connection?e.connection.status:et.NONE);return{d:W(()=>{if(!e.connection)return{input:[0,0],output:[0,0]};const s=Fs(Cn(e.connection.from)),o=e.connection.to?Fs(Cn(e.connection.to)):[e.connection.mx||s[0],e.connection.my||s[1]];return e.connection.from.isInput?{input:o,output:s}:{input:s,output:o}}),status:t}}});function Jp(e,t,n,s,o,i){const r=nn("connection-view");return I(),ke(r,{x1:e.d.input[0],y1:e.d.input[1],x2:e.d.output[0],y2:e.d.output[1],state:e.status,"is-temporary":""},null,8,["x1","y1","x2","y2","state"])}const Zp=Ce(Xp,[["render",Jp]]),Qp=Ne({setup(){const{viewModel:e}=ot(),{graph:t}=dt(),n=L(null),s=Un(e.value.settings.sidebar,"width"),o=W(()=>e.value.settings.sidebar.resizable),i=W(()=>{const h=t.value.sidebar.nodeId;return t.value.nodes.find(d=>d.id===h)}),r=W(()=>({width:`${s.value}px`})),l=W(()=>i.value?[...Object.values(i.value.inputs),...Object.values(i.value.outputs)].filter(d=>d.displayInSidebar&&d.component):[]),a=()=>{t.value.sidebar.visible=!1},c=()=>{window.addEventListener("mousemove",u),window.addEventListener("mouseup",()=>{window.removeEventListener("mousemove",u)},{once:!0})},u=h=>{var d,p;const g=((p=(d=n.value)==null?void 0:d.parentElement)==null?void 0:p.getBoundingClientRect().width)??500;let v=s.value-h.movementX;v<300?v=300:v>.9*g&&(v=.9*g),s.value=v};return{el:n,graph:t,resizable:o,node:i,styles:r,displayedInterfaces:l,startResize:c,close:a}}}),em={class:"__header"},tm={class:"__node-name"};function nm(e,t,n,s,o,i){return I(),G("div",{ref:"el",class:Me(["baklava-sidebar",{"--open":e.graph.sidebar.visible}]),style:oe(e.styles)},[e.resizable?(I(),G("div",{key:0,class:"__resizer",onMousedown:t[0]||(t[0]=(...r)=>e.startResize&&e.startResize(...r))},null,32)):Ke("",!0),b("div",em,[b("button",{tabindex:"-1",class:"__close",onClick:t[1]||(t[1]=(...r)=>e.close&&e.close(...r))},"×"),b("div",tm,[b("b",null,ae(e.node?e.node.title:""),1)])]),(I(!0),G(le,null,Be(e.displayedInterfaces,r=>(I(),G("div",{key:r.id,class:"__interface"},[(I(),ke(ci(r.component),{modelValue:r.value,"onUpdate:modelValue":l=>r.value=l,node:e.node,intf:r},null,8,["modelValue","onUpdate:modelValue","node","intf"]))]))),128))],6)}const sm=Ce(Qp,[["render",nm]]),om=Ne({__name:"Minimap",setup(e){const{viewModel:t}=ot(),{graph:n}=dt(),s=L(null),o=L(!1);let i,r=!1,l={x1:0,y1:0,x2:0,y2:0},a;const c=()=>{var F,O;if(!i)return;i.canvas.width=s.value.offsetWidth,i.canvas.height=s.value.offsetHeight;const H=new Map,_=new Map;for(const X of n.value.nodes){const me=Kp(X),ie=me?.offsetWidth??0,re=me?.offsetHeight??0,ne=((F=X.position)==null?void 0:F.x)??0,Oe=((O=X.position)==null?void 0:O.y)??0;H.set(X,{x1:ne,y1:Oe,x2:ne+ie,y2:Oe+re}),_.set(X,me)}const k={x1:Number.MAX_SAFE_INTEGER,y1:Number.MAX_SAFE_INTEGER,x2:Number.MIN_SAFE_INTEGER,y2:Number.MIN_SAFE_INTEGER};for(const X of H.values())X.x1<k.x1&&(k.x1=X.x1),X.y1<k.y1&&(k.y1=X.y1),X.x2>k.x2&&(k.x2=X.x2),X.y2>k.y2&&(k.y2=X.y2);const R=50;k.x1-=R,k.y1-=R,k.x2+=R,k.y2+=R,l=k;const D=i.canvas.width/i.canvas.height,Q=(l.x2-l.x1)/(l.y2-l.y1);if(D>Q){const X=(D-Q)*(l.y2-l.y1)*.5;l.x1-=X,l.x2+=X}else{const X=l.x2-l.x1,me=l.y2-l.y1,ie=(X-D*me)/D*.5;l.y1-=ie,l.y2+=ie}i.clearRect(0,0,i.canvas.width,i.canvas.height),i.strokeStyle="white";for(const X of n.value.connections){const[me,ie]=Fs(Cn(X.from)),[re,ne]=Fs(Cn(X.to)),[Oe,Vt]=u(me,ie),[Ye,Ge]=u(re,ne);if(i.beginPath(),i.moveTo(Oe,Vt),t.value.settings.useStraightConnections)i.lineTo(Ye,Ge);else{const In=.3*Math.abs(Oe-Ye);i.bezierCurveTo(Oe+In,Vt,Ye-In,Ge,Ye,Ge)}i.stroke()}i.strokeStyle="lightgray";for(const[X,me]of H.entries()){const[ie,re]=u(me.x1,me.y1),[ne,Oe]=u(me.x2,me.y2);i.fillStyle=d(_.get(X)),i.beginPath(),i.rect(ie,re,ne-ie,Oe-re),i.fill(),i.stroke()}if(o.value){const X=g(),[me,ie]=u(X.x1,X.y1),[re,ne]=u(X.x2,X.y2);i.fillStyle="rgba(255, 255, 255, 0.2)",i.fillRect(me,ie,re-me,ne-ie)}},u=(F,O)=>[(F-l.x1)/(l.x2-l.x1)*i.canvas.width,(O-l.y1)/(l.y2-l.y1)*i.canvas.height],h=(F,O)=>[F*(l.x2-l.x1)/i.canvas.width+l.x1,O*(l.y2-l.y1)/i.canvas.height+l.y1],d=F=>{if(F){const O=F.querySelector(".__content");if(O){const _=p(O);if(_)return _}const H=p(F);if(H)return H}return"gray"},p=F=>{const O=getComputedStyle(F).backgroundColor;if(O&&O!=="rgba(0, 0, 0, 0)")return O},g=()=>{const F=s.value.parentElement.offsetWidth,O=s.value.parentElement.offsetHeight,H=F/n.value.scaling-n.value.panning.x,_=O/n.value.scaling-n.value.panning.y;return{x1:-n.value.panning.x,y1:-n.value.panning.y,x2:H,y2:_}},v=F=>{F.button===0&&(r=!0,w(F))},w=F=>{if(r){const[O,H]=h(F.offsetX,F.offsetY),_=g(),k=(_.x2-_.x1)/2,R=(_.y2-_.y1)/2;n.value.panning.x=-(O-k),n.value.panning.y=-(H-R)}},$=()=>{r=!1},E=()=>{o.value=!0},V=()=>{o.value=!1,$()};ve([o,n.value.panning,()=>n.value.scaling,()=>n.value.connections.length],()=>{c()});const P=W(()=>n.value.nodes.map(F=>F.position)),j=W(()=>n.value.nodes.map(F=>F.width));return ve([P,j],()=>{c()},{deep:!0}),Bt(()=>{i=s.value.getContext("2d"),i.imageSmoothingQuality="high",c(),a=setInterval(c,500)}),ts(()=>{clearInterval(a)}),(F,O)=>(I(),G("canvas",{ref_key:"canvas",ref:s,class:"baklava-minimap",onMouseenter:E,onMouseleave:V,onMousedown:ze(v,["self"]),onMousemove:ze(w,["self"]),onMouseup:$},null,544))}}),im=Ne({components:{ContextMenu:$i,VerticalDots:za},props:{type:{type:String,required:!0},title:{type:String,required:!0}},setup(e){const{viewModel:t}=ot(),{switchGraph:n}=dt(),s=L(!1),o=W(()=>e.type.startsWith(Jn));return{showContextMenu:s,hasContextMenu:o,contextMenuItems:[{label:"Edit Subgraph",value:"editSubgraph"},{label:"Delete Subgraph",value:"deleteSubgraph"}],openContextMenu:()=>{s.value=!0},onContextMenuClick:a=>{const c=e.type.substring(Jn.length),u=t.value.editor.graphTemplates.find(h=>h.id===c);if(u)switch(a){case"editSubgraph":n(u);break;case"deleteSubgraph":t.value.editor.removeGraphTemplate(u);break}}}}}),rm=["data-node-type"],lm={class:"__title"},am={class:"__title-label"},cm={key:0,class:"__menu"};function um(e,t,n,s,o,i){const r=nn("vertical-dots"),l=nn("context-menu");return I(),G("div",{class:"baklava-node --palette","data-node-type":e.type},[b("div",lm,[b("div",am,ae(e.title),1),e.hasContextMenu?(I(),G("div",cm,[q(r,{class:"--clickable",onPointerdown:t[0]||(t[0]=ze(()=>{},["stop","prevent"])),onClick:ze(e.openContextMenu,["stop","prevent"])},null,8,["onClick"]),q(l,{modelValue:e.showContextMenu,"onUpdate:modelValue":t[1]||(t[1]=a=>e.showContextMenu=a),x:-100,y:0,items:e.contextMenuItems,onClick:e.onContextMenuClick,onPointerdown:t[2]||(t[2]=ze(()=>{},["stop","prevent"]))},null,8,["modelValue","items","onClick"])])):Ke("",!0)])],8,rm)}const Xr=Ce(im,[["render",um]]),dm={class:"baklava-node-palette"},fm={key:0},hm=Ne({__name:"NodePalette",setup(e){const{viewModel:t}=ot(),{x:n,y:s}=bp(),{transform:o}=Va(),i=Ba(t),r=mn("editorEl"),l=L(null),a=W(()=>{if(!l.value||!r?.value)return{};const{left:u,top:h}=r.value.getBoundingClientRect();return{top:`${s.value-h}px`,left:`${n.value-u}px`}}),c=(u,h)=>{l.value={type:u,nodeInformation:h};const d=()=>{const p=Pe(new h.type);t.value.displayedGraph.addNode(p);const g=r.value.getBoundingClientRect(),[v,w]=o(n.value-g.left,s.value-g.top);p.position.x=v,p.position.y=w,l.value=null,document.removeEventListener("pointerup",d)};document.addEventListener("pointerup",d)};return(u,h)=>(I(),G(le,null,[b("div",dm,[(I(!0),G(le,null,Be(T(i),d=>(I(),G("section",{key:d.name},[d.name!=="default"?(I(),G("h1",fm,ae(d.name),1)):Ke("",!0),(I(!0),G(le,null,Be(d.nodeTypes,(p,g)=>(I(),ke(Xr,{key:g,type:g,title:p.title,onPointerdown:v=>c(g,p)},null,8,["type","title","onPointerdown"]))),128))]))),128))]),q(En,{name:"fade"},{default:ct(()=>[l.value?(I(),G("div",{key:0,class:"baklava-dragged-node",style:oe(a.value)},[q(Xr,{type:l.value.type,title:l.value.nodeInformation.title},null,8,["type","title"])],4)):Ke("",!0)]),_:1})],64))}});let bs;const pm=new Uint8Array(16);function mm(){if(!bs&&(bs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bs(pm)}const Ee=[];for(let e=0;e<256;++e)Ee.push((e+256).toString(16).slice(1));function gm(e,t=0){return Ee[e[t+0]]+Ee[e[t+1]]+Ee[e[t+2]]+Ee[e[t+3]]+"-"+Ee[e[t+4]]+Ee[e[t+5]]+"-"+Ee[e[t+6]]+Ee[e[t+7]]+"-"+Ee[e[t+8]]+Ee[e[t+9]]+"-"+Ee[e[t+10]]+Ee[e[t+11]]+Ee[e[t+12]]+Ee[e[t+13]]+Ee[e[t+14]]+Ee[e[t+15]]}const vm=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jr={randomUUID:vm};function Bs(e,t,n){if(Jr.randomUUID&&!t&&!e)return Jr.randomUUID();e=e||{};const s=e.random||(e.rng||mm)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){n=n||0;for(let o=0;o<16;++o)t[n+o]=s[o];return t}return gm(s)}const Zn="SAVE_SUBGRAPH";function _m(e,t){const n=()=>{const s=e.value;if(!s.template)throw new Error("Graph template property not set");s.template.update(s.save()),s.template.panning=s.panning,s.template.scaling=s.scaling};t.registerCommand(Zn,{canExecute:()=>{var s;return e.value!==((s=e.value.editor)==null?void 0:s.graph)},execute:n})}const Zr=9;function ym(e){return"validate"in e}class bm extends Le{constructor(t,n,s,o){super(t,n),this.min=s,this.max=o}validate(t){return(!this.min||t>=this.min)&&(!this.max||t<=this.max)}}const wm=(e,t=3)=>{const n=L(null),s=L(!1),o=L(!1),i=L("0"),r=W(()=>{const h=e.value.value.toFixed(t);return h.length>Zr?e.value.value.toExponential(Zr-5):h}),l=h=>Number.isNaN(h)?!1:ym(e.value)?e.value.validate(h):!0,a=h=>{l(h)&&(e.value.value=h)};return ve(i,()=>{o.value=!1}),{editMode:s,invalid:o,tempValue:i,inputEl:n,stringRepresentation:r,validate:l,setValue:a,enterEditMode:async()=>{i.value=e.value.value.toFixed(t),s.value=!0,await Mt(),n.value&&n.value.focus()},leaveEditMode:()=>{const h=parseFloat(i.value);l(h)?(a(h),s.value=!1):o.value=!0}}},Cm={},xm={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Tm=b("polyline",{points:"6 9 12 15 18 9"},null,-1),Sm=[Tm];function Em(e,t){return I(),G("svg",xm,Sm)}const Uo=Ce(Cm,[["render",Em]]),Im={class:"baklava-num-input"},Mm=["title"],Nm={class:"__value"},Om={key:1,class:"__content"},Am=Ne({__name:"NumberInterface",props:{intf:{}},setup(e){const t=e,{editMode:n,invalid:s,tempValue:o,inputEl:i,stringRepresentation:r,enterEditMode:l,leaveEditMode:a,setValue:c}=wm(Un(t,"intf"));function u(){const d=parseFloat((t.intf.value+.1).toFixed(3));c(d)}function h(){const d=parseFloat((t.intf.value-.1).toFixed(3));c(d)}return(d,p)=>(I(),G("div",Im,[b("div",{class:"__button --dec",onClick:h},[q(Uo)]),T(n)?(I(),G("div",Om,[es(b("input",{ref_key:"inputEl",ref:i,"onUpdate:modelValue":p[1]||(p[1]=g=>Te(o)?o.value=g:null),type:"number",class:Me(["baklava-input",{"--invalid":T(s)}]),style:{"text-align":"right"},onBlur:p[2]||(p[2]=(...g)=>T(a)&&T(a)(...g)),onKeydown:p[3]||(p[3]=Go((...g)=>T(a)&&T(a)(...g),["enter"]))},null,34),[[_i,T(o)]])])):(I(),G("div",{key:0,class:"__content",onClick:p[0]||(p[0]=(...g)=>T(l)&&T(l)(...g))},[b("div",{class:"__label",title:d.intf.name},ae(d.intf.name),9,Mm),b("div",Nm,ae(T(r)),1)])),b("div",{class:"__button --inc",onClick:u},[q(Uo)])]))}});class Qr extends bm{constructor(){super(...arguments),this.component=Qn(Am)}}const $m=Ne({components:{"i-arrow":Uo},props:{intf:{type:Object,required:!0}},setup(e){const t=L(null),n=L(!1),s=W(()=>e.intf.items.find(r=>typeof r=="string"?r===e.intf.value:r.value===e.intf.value)),o=W(()=>s.value?typeof s.value=="string"?s.value:s.value.text:""),i=r=>{e.intf.value=typeof r=="string"?r:r.value};return ja(t,()=>{n.value=!1}),{el:t,open:n,selectedItem:s,selectedText:o,setSelected:i}}}),km=["title"],Pm={class:"__selected"},Dm={class:"__text"},Rm={class:"__icon"},Lm={class:"__dropdown"},Gm={class:"item --header"},Hm=["onClick"];function Fm(e,t,n,s,o,i){const r=nn("i-arrow");return I(),G("div",{ref:"el",class:Me(["baklava-select",{"--open":e.open}]),title:e.intf.name,onClick:t[0]||(t[0]=l=>e.open=!e.open)},[b("div",Pm,[b("div",Dm,ae(e.selectedText),1),b("div",Rm,[q(r)])]),q(En,{name:"slide-fade"},{default:ct(()=>[es(b("div",Lm,[b("div",Gm,ae(e.intf.name),1),(I(!0),G(le,null,Be(e.intf.items,(l,a)=>(I(),G("div",{key:a,class:Me(["item",{"--active":l===e.selectedItem}]),onClick:c=>e.setSelected(l)},ae(typeof l=="string"?l:l.text),11,Hm))),128))],512),[[oa,e.open]])]),_:1})],10,km)}const Bm=Ce($m,[["render",Fm]]);class Vm extends Le{constructor(t,n,s){super(t,n),this.component=Qn(Bm),this.items=s}}const Um=Ne({props:{intf:{type:Object,required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){return{v:W({get:()=>e.modelValue,set:s=>{t("update:modelValue",s)}})}}}),Wm=["placeholder","title"];function jm(e,t,n,s,o,i){return I(),G("div",null,[es(b("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>e.v=r),type:"text",class:"baklava-input",placeholder:e.intf.name,title:e.intf.name},null,8,Wm),[[_i,e.v]])])}const Km=Ce(Um,[["render",jm]]);class qa extends Le{constructor(){super(...arguments),this.component=Qn(Km)}}class Xa extends La{constructor(){super(...arguments),this._title="Subgraph Input",this.inputs={name:new qa("Name","Input").setPort(!1)},this.outputs={placeholder:new Le("Connection",void 0)}}}class Ja extends Ga{constructor(){super(...arguments),this._title="Subgraph Output",this.inputs={name:new qa("Name","Output").setPort(!1),placeholder:new Le("Connection",void 0)},this.outputs={output:new Le("Output",void 0).setHidden(!0)}}}const Za="CREATE_SUBGRAPH",el=[yn,bn];function zm(e,t,n){const s=()=>e.value.selectedNodes.filter(i=>!el.includes(i.type)).length>0,o=()=>{const{viewModel:i}=ot(),r=e.value,l=e.value.editor;if(r.selectedNodes.length===0)return;const a=r.selectedNodes.filter(_=>!el.includes(_.type)),c=a.flatMap(_=>Object.values(_.inputs)),u=a.flatMap(_=>Object.values(_.outputs)),h=r.connections.filter(_=>!u.includes(_.from)&&c.includes(_.to)),d=r.connections.filter(_=>u.includes(_.from)&&!c.includes(_.to)),p=r.connections.filter(_=>u.includes(_.from)&&c.includes(_.to)),g=a.map(_=>_.save()),v=p.map(_=>({id:_.id,from:_.from.id,to:_.to.id})),w=new Map,{xLeft:$,xRight:E,yTop:V}=Ym(a);console.log($,E,V);for(const[_,k]of h.entries()){const R=new Xa;R.inputs.name.value=k.to.name,g.push({...R.save(),position:{x:E-i.value.settings.nodes.defaultWidth-100,y:V+_*200}}),v.push({id:Bs(),from:R.outputs.placeholder.id,to:k.to.id}),w.set(k.to.id,R.graphInterfaceId)}for(const[_,k]of d.entries()){const R=new Ja;R.inputs.name.value=k.from.name,g.push({...R.save(),position:{x:$+100,y:V+_*200}}),v.push({id:Bs(),from:k.from.id,to:R.inputs.placeholder.id}),w.set(k.from.id,R.graphInterfaceId)}const P=Pe(new ao({connections:v,nodes:g,inputs:[],outputs:[]},l));l.addGraphTemplate(P);const j=l.nodeTypes.get(wn(P));if(!j)throw new Error("Unable to create subgraph: Could not find corresponding graph node type");const F=Pe(new j.type);r.addNode(F);const O=Math.round(a.map(_=>_.position.x).reduce((_,k)=>_+k,0)/a.length),H=Math.round(a.map(_=>_.position.y).reduce((_,k)=>_+k,0)/a.length);F.position.x=O,F.position.y=H,h.forEach(_=>{r.removeConnection(_),r.addConnection(_.from,F.inputs[w.get(_.to.id)])}),d.forEach(_=>{r.removeConnection(_),r.addConnection(F.outputs[w.get(_.from.id)],_.to)}),a.forEach(_=>r.removeNode(_)),t.canExecuteCommand(Zn)&&t.executeCommand(Zn),n(P),e.value.panning={...r.panning},e.value.scaling=r.scaling};t.registerCommand(Za,{canExecute:s,execute:o})}function Ym(e){const t=e.reduce((o,i)=>{const r=i.position.x;return r<o?r:o},1/0),n=e.reduce((o,i)=>{const r=i.position.y;return r<o?r:o},1/0);return{xLeft:e.reduce((o,i)=>{const r=i.position.x+i.width;return r>o?r:o},-1/0),xRight:t,yTop:n}}const tl="DELETE_NODES";function qm(e,t){t.registerCommand(tl,{canExecute:()=>e.value.selectedNodes.length>0,execute(){e.value.selectedNodes.forEach(n=>e.value.removeNode(n))}}),t.registerHotkey(["Delete"],tl)}const Qa="SWITCH_TO_MAIN_GRAPH";function Xm(e,t,n){t.registerCommand(Qa,{canExecute:()=>e.value!==e.value.editor.graph,execute:()=>{t.executeCommand(Zn),n(e.value.editor.graph)}})}function Jm(e,t,n){qm(e,t),zm(e,t,n),_m(e,t),Xm(e,t,n)}class nl{constructor(t,n){this.type=t,t==="addNode"?this.nodeId=n:this.nodeState=n}undo(t){this.type==="addNode"?this.removeNode(t):this.addNode(t)}redo(t){this.type==="addNode"&&this.nodeState?this.addNode(t):this.type==="removeNode"&&this.nodeId&&this.removeNode(t)}addNode(t){const n=t.editor.nodeTypes.get(this.nodeState.type);if(!n)return;const s=new n.type;t.addNode(s),s.load(this.nodeState),this.nodeId=s.id}removeNode(t){const n=t.nodes.find(s=>s.id===this.nodeId);n&&(this.nodeState=n.save(),t.removeNode(n))}}class sl{constructor(t,n){if(this.type=t,t==="addConnection")this.connectionId=n;else{const s=n;this.connectionState={id:s.id,from:s.from.id,to:s.to.id}}}undo(t){this.type==="addConnection"?this.removeConnection(t):this.addConnection(t)}redo(t){this.type==="addConnection"&&this.connectionState?this.addConnection(t):this.type==="removeConnection"&&this.connectionId&&this.removeConnection(t)}addConnection(t){const n=t.findNodeInterface(this.connectionState.from),s=t.findNodeInterface(this.connectionState.to);!n||!s||t.addConnection(n,s)}removeConnection(t){const n=t.connections.find(s=>s.id===this.connectionId);n&&(this.connectionState={id:n.id,from:n.from.id,to:n.to.id},t.removeConnection(n))}}class Zm{constructor(t){if(this.type="transaction",t.length===0)throw new Error("Can't create a transaction with no steps");this.steps=t}undo(t){for(let n=this.steps.length-1;n>=0;n--)this.steps[n].undo(t)}redo(t){for(let n=0;n<this.steps.length;n++)this.steps[n].redo(t)}}const Wo="UNDO",jo="REDO",ec="START_TRANSACTION",tc="COMMIT_TRANSACTION";function Qm(e,t){const n=Symbol("HistoryToken"),s=L(200),o=L([]),i=L(!1),r=L(-1),l=L(!1),a=L([]),c=w=>{if(!i.value)if(l.value)a.value.push(w);else for(r.value!==o.value.length-1&&(o.value=o.value.slice(0,r.value+1)),o.value.push(w),r.value++;o.value.length>s.value;)o.value.shift()},u=()=>{l.value=!0},h=()=>{l.value=!1,a.value.length>0&&(c(new Zm(a.value)),a.value=[])},d=()=>o.value.length!==0&&r.value!==-1,p=()=>{d()&&(i.value=!0,o.value[r.value--].undo(e.value),i.value=!1)},g=()=>o.value.length!==0&&r.value<o.value.length-1,v=()=>{g()&&(i.value=!0,o.value[++r.value].redo(e.value),i.value=!1)};return ve(e,(w,$)=>{$&&($.events.addNode.unsubscribe(n),$.events.removeNode.unsubscribe(n),$.events.addConnection.unsubscribe(n),$.events.removeConnection.unsubscribe(n)),w&&(w.events.addNode.subscribe(n,E=>{c(new nl("addNode",E.id))}),w.events.removeNode.subscribe(n,E=>{c(new nl("removeNode",E.save()))}),w.events.addConnection.subscribe(n,E=>{c(new sl("addConnection",E.id))}),w.events.removeConnection.subscribe(n,E=>{c(new sl("removeConnection",E))}))},{immediate:!0}),t.registerCommand(Wo,{canExecute:d,execute:p}),t.registerCommand(jo,{canExecute:g,execute:v}),t.registerCommand(ec,{canExecute:()=>!l.value,execute:u}),t.registerCommand(tc,{canExecute:()=>l.value,execute:h}),t.registerHotkey(["Control","z"],Wo),t.registerHotkey(["Control","y"],jo),Pe({maxSteps:s})}const Ko="COPY",zo="PASTE",eg="CLEAR_CLIPBOARD";function tg(e,t,n){const s=Symbol("ClipboardToken"),o=L(""),i=L(""),r=W(()=>!o.value),l=()=>{o.value="",i.value=""},a=()=>{const h=e.value.selectedNodes.flatMap(p=>[...Object.values(p.inputs),...Object.values(p.outputs)]),d=e.value.connections.filter(p=>h.includes(p.from)||h.includes(p.to)).map(p=>({from:p.from.id,to:p.to.id}));i.value=JSON.stringify(d),o.value=JSON.stringify(e.value.selectedNodes.map(p=>p.save()))},c=(h,d,p)=>{for(const g of h){let v;if((!p||p==="input")&&(v=Object.values(g.inputs).find(w=>w.id===d)),!v&&(!p||p==="output")&&(v=Object.values(g.outputs).find(w=>w.id===d)),v)return v}},u=()=>{if(r.value)return;const h=new Map,d=JSON.parse(o.value),p=JSON.parse(i.value),g=[],v=[],w=e.value;n.executeCommand(ec);for(const $ of d){const E=t.value.nodeTypes.get($.type);if(!E){console.warn(`Node type ${$.type} not registered`);return}const V=new E.type,P=V.id;g.push(V),V.hooks.beforeLoad.subscribe(s,j=>{const F=j;return F.position&&(F.position.x+=100,F.position.y+=100),V.hooks.beforeLoad.unsubscribe(s),F}),w.addNode(V),V.load({...$,id:P}),V.id=P,h.set($.id,P);for(const j of Object.values(V.inputs)){const F=Bs();h.set(j.id,F),j.id=F}for(const j of Object.values(V.outputs)){const F=Bs();h.set(j.id,F),j.id=F}}for(const $ of p){const E=c(g,h.get($.from),"output"),V=c(g,h.get($.to),"input");if(!E||!V)continue;const P=w.addConnection(E,V);P&&v.push(P)}return e.value.selectedNodes=g,n.executeCommand(tc),{newNodes:g,newConnections:v}};return n.registerCommand(Ko,{canExecute:()=>e.value.selectedNodes.length>0,execute:a}),n.registerHotkey(["Control","c"],Ko),n.registerCommand(zo,{canExecute:()=>!r.value,execute:u}),n.registerHotkey(["Control","v"],zo),n.registerCommand(eg,{canExecute:()=>!0,execute:l}),Pe({isEmpty:r})}const ng="OPEN_SIDEBAR";function sg(e,t){t.registerCommand(ng,{execute:n=>{e.value.sidebar.nodeId=n,e.value.sidebar.visible=!0},canExecute:()=>!0})}function og(e,t){sg(e,t)}const ig={},rg={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},lg=b("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),ag=b("path",{d:"M9 13l-4 -4l4 -4m-4 4h11a4 4 0 0 1 0 8h-1"},null,-1),cg=[lg,ag];function ug(e,t){return I(),G("svg",rg,cg)}const dg=Ce(ig,[["render",ug]]),fg={},hg={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},pg=b("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),mg=b("path",{d:"M15 13l4 -4l-4 -4m4 4h-11a4 4 0 0 0 0 8h1"},null,-1),gg=[pg,mg];function vg(e,t){return I(),G("svg",hg,gg)}const _g=Ce(fg,[["render",vg]]),yg={},bg={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},wg=b("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Cg=b("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1),xg=b("line",{x1:"5",y1:"12",x2:"11",y2:"18"},null,-1),Tg=b("line",{x1:"5",y1:"12",x2:"11",y2:"6"},null,-1),Sg=[wg,Cg,xg,Tg];function Eg(e,t){return I(),G("svg",bg,Sg)}const Ig=Ce(yg,[["render",Eg]]),Mg={},Ng={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Og=b("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Ag=b("path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"},null,-1),$g=b("rect",{x:"9",y:"3",width:"6",height:"4",rx:"2"},null,-1),kg=[Og,Ag,$g];function Pg(e,t){return I(),G("svg",Ng,kg)}const Dg=Ce(Mg,[["render",Pg]]),Rg={},Lg={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Gg=b("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Hg=b("rect",{x:"8",y:"8",width:"12",height:"12",rx:"2"},null,-1),Fg=b("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"},null,-1),Bg=[Gg,Hg,Fg];function Vg(e,t){return I(),G("svg",Lg,Bg)}const Ug=Ce(Rg,[["render",Vg]]),Wg={},jg={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Kg=b("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),zg=b("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"},null,-1),Yg=b("circle",{cx:"12",cy:"14",r:"2"},null,-1),qg=b("polyline",{points:"14 4 14 8 8 8 8 4"},null,-1),Xg=[Kg,zg,Yg,qg];function Jg(e,t){return I(),G("svg",jg,Xg)}const Zg=Ce(Wg,[["render",Jg]]),Qg={},ev={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},tv=Wu('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 3h4v4h-4z"></path><path d="M3 17h4v4h-4z"></path><path d="M17 17h4v4h-4z"></path><path d="M7 17l5 -4l5 4"></path><line x1="12" y1="7" x2="12" y2="13"></line>',6),nv=[tv];function sv(e,t){return I(),G("svg",ev,nv)}const ov=Ce(Qg,[["render",sv]]),iv=Ne({props:{command:{type:String,required:!0},title:{type:String,required:!0},icon:{type:Object,required:!1,default:void 0}},setup(){const{viewModel:e}=ot();return{viewModel:e}}}),rv=["disabled","title"];function lv(e,t,n,s,o,i){return I(),G("button",{class:"baklava-toolbar-entry baklava-toolbar-button",disabled:!e.viewModel.commandHandler.canExecuteCommand(e.command),title:e.title,onClick:t[0]||(t[0]=r=>e.viewModel.commandHandler.executeCommand(e.command))},[e.icon?(I(),ke(ci(e.icon),{key:0})):(I(),G(le,{key:1},[ut(ae(e.title),1)],64))],8,rv)}const av=Ce(iv,[["render",lv]]),cv=Ne({components:{ToolbarButton:av},setup(){const{viewModel:e}=ot();return{isSubgraph:W(()=>e.value.displayedGraph!==e.value.editor.graph),commands:[{command:Ko,title:"Copy",icon:Ug},{command:zo,title:"Paste",icon:Dg},{command:Wo,title:"Undo",icon:dg},{command:jo,title:"Redo",icon:_g},{command:Za,title:"Create Subgraph",icon:ov}],subgraphCommands:[{command:Zn,title:"Save Subgraph",icon:Zg},{command:Qa,title:"Back to Main Graph",icon:Ig}]}}}),uv={class:"baklava-toolbar"};function dv(e,t,n,s,o,i){const r=nn("toolbar-button");return I(),G("div",uv,[(I(!0),G(le,null,Be(e.commands,l=>(I(),ke(r,{key:l.command,command:l.command,title:l.title,icon:l.icon},null,8,["command","title","icon"]))),128)),e.isSubgraph?(I(!0),G(le,{key:0},Be(e.subgraphCommands,l=>(I(),ke(r,{key:l.command,command:l.command,title:l.title,icon:l.icon},null,8,["command","title","icon"]))),128)):Ke("",!0)])}const fv=Ce(cv,[["render",dv]]),hv={class:"connections-container"},pv=Ne({__name:"Editor",props:{viewModel:{}},setup(e){const t=e,n=Symbol("EditorToken"),s=Un(t,"viewModel");ip(s);const o=L(null);hi("editorEl",o);const i=W(()=>t.viewModel.displayedGraph.nodes),r=W(()=>t.viewModel.displayedGraph.nodes.map(O=>Ha(Un(O,"position")))),l=W(()=>t.viewModel.displayedGraph.connections),a=W(()=>t.viewModel.displayedGraph.selectedNodes),c=rp(),u=lp(),h=ap(s),d=W(()=>({...c.styles.value})),p=L(0);t.viewModel.editor.hooks.load.subscribe(n,O=>(p.value++,O));const g=O=>{c.onPointerMove(O),u.onMouseMove(O)},v=O=>{O.button===0&&(O.target===o.value&&(P(),c.onPointerDown(O)),u.onMouseDown())},w=O=>{c.onPointerUp(O),u.onMouseUp()},$=O=>{O.key==="Tab"&&O.preventDefault(),t.viewModel.commandHandler.handleKeyDown(O)},E=O=>{t.viewModel.commandHandler.handleKeyUp(O)},V=O=>{["Control","Shift"].some(H=>t.viewModel.commandHandler.pressedKeys.includes(H))||P(),t.viewModel.displayedGraph.selectedNodes.push(O)},P=()=>{t.viewModel.displayedGraph.selectedNodes=[]},j=O=>{for(const H of t.viewModel.displayedGraph.selectedNodes){const _=i.value.indexOf(H),k=r.value[_];k.onPointerDown(O),document.addEventListener("pointermove",k.onPointerMove)}document.addEventListener("pointerup",F)},F=()=>{for(const O of t.viewModel.displayedGraph.selectedNodes){const H=i.value.indexOf(O),_=r.value[H];_.onPointerUp(),document.removeEventListener("pointermove",_.onPointerMove)}document.removeEventListener("pointerup",F)};return(O,H)=>(I(),G("div",{ref_key:"el",ref:o,tabindex:"-1",class:Me(["baklava-editor",{"baklava-ignore-mouse":!!T(u).temporaryConnection.value||T(c).dragging.value,"--temporary-connection":!!T(u).temporaryConnection.value}]),onPointermove:ze(g,["self"]),onPointerdown:v,onPointerup:w,onWheel:H[1]||(H[1]=ze((..._)=>T(c).onMouseWheel&&T(c).onMouseWheel(..._),["self"])),onKeydown:$,onKeyup:E,onContextmenu:H[2]||(H[2]=ze((..._)=>T(h).open&&T(h).open(..._),["self","prevent"]))},[Ae(O.$slots,"background",{},()=>[q(dp)]),Ae(O.$slots,"toolbar",{},()=>[q(fv)]),Ae(O.$slots,"palette",{},()=>[q(hm)]),(I(),G("svg",hv,[(I(!0),G(le,null,Be(l.value,_=>(I(),G("g",{key:_.id+p.value.toString()},[Ae(O.$slots,"connection",{connection:_},()=>[q(qp,{connection:_},null,8,["connection"])])]))),128)),Ae(O.$slots,"temporaryConnection",{temporaryConnection:T(u).temporaryConnection.value},()=>[T(u).temporaryConnection.value?(I(),ke(Zp,{key:0,connection:T(u).temporaryConnection.value},null,8,["connection"])):Ke("",!0)])])),b("div",{class:"node-container",style:oe(d.value)},[q(Ed,{name:"fade"},{default:ct(()=>[(I(!0),G(le,null,Be(i.value,(_,k)=>Ae(O.$slots,"node",{key:_.id+p.value.toString(),node:_,selected:a.value.includes(_),dragging:r.value[k].dragging.value,onSelect:R=>V(_),onStartDrag:j},()=>[q(Vp,{node:_,selected:a.value.includes(_),dragging:r.value[k].dragging.value,onSelect:R=>V(_),onStartDrag:j},null,8,["node","selected","dragging","onSelect"])])),128))]),_:3})],4),Ae(O.$slots,"sidebar",{},()=>[q(sm)]),Ae(O.$slots,"minimap",{},()=>[O.viewModel.settings.enableMinimap?(I(),ke(om,{key:0})):Ke("",!0)]),Ae(O.$slots,"contextMenu",{contextMenu:T(h)},()=>[O.viewModel.settings.contextMenu.enabled?(I(),ke($i,{key:0,modelValue:T(h).show.value,"onUpdate:modelValue":H[0]||(H[0]=_=>T(h).show.value=_),items:T(h).items.value,x:T(h).x.value,y:T(h).y.value,onClick:T(h).onClick},null,8,["modelValue","items","x","y","onClick"])):Ke("",!0)])],34))}}),mv=["INPUT","TEXTAREA","SELECT"];function gv(e){const t=L([]),n=L([]);return{pressedKeys:t,handleKeyDown:r=>{var l;t.value.includes(r.key)||t.value.push(r.key),!mv.includes(((l=document.activeElement)==null?void 0:l.tagName)??"")&&n.value.forEach(a=>{a.keys.every(c=>t.value.includes(c))&&e(a.commandName)})},handleKeyUp:r=>{const l=t.value.indexOf(r.key);l>=0&&t.value.splice(l,1)},registerHotkey:(r,l)=>{n.value.push({keys:r,commandName:l})}}}const vv=()=>{const e=L(new Map),t=(i,r)=>{if(e.value.has(i))throw new Error(`Command "${i}" already exists`);e.value.set(i,r)},n=(i,r=!1,...l)=>{if(!e.value.has(i)){if(r)throw new Error(`[CommandHandler] Command ${i} not registered`);return}return e.value.get(i).execute(...l)},s=(i,r=!1,...l)=>{if(!e.value.has(i)){if(r)throw new Error(`[CommandHandler] Command ${i} not registered`);return!1}return e.value.get(i).canExecute(l)},o=gv(n);return Pe({registerCommand:t,executeCommand:n,canExecuteCommand:s,...o})},_v=e=>!(e instanceof lo);function yv(e,t){return{switchGraph:s=>{let o;if(_v(s))o=new lo(e.value),s.createGraph(o);else{if(s!==e.value.graph)throw new Error("Can only switch using 'Graph' instance when it is the root graph. Otherwise a 'GraphTemplate' must be used.");o=s}t.value&&t.value!==e.value.graph&&t.value.destroy(),o.panning=o.panning??s.panning??{x:0,y:0},o.scaling=o.scaling??s.scaling??1,o.selectedNodes=o.selectedNodes??[],o.sidebar=o.sidebar??{visible:!1,nodeId:"",optionName:""},t.value=o}}}function bv(e,t){e.position=e.position??{x:0,y:0},e.disablePointerEvents=!1,e.twoColumn=e.twoColumn??!1,e.width=e.width??t.defaultWidth}const wv=()=>({useStraightConnections:!1,enableMinimap:!1,background:{gridSize:100,gridDivision:5,subGridVisibleThreshold:.6},sidebar:{width:300,resizable:!0},displayValueOnHover:!1,nodes:{defaultWidth:200,maxWidth:320,minWidth:150,resizable:!1},contextMenu:{enabled:!0,additionalItems:[]}});function Cv(e){const t=L(e??new op),n=Symbol("ViewModelToken"),s=L(null),o=Fc(s),{switchGraph:i}=yv(t,s),r=W(()=>o.value&&o.value!==t.value.graph),l=Pe(wv()),a=vv(),c=Qm(o,a),u=tg(o,t,a),h={renderNode:new st(null),renderInterface:new st(null)};return Jm(o,a,i),og(o,a),ve(t,(d,p)=>{p&&(p.events.registerGraph.unsubscribe(n),p.graphEvents.beforeAddNode.unsubscribe(n),d.nodeHooks.beforeLoad.unsubscribe(n),d.nodeHooks.afterSave.unsubscribe(n),d.graphTemplateHooks.beforeLoad.unsubscribe(n),d.graphTemplateHooks.afterSave.unsubscribe(n),d.graph.hooks.load.unsubscribe(n),d.graph.hooks.save.unsubscribe(n)),d&&(d.nodeHooks.beforeLoad.subscribe(n,(g,v)=>(v.position=g.position??{x:0,y:0},v.width=g.width??l.nodes.defaultWidth,v.twoColumn=g.twoColumn??!1,g)),d.nodeHooks.afterSave.subscribe(n,(g,v)=>(g.position=v.position,g.width=v.width,g.twoColumn=v.twoColumn,g)),d.graphTemplateHooks.beforeLoad.subscribe(n,(g,v)=>(v.panning=g.panning,v.scaling=g.scaling,g)),d.graphTemplateHooks.afterSave.subscribe(n,(g,v)=>(g.panning=v.panning,g.scaling=v.scaling,g)),d.graph.hooks.load.subscribe(n,(g,v)=>(v.panning=g.panning,v.scaling=g.scaling,g)),d.graph.hooks.save.subscribe(n,(g,v)=>(g.panning=v.panning,g.scaling=v.scaling,g)),d.graphEvents.beforeAddNode.subscribe(n,g=>bv(g,{defaultWidth:l.nodes.defaultWidth})),t.value.registerNodeType(Xa,{category:"Subgraphs"}),t.value.registerNodeType(Ja,{category:"Subgraphs"}),i(d.graph))},{immediate:!0}),Pe({editor:t,displayedGraph:o,isSubgraph:r,settings:l,commandHandler:a,history:c,clipboard:u,hooks:h,switchGraph:i})}const xv={class:"h-100dvh"},Tv={__name:"NodeEditor",setup(e){const t=np({type:"MyNode",inputs:{number1:()=>new Qr("Number",1),number2:()=>new Qr("Number",10),operation:()=>new Vm("Operation","Add",["Add","Subtract"]).setPort(!1)},outputs:{output:()=>new Le("Output",0)}}),n=Cv();return n.editor.registerNodeType(t),(s,o)=>(I(),G("div",xv,[q(T(pv),{"view-model":T(n)},null,8,["view-model"])]))}},Sv={class:"text-light-300 bg-dark-900 min-h-100svh flex flex-col gap-0",id:"app"},Ev={class:"text-2xl sm-text-3xl p-8 bg-dark-400 text-white flex items-center gap-4"},Iv=b("div",{class:"i-fa6-solid-jedi text-4xl text-orange-500"},null,-1),Mv={class:"p-0 ml-4"},Nv={class:"text-xs opacity-70"},Ov=b("div",{class:"flex-auto"},null,-1),Av=b("div",{class:"i-carbon-calibrate"},null,-1),$v=[Av],kv=["title"],Pv=b("div",{class:"i-ph-graph"},null,-1),Dv=[Pv],Rv=["title"],Lv={key:0,class:"i-ph-bluetooth"},Gv={key:1,class:"i-ph-bluetooth-slash"},Hv={key:1,class:"flex flex-auto pt-8"},Fv=b("div",{class:"i-la-power-off"},null,-1),Bv=[Fv],Vv={class:"flex flex-wrap gap-2 w-full"},Uv=["onPointerdown"],Wv={__name:"App",setup(e){const{config:t,inConfig:n,outConfig:s}=rs(),{color:o,hsl:i}=Ci(),r=L();gn({onDrag(g){g.event.preventDefault()}},{domTarget:r,eventOptions:{passive:!1}});const{device:l,available:a,connect:c}=Ni(),{state:u,toggleLightState:h,calibrateIMU:d}=Mi(),p=L(!1);return(g,v)=>(I(),G("main",Sv,[b("header",Ev,[Iv,b("div",Mv,[ut("Light Saber Lab "),b("div",Nv,"v."+ae(T(Yh)),1)]),Ov,b("button",{class:"opacity-50 hover-opacity-100",onClick:v[0]||(v[0]=w=>T(d)()),title:"Calibrate IMU"},$v),b("button",{class:Me(["opacity-50 hover-opacity-100",{"animate-pulse scale-150":p.value}]),onClick:v[1]||(v[1]=w=>p.value=!p.value),title:T(l)?.name},Dv,10,kv),b("button",{class:Me(["opacity-50 hover-opacity-100",{"opacity-80":T(a)}]),onClick:v[2]||(v[2]=w=>T(c)()),title:T(l)?.name},[T(a)?(I(),G("div",Lv)):(I(),G("div",Gv))],10,Rv)]),q(En,{name:"fade",mode:"out-in"},{default:ct(()=>[p.value?(I(),ke(Tv,{key:0})):(I(),G("article",Hv,[b("button",{class:"cursor-pointer absolute left-6 text-2xl p-2 z-100",style:oe({backgroundColor:T(u).lightState?T(i):"hsl(0deg,0%,30%)",opacity:T(u).lightState?1:.7}),onDblclick:v[3]||(v[3]=ze(()=>{},["prevent"])),onClick:v[4]||(v[4]=ze(w=>T(h)(),["prevent"]))},Bv,36),b("aside",{class:"flex-0 w-4 mx-10 transition-transform duration-700 origin-center-bottom rounded-lg m-4 border-5",style:oe({transform:`scaleY(${T(u).lightState?1:0})`,background:`hsla(0deg,0%,100%,${T(o).v/50})`,borderColor:T(i),boxShadow:`0px 0px 40px 10px ${T(i)}`})},null,4),b("div",{class:"grid sm-grid-cols-2 xl-grid-cols-3 2xl-grid-cols-4 gap-8 mx-4 flex-1 p-4 bg-dark-200 rounded-lg",ref_key:"demo",ref:r},[q(Gh,{class:"flex-0"}),b("div",Vv,[(I(),G(le,null,Be(4,(w,$)=>b("button",{class:Me(["p-2 flex-1 w-full",{active:$==T(t).sabreMode.mode}]),key:$,onPointerdown:E=>T(t).sabreMode.mode=$},ae(T(Wf)(T(Sa),$).slice(5)),43,Uv)),64))]),q(yh,{class:"flex-1 min-w-70"}),q(Ch),q(zh),q(Vh)],512)]))]),_:1})]))}},jv=Ld(Wv);jv.mount("#app");

</script>
  <style>
.control[data-v-c1d595ea]{position:relative;display:flex;cursor:grab;align-items:flex-end;overflow:hidden;border-radius:.25rem;--un-bg-opacity:1;background-color:rgb(156 163 175 / var(--un-bg-opacity));padding:.25rem;.param[data-v-c1d595ea]{padding:0;padding-top:1.25rem;font-weight:700;mix-blend-mode:difference}.line[data-v-c1d595ea]{position:absolute;top:0;bottom:0;width:.25rem;--un-bg-opacity:1;background-color:rgb(255 255 255 / var(--un-bg-opacity));padding-top:2px;mix-blend-mode:difference}}.control[data-v-c1d595ea]:active{cursor:grabbing}.control[data-v-6fa4eb05]{position:relative;display:flex;cursor:grab;align-items:flex-end;border-radius:.25rem;--un-bg-opacity:1;background-color:rgb(156 163 175 / var(--un-bg-opacity));.param[data-v-6fa4eb05]{padding:.25rem;font-weight:700;mix-blend-mode:difference}.line[data-v-6fa4eb05]{position:absolute;top:0;bottom:0;width:.25rem;--un-bg-opacity:1;background-color:rgb(255 255 255 / var(--un-bg-opacity));mix-blend-mode:difference}}.control[data-v-6fa4eb05]:active{cursor:grabbing}button[data-v-5514bcea]{border-width:1px;border-radius:.5rem;--un-bg-opacity:1;background-color:rgb(50 50 50 / var(--un-bg-opacity));padding:.5rem;--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow);transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}button[data-v-5514bcea]:hover{--un-bg-opacity:1;background-color:rgb(60 60 60 / var(--un-bg-opacity));--un-shadow:var(--un-shadow-inset) 0 10px 15px -3px var(--un-shadow-color, rgb(0 0 0 / .1)),var(--un-shadow-inset) 0 4px 6px -4px var(--un-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}button[data-v-5514bcea]:active{--un-bg-opacity:1;background-color:rgb(31 31 31 / var(--un-bg-opacity));--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.control[data-v-23c2c051]{position:relative;display:flex;cursor:grab;align-items:flex-end;overflow:hidden;border-radius:.75rem;--un-bg-opacity:1;background-color:rgb(156 163 175 / var(--un-bg-opacity));padding:.25rem;.param[data-v-23c2c051]{padding:0;padding-top:1.25rem;font-weight:700;mix-blend-mode:difference}.line[data-v-23c2c051]{position:absolute;top:0;bottom:0;width:.25rem;--un-bg-opacity:1;background-color:rgb(255 255 255 / var(--un-bg-opacity));padding-top:2px}}.control[data-v-23c2c051]:active{cursor:grabbing}:root{--baklava-control-color-primary: #e28b46;--baklava-control-color-error: #d00000;--baklava-control-color-background: #2c3748;--baklava-control-color-foreground: white;--baklava-control-color-hover: #455670;--baklava-control-color-active: #556986;--baklava-control-color-disabled-foreground: #666c75;--baklava-control-border-radius: 3px;--baklava-sidebar-color-background: #1b202c;--baklava-sidebar-color-foreground: white;--baklava-node-color-background: #1b202c;--baklava-node-color-foreground: white;--baklava-node-color-hover: #e28c4677;--baklava-node-color-selected: var(--baklava-control-color-primary);--baklava-node-color-resize-handle: var(--baklava-control-color-background);--baklava-node-title-color-background: #151a24;--baklava-node-title-color-foreground: white;--baklava-group-node-title-color-background: #215636;--baklava-group-node-title-color-foreground: white;--baklava-node-interface-port-tooltip-color-foreground: var(--baklava-control-color-primary);--baklava-node-interface-port-tooltip-color-background: var(--baklava-editor-background-pattern-black);--baklava-node-border-radius: 6px;--baklava-color-connection-default: #737f96;--baklava-color-connection-allowed: #48bc79;--baklava-color-connection-forbidden: #bc4848;--baklava-editor-background-pattern-default: #202b3c;--baklava-editor-background-pattern-line: #263140;--baklava-editor-background-pattern-black: #263140;--baklava-context-menu-background: #1b202c;--baklava-context-menu-shadow: 0 0 8px rgba(0, 0, 0, .65);--baklava-toolbar-background: #1b202caa;--baklava-toolbar-foreground: white;--baklava-node-palette-background: #1b202caa;--baklava-node-palette-foreground: white;--baklava-visual-transition: .1s linear}.baklava-button{background-color:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);transition:background-color var(--baklava-visual-transition);border:none;padding:.45em .35em;border-radius:var(--baklava-control-border-radius);font-size:inherit;cursor:pointer;overflow-x:hidden}.baklava-button:hover{background-color:var(--baklava-control-color-hover)}.baklava-button:active{background-color:var(--baklava-control-color-primary)}.baklava-button.--block{width:100%}.baklava-checkbox{display:flex;padding:.35em 0;cursor:pointer;overflow-x:hidden;align-items:center}.baklava-checkbox .__checkmark-container{display:flex;background-color:var(--baklava-control-color-background);border-radius:var(--baklava-control-border-radius);transition:background-color var(--baklava-visual-transition);width:18px;height:18px}.baklava-checkbox:hover .__checkmark-container{background-color:var(--baklava-control-color-hover)}.baklava-checkbox:active .__checkmark-container{background-color:var(--baklava-control-color-active)}.baklava-checkbox .__checkmark{stroke-dasharray:15;stroke-dashoffset:15;stroke:var(--baklava-control-color-foreground);stroke-width:2px;fill:none;transition:stroke-dashoffset var(--baklava-visual-transition)}.baklava-checkbox.--checked .__checkmark{stroke-dashoffset:0}.baklava-checkbox.--checked .__checkmark-container{background-color:var(--baklava-control-color-primary)}.baklava-checkbox .__label{margin-left:.5rem}.baklava-context-menu{color:var(--baklava-control-color-foreground);position:absolute;display:inline-block;z-index:100;background-color:var(--baklava-context-menu-background);box-shadow:var(--baklava-context-menu-shadow);border-radius:0 0 var(--baklava-control-border-radius) var(--baklava-control-border-radius);min-width:6rem;width:max-content}.baklava-context-menu>.item{display:flex;align-items:center;padding:.35em 1em;transition:background .05s linear;position:relative}.baklava-context-menu>.item>.__label{flex:1 1 auto}.baklava-context-menu>.item>.__submenu-icon{margin-left:.75rem}.baklava-context-menu>.item.--disabled{color:var(--baklava-control-color-hover)}.baklava-context-menu>.item:not(.--header):not(.--active):not(.--disabled):hover{background:var(--baklava-control-color-primary)}.baklava-context-menu>.item.--active{background:var(--baklava-control-color-primary)}.baklava-context-menu.--nested{left:100%;top:0}.baklava-context-menu.--flipped-x.--nested{left:unset;right:100%}.baklava-context-menu.--flipped-y.--nested{top:unset;bottom:0}.baklava-context-menu>.divider{margin:.35em 0;height:1px;background-color:var(--baklava-control-color-hover)}.baklava-icon{display:block;height:100%}.baklava-icon.--clickable{cursor:pointer;transition:color var(--baklava-visual-transition)}.baklava-icon.--clickable:hover{color:var(--baklava-control-color-primary)}.baklava-input{background-color:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);caret-color:var(--baklava-control-color-primary);border:none;border-radius:var(--baklava-control-border-radius);padding:.45em .75em;width:100%;transition:background-color var(--baklava-visual-transition);font-size:inherit;font:inherit}.baklava-input:hover{background-color:var(--baklava-control-color-hover)}.baklava-input:active{background-color:var(--baklava-control-color-active)}.baklava-input:focus-visible{outline:1px solid var(--baklava-control-color-primary)}.baklava-input[type=number]::-webkit-inner-spin-button,.baklava-input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.baklava-input.--invalid{box-shadow:0 0 2px 2px var(--baklava-control-color-error)}.baklava-num-input{background:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);border-radius:var(--baklava-control-border-radius);width:100%;display:grid;grid-template-columns:20px 1fr 20px}.baklava-num-input>.__button{display:flex;flex:0 0 auto;width:20px;justify-content:center;align-items:center;transition:background var(--baklava-visual-transition);cursor:pointer}.baklava-num-input>.__button:hover{background-color:var(--baklava-control-color-hover)}.baklava-num-input>.__button:active{background-color:var(--baklava-control-color-active)}.baklava-num-input>.__button.--dec{grid-area:1/1/span 1/span 1}.baklava-num-input>.__button.--dec>svg{transform:rotate(90deg)}.baklava-num-input>.__button.--inc{grid-area:1/3/span 1/span 1}.baklava-num-input>.__button.--inc>svg{transform:rotate(-90deg)}.baklava-num-input>.__button path{stroke:var(--baklava-control-color-foreground);fill:var(--baklava-control-color-foreground)}.baklava-num-input>.__content{grid-area:1/2/span 1/span 1;display:inline-flex;cursor:pointer;max-width:100%;min-width:0;align-items:center;transition:background-color var(--baklava-visual-transition)}.baklava-num-input>.__content:hover{background-color:var(--baklava-control-color-hover)}.baklava-num-input>.__content:active{background-color:var(--baklava-control-color-active)}.baklava-num-input>.__content>.__label,.baklava-num-input>.__content>.__value{margin:.35em 0;padding:0 .5em}.baklava-num-input>.__content>.__label{flex:1;min-width:0;overflow:hidden}.baklava-num-input>.__content>.__value{text-align:right}.baklava-num-input>.__content>input{background-color:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);caret-color:var(--baklava-control-color-primary);padding:.35em;width:100%}.baklava-select{width:100%;position:relative;color:var(--baklava-control-color-foreground)}.baklava-select.--open>.__selected{border-bottom-left-radius:0;border-bottom-right-radius:0}.baklava-select.--open>.__selected>.__icon{transform:rotate(180deg)}.baklava-select>.__selected{background-color:var(--baklava-control-color-background);padding:.35em .75em;border-radius:var(--baklava-control-border-radius);transition:background var(--baklava-visual-transition);min-height:1.7em;display:flex;align-items:center;cursor:pointer}.baklava-select>.__selected:hover{background:var(--baklava-control-color-hover)}.baklava-select>.__selected:active{background:var(--baklava-control-color-active)}.baklava-select>.__selected>.__text{flex:1 0 auto;flex-basis:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.baklava-select>.__selected>.__icon{flex:0 0 auto;display:flex;justify-content:center;align-items:center;transition:transform .25s ease;width:18px;height:18px}.baklava-select>.__selected>.__icon path{stroke:var(--baklava-control-color-foreground);fill:var(--baklava-control-color-foreground)}.baklava-select>.__dropdown{position:absolute;top:100%;left:0;right:0;z-index:10;background-color:var(--baklava-context-menu-background);filter:drop-shadow(0 0 4px black);border-radius:0 0 var(--baklava-control-border-radius) var(--baklava-control-border-radius);max-height:15em;overflow-y:scroll}.baklava-select>.__dropdown::-webkit-scrollbar{width:0px;background:transparent}.baklava-select>.__dropdown>.item{padding:.35em .35em .35em 1em;transition:background .05s linear}.baklava-select>.__dropdown>.item:not(.--header):not(.--active){cursor:pointer}.baklava-select>.__dropdown>.item:not(.--header):not(.--active):hover{background:var(--baklava-control-color-hover)}.baklava-select>.__dropdown>.item.--active{background:var(--baklava-control-color-primary)}.baklava-select>.__dropdown>.item.--header{color:var(--baklava-control-color-disabled-foreground);border-bottom:1px solid var(--baklava-control-color-disabled-foreground);padding:.5em .35em .5em 1em}.baklava-slider{background:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);border-radius:var(--baklava-control-border-radius);position:relative;cursor:pointer}.baklava-slider>.__content{display:flex;position:relative}.baklava-slider>.__content>.__label,.baklava-slider>.__content>.__value{flex:1 1 auto;margin:.35em 0;padding:0 .5em;text-overflow:ellipsis}.baklava-slider>.__content>.__value{text-align:right}.baklava-slider>.__content>input{background-color:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);caret-color:var(--baklava-control-color-primary);padding:.35em;width:100%}.baklava-slider>.__slider{position:absolute;top:0;bottom:0;left:0;background-color:var(--baklava-control-color-primary);border-radius:var(--baklava-control-border-radius)}.baklava-connection{stroke:var(--baklava-color-connection-default);stroke-width:2px;fill:none}.baklava-connection.--temporary{stroke-width:4px;stroke-dasharray:5 5;stroke-dashoffset:0;animation:dash 1s linear infinite;transform:translateY(-1px)}@keyframes dash{to{stroke-dashoffset:20}}.baklava-connection.--allowed{stroke:var(--baklava-color-connection-allowed)}.baklava-connection.--forbidden{stroke:var(--baklava-color-connection-forbidden)}.baklava-minimap{position:absolute;height:15%;width:15%;min-width:150px;max-width:90%;top:20px;right:20px;z-index:900}.baklava-editor{width:100%;height:100%;position:relative;overflow:hidden;outline:none!important;font-family:Lato,Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:15px;touch-action:none}.baklava-editor .background{background-color:var(--baklava-editor-background-pattern-default);background-image:linear-gradient(var(--baklava-editor-background-pattern-black) 2px,transparent 2px),linear-gradient(90deg,var(--baklava-editor-background-pattern-black) 2px,transparent 2px),linear-gradient(var(--baklava-editor-background-pattern-line) 1px,transparent 1px),linear-gradient(90deg,var(--baklava-editor-background-pattern-line) 1px,transparent 1px);background-repeat:repeat;width:100%;height:100%;pointer-events:none!important}.baklava-editor *:not(input):not(textarea){user-select:none;-moz-user-select:none;-webkit-user-select:none;touch-action:none}.baklava-editor .input-user-select{user-select:auto;-moz-user-select:auto;-webkit-user-select:auto}.baklava-editor *,.baklava-editor *:after,.baklava-editor *:before{box-sizing:border-box}.baklava-editor.--temporary-connection{cursor:crosshair}.baklava-editor .connections-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none!important}.baklava-editor .node-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.baklava-editor .node-container *{pointer-events:all}.baklava-ignore-mouse *{pointer-events:none!important}.baklava-ignore-mouse .__port{pointer-events:all!important}.baklava-node-interface{padding:.25em 0;position:relative}.baklava-node-interface .__port{position:absolute;width:10px;height:10px;background:white;border-radius:50%;top:calc(50% - 5px);cursor:crosshair}.baklava-node-interface .__port.--selected{outline:2px var(--baklava-color-connection-default) solid;outline-offset:4px}.baklava-node-interface.--input{text-align:left;padding-left:.5em}.baklava-node-interface.--input .__port{left:-1.1em}.baklava-node-interface.--output{text-align:right;padding-right:.5em}.baklava-node-interface.--output .__port{right:-1.1em}.baklava-node-interface .__tooltip{position:absolute;left:5px;top:15px;transform:translate(-50%);background:var(--baklava-node-interface-port-tooltip-color-background);color:var(--baklava-node-interface-port-tooltip-color-foreground);padding:.25em .5em;text-align:center;z-index:2}.baklava-node-palette{position:absolute;left:0;top:60px;width:250px;height:calc(100% - 60px);z-index:3;padding:2rem;overflow-y:auto;background:var(--baklava-node-palette-background);color:var(--baklava-node-palette-foreground)}.baklava-node-palette h1{margin-top:2rem}.baklava-node.--palette{position:unset;margin:1rem 0;cursor:grab}.baklava-node.--palette:first-child{margin-top:0}.baklava-node.--palette .__title{padding:.5rem;border-radius:var(--baklava-node-border-radius)}.baklava-dragged-node{position:absolute;width:calc(250px - 4rem);height:40px;z-index:4;pointer-events:none}.baklava-node{background:var(--baklava-node-color-background);color:var(--baklava-node-color-foreground);border:1px solid transparent;border-radius:var(--baklava-node-border-radius);position:absolute;box-shadow:0 0 4px #000c;transition:border-color var(--baklava-visual-transition),box-shadow var(--baklava-visual-transition);width:var(--width)}.baklava-node:hover{border-color:var(--baklava-node-color-hover)}.baklava-node:hover .__resize-handle:after{opacity:1}.baklava-node.--selected{z-index:5;border-color:var(--baklava-node-color-selected)}.baklava-node.--dragging{box-shadow:0 0 12px #000c}.baklava-node.--dragging>.__title{cursor:grabbing}.baklava-node>.__title{display:flex;background:var(--baklava-node-title-color-background);color:var(--baklava-node-title-color-foreground);padding:.4em .75em;border-radius:var(--baklava-node-border-radius) var(--baklava-node-border-radius) 0 0;cursor:grab}.baklava-node>.__title>*:first-child{flex-grow:1}.baklava-node>.__title>.__title-label{pointer-events:none}.baklava-node>.__title>.__menu{position:relative;cursor:initial}.baklava-node[data-node-type^=__baklava_]>.__title{background:var(--baklava-group-node-title-color-background);color:var(--baklava-group-node-title-color-foreground)}.baklava-node>.__content{padding:.75em}.baklava-node>.__content>div>div{margin:.5em 0}.baklava-node.--two-column>.__content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto auto;grid-template-areas:". ." ". ."}.baklava-node.--two-column>.__content>.__inputs{grid-row:1;grid-column:1}.baklava-node.--two-column>.__content>.__outputs{grid-row:1;grid-column:2}.baklava-node .__resize-handle{position:absolute;right:0;bottom:0;width:1rem;height:1rem;transform:translate(50%);cursor:ew-resize}.baklava-node .__resize-handle:after{content:"";position:absolute;bottom:0;left:-.5rem;width:1rem;height:1rem;opacity:0;border-bottom-right-radius:var(--baklava-node-border-radius);transition:opacity var(--baklava-visual-transition);background:linear-gradient(-45deg,transparent 10%,var(--baklava-node-color-resize-handle) 10%,var(--baklava-node-color-resize-handle) 15%,transparent 15%,transparent 30%,var(--baklava-node-color-resize-handle) 30%,var(--baklava-node-color-resize-handle) 35%,transparent 35%,transparent 50%,var(--baklava-node-color-resize-handle) 50%,var(--baklava-node-color-resize-handle) 55%,transparent 55%)}.baklava-sidebar{position:absolute;height:100%;width:25%;min-width:300px;max-width:90%;top:0;right:0;z-index:1000;background-color:var(--baklava-sidebar-color-background);color:var(--baklava-sidebar-color-foreground);box-shadow:none;overflow-x:hidden;padding:1em;transform:translate(100%);transition:transform .5s;display:flex;flex-direction:column}.baklava-sidebar.--open{transform:translate(0);box-shadow:0 0 15px #000}.baklava-sidebar .__resizer{position:absolute;left:0;top:0;height:100%;width:4px;cursor:col-resize}.baklava-sidebar .__header{display:flex;align-items:center}.baklava-sidebar .__header .__node-name{margin-left:.5rem}.baklava-sidebar .__close{font-size:2em;border:none;background:none;color:inherit;cursor:pointer}.baklava-sidebar .__interface{margin:.5em 0}.baklava-toolbar{position:absolute;left:0;top:0;width:100%;height:60px;z-index:3;padding:.5rem 2rem;background:var(--baklava-toolbar-background);color:var(--baklava-toolbar-foreground);display:flex;align-items:center}.baklava-toolbar-entry{margin-left:.5rem;margin-right:.5rem}.baklava-toolbar-button{color:var(--baklava-toolbar-foreground);background:none;border:none;transition:color var(--baklava-visual-transition)}.baklava-toolbar-button:not([disabled]){cursor:pointer}.baklava-toolbar-button:hover:not([disabled]){color:var(--baklava-control-color-primary)}.baklava-toolbar-button[disabled]{color:var(--baklava-control-color-disabled-foreground)}.slide-fade-enter-active,.slide-fade-leave-active{transition:all .1s ease-out}.slide-fade-enter-from,.slide-fade-leave-to{transform:translateY(5px);opacity:0}.fade-enter-active,.fade-leave-active{transition:opacity .1s ease-out!important}.fade-enter-from,.fade-leave-to{opacity:0}button{border-width:1px;border-radius:.5rem;--un-bg-opacity:1;background-color:rgb(50 50 50 / var(--un-bg-opacity));padding:1rem;--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow);transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;&.active{--un-bg-opacity:1;background-color:rgb(15 15 15 / var(--un-bg-opacity));font-weight:700}}button:hover{--un-bg-opacity:1;background-color:rgb(60 60 60 / var(--un-bg-opacity));--un-shadow:var(--un-shadow-inset) 0 10px 15px -3px var(--un-shadow-color, rgb(0 0 0 / .1)),var(--un-shadow-inset) 0 4px 6px -4px var(--un-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}button:active{--un-bg-opacity:1;background-color:rgb(31 31 31 / var(--un-bg-opacity));--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:var(--un-default-border-color, #e5e7eb)}:before,:after{--un-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgb(0 0 0 / 0);--un-ring-shadow:0 0 rgb(0 0 0 / 0);--un-shadow-inset: ;--un-shadow:0 0 rgb(0 0 0 / 0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgb(147 197 253 / .5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }::backdrop{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgb(0 0 0 / 0);--un-ring-shadow:0 0 rgb(0 0 0 / 0);--un-shadow-inset: ;--un-shadow:0 0 rgb(0 0 0 / 0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgb(147 197 253 / .5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }.i-carbon-calibrate{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 32 32' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M28.83 21.17L25 17.37l.67-.67a1 1 0 0 0 0-1.41l-6-6a1 1 0 0 0-1.41 0l-.79.79l-6.76-6.79a1 1 0 0 0-1.41 0l-4 4l-.12.15l-4 6a1 1 0 0 0 .12 1.26l3 3a1 1 0 0 0 1.42 0L10 13.41l2.09 2.09l-4.8 4.79a1 1 0 0 0 0 1.41l2 2a1 1 0 0 0 .71.3a1 1 0 0 0 .52-.15l4.33-2.6l2.44 2.45a1 1 0 0 0 1.41 0l.67-.7l3.79 3.83a4 4 0 0 0 5.66-5.66ZM10 10.58l-5 5l-1.71-1.71l3.49-5.24L10 5.41l6.09 6.09l-2.59 2.58Zm8 11l-2.84-2.84l-5 3l-.74-.74L19 11.41L23.59 16Zm9.42 3.83a2 2 0 0 1-2.83 0l-3.8-3.79l2.83-2.83l3.8 3.79a2 2 0 0 1 0 2.83'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-fa6-solid-jedi{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 576 512' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='m246 315.7l-21.2-31.9c-2.1-3.2-1.7-7.4 1-10.1s6.9-3.1 10.1-1l29.5 19.7c2.1 1.4 4.9 0 5-2.6L279.7 8c.1-4.5 3.8-8 8.3-8s8.1 3.5 8.3 8l9.4 281.9c.1 2.5 2.9 3.9 5 2.6l29.5-19.7c3.2-2.1 7.4-1.7 10.1 1s3.1 6.9 1 10.1L330 315.7c-1.3 1.9-.2 4.5 2 4.9l37.6 7.5c3.7.7 6.4 4 6.4 7.8s-2.7 7.1-6.4 7.8l-37.6 7.7c-2.2.4-3.3 3-2 4.9l21.2 31.9c2.1 3.2 1.7 7.4-1 10.1s-6.9 3.1-10.1 1l-26.3-17.6c-2.2-1.4-5.1.2-5 2.8l2.1 61.5C370.6 435.2 416 382.9 416 320c0-37-15.7-70.4-40.8-93.7c-7-6.5-6.5-18.6 1-24.4C410.1 175.5 432 134.3 432 88c0-16.8-2.9-33-8.2-48c-4.6-13 10.2-30 21.4-22c53.5 38 92.7 94.8 107.8 160.7c.5 2.1-.2 4.3-1.7 5.9L522.9 213c-4 4-1.2 10.9 4.5 10.9h26c3.4 0 6.2 2.6 6.3 6c.1 3.3.2 6.6.2 10c0 17.5-1.7 34.7-4.8 51.3c-.2 1.2-.9 2.4-1.7 3.3L506.9 341c-4 4-1.2 10.9 4.5 10.9H526c4.6 0 7.7 4.8 5.7 9C487.2 450.5 394.8 512 288 512S88.8 450.5 44.3 361c-2.1-4.2 1-9 5.7-9h14.5c5.7 0 8.6-6.9 4.5-10.9l-46.4-46.5c-.9-.9-1.5-2-1.7-3.3c-3.2-16.6-4.9-33.8-4.9-51.3c0-3.3.1-6.7.2-10c.1-3.4 2.9-6 6.3-6h26c5.7 0 8.6-6.9 4.5-10.9l-28.4-28.5c-1.5-1.5-2.2-3.8-1.7-5.9C38.1 112.8 77.3 56 130.8 18c11.3-8 26 8.9 21.4 22c-5.3 15-8.2 31.2-8.2 48c0 46.3 21.9 87.5 55.8 113.9c7.5 5.8 8 17.9 1 24.4C175.7 249.6 160 283 160 320c0 62.9 45.4 115.2 105.1 126l2.1-61.5c.1-2.6-2.8-4.2-5-2.8l-26.3 17.6c-3.2 2.1-7.4 1.7-10.1-1s-3.1-6.9-1-10.1l21.2-31.9c1.3-1.9.2-4.5-2-4.9l-37.6-7.5c-3.7-.7-6.4-4-6.4-7.8s2.7-7.1 6.4-7.8l37.6-7.5c2.2-.4 3.3-3 2-4.9z'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-la-power-off{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 32 32' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M15 4v12h2V4zm-3 .688C7.348 6.34 4 10.785 4 16c0 6.617 5.383 12 12 12s12-5.383 12-12c0-5.215-3.348-9.66-8-11.313v2.157C23.527 8.39 26 11.91 26 16c0 5.516-4.484 10-10 10S6 21.516 6 16c0-4.09 2.473-7.61 6-9.156z'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-ph-bluetooth{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 256 256' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M188.8 169.6L133.33 128l55.47-41.6a8 8 0 0 0 0-12.8l-64-48A8 8 0 0 0 112 32v80L60.8 73.6a8 8 0 0 0-9.6 12.8l55.47 41.6l-55.47 41.6a8 8 0 1 0 9.6 12.8L112 144v80a8 8 0 0 0 12.8 6.4l64-48a8 8 0 0 0 0-12.8M128 48l42.67 32L128 112Zm0 160v-64l42.67 32Z'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-ph-bluetooth-slash{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 256 256' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='m213.92 210.62l-160-176a8 8 0 1 0-11.84 10.76l70.84 77.93L51.2 169.6a8 8 0 1 0 9.6 12.8L112 144v80a8 8 0 0 0 12.8 6.4l50.83-38.12l26.45 29.1a8 8 0 1 0 11.84-10.76M128 208v-64l11.73 8.8l25.08 27.59ZM112 71.63V32a8 8 0 0 1 12.8-6.4l64 48a8 8 0 0 1 0 12.8l-33.53 25.15a8 8 0 0 1-9.6-12.8l25-18.75L128 48v23.63a8 8 0 0 1-16 0'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-ph-graph{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 256 256' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M200 152a31.84 31.84 0 0 0-19.53 6.68l-23.11-18A31.65 31.65 0 0 0 160 128c0-.74 0-1.48-.08-2.21l13.23-4.41A32 32 0 1 0 168 104c0 .74 0 1.48.08 2.21l-13.23 4.41A32 32 0 0 0 128 96a32.59 32.59 0 0 0-5.27.44L115.89 81A32 32 0 1 0 96 88a32.59 32.59 0 0 0 5.27-.44l6.84 15.4a31.92 31.92 0 0 0-8.57 39.64l-25.71 22.84a32.06 32.06 0 1 0 10.63 12l25.71-22.84a31.91 31.91 0 0 0 37.36-1.24l23.11 18A31.65 31.65 0 0 0 168 184a32 32 0 1 0 32-32m0-64a16 16 0 1 1-16 16a16 16 0 0 1 16-16M80 56a16 16 0 1 1 16 16a16 16 0 0 1-16-16M56 208a16 16 0 1 1 16-16a16 16 0 0 1-16 16m56-80a16 16 0 1 1 16 16a16 16 0 0 1-16-16m88 72a16 16 0 1 1 16-16a16 16 0 0 1-16 16'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.pointer-events-none{pointer-events:none}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.-top-50{top:-12.5rem}.bottom-0{bottom:0}.left-0{left:0}.left-6{left:1.5rem}.right-0{right:0}.right-2{right:.5rem}.right-20{right:5rem}.top-0{top:0}.top-1{top:.25rem}.z-100{z-index:100}.z-20{z-index:20}.grid{display:grid}.col-span-2{grid-column:span 2/span 2}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.m-0{margin:0}.m-4{margin:1rem}.mx-0{margin-left:0;margin-right:0}.mx-10{margin-left:2.5rem;margin-right:2.5rem}.mx-4{margin-left:1rem;margin-right:1rem}.ml-4{margin-left:1rem}.h-1{height:.25rem}.h-100dvh{height:100dvh}.h-40{height:10rem}.h-full{height:100%}.max-h-120{max-height:30rem}.min-h-100svh{min-height:100svh}.min-h-16{min-height:4rem}.min-w-30{min-width:7.5rem}.min-w-70{min-width:17.5rem}.w-1{width:.25rem}.w-20{width:5rem}.w-4{width:1rem}.w-full{width:100%}.flex{display:flex}.flex-1{flex:1 1 0%}.flex-auto{flex:1 1 auto}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.origin-center-bottom{transform-origin:center bottom}.scale-150{--un-scale-x:1.5;--un-scale-y:1.5;transform:translate(var(--un-translate-x)) translateY(var(--un-translate-y)) translateZ(var(--un-translate-z)) rotate(var(--un-rotate)) rotateX(var(--un-rotate-x)) rotateY(var(--un-rotate-y)) rotate(var(--un-rotate-z)) skew(var(--un-skew-x)) skewY(var(--un-skew-y)) scaleX(var(--un-scale-x)) scaleY(var(--un-scale-y)) scaleZ(var(--un-scale-z))}.transform{transform:translate(var(--un-translate-x)) translateY(var(--un-translate-y)) translateZ(var(--un-translate-z)) rotate(var(--un-rotate)) rotateX(var(--un-rotate-x)) rotateY(var(--un-rotate-y)) rotate(var(--un-rotate-z)) skew(var(--un-skew-x)) skewY(var(--un-skew-y)) scaleX(var(--un-scale-x)) scaleY(var(--un-scale-y)) scaleZ(var(--un-scale-z))}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}.cursor-pointer{cursor:pointer}.cursor-grab{cursor:grab}.active-cursor-grabbing:active{cursor:grabbing}.select-none{-webkit-user-select:none;user-select:none}.items-end{align-items:flex-end}.items-center{align-items:center}.gap-0{gap:0}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.overflow-hidden{overflow:hidden}.overflow-scroll{overflow:scroll}.border-1{border-width:1px}.border-5{border-width:5px}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-xl{border-radius:.75rem}.bg-dark-100{--un-bg-opacity:1;background-color:rgb(60 60 60 / var(--un-bg-opacity))}.bg-dark-200{--un-bg-opacity:1;background-color:rgb(50 50 50 / var(--un-bg-opacity))}.bg-dark-400{--un-bg-opacity:1;background-color:rgb(34 34 34 / var(--un-bg-opacity))}.bg-dark-700{--un-bg-opacity:1;background-color:rgb(27 27 27 / var(--un-bg-opacity))}.bg-dark-900{--un-bg-opacity:1;background-color:rgb(15 15 15 / var(--un-bg-opacity))}.bg-gray{--un-bg-opacity:1;background-color:rgb(156 163 175 / var(--un-bg-opacity))}.bg-light-200{--un-bg-opacity:1;background-color:rgb(250 250 250 / var(--un-bg-opacity))}.bg-light-400{--un-bg-opacity:1;background-color:rgb(246 246 246 / var(--un-bg-opacity))}.bg-white{--un-bg-opacity:1;background-color:rgb(255 255 255 / var(--un-bg-opacity))}.hover-bg-dark-100:hover{--un-bg-opacity:1;background-color:rgb(60 60 60 / var(--un-bg-opacity))}.active-bg-dark-500:active{--un-bg-opacity:1;background-color:rgb(31 31 31 / var(--un-bg-opacity))}.bg-opacity-24{--un-bg-opacity:.24}.bg-opacity-50{--un-bg-opacity:.5}.p-0{padding:0}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.p-8{padding:2rem}.px{padding-left:1rem;padding-right:1rem}.px-2{padding-left:.5rem;padding-right:.5rem}.pl-2px{padding-left:2px}.pt-2px{padding-top:2px}.pt-5{padding-top:1.25rem}.pt-8{padding-top:2rem}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.text-light-300{--un-text-opacity:1;color:rgb(248 249 250 / var(--un-text-opacity))}.text-orange-500{--un-text-opacity:1;color:rgb(249 115 22 / var(--un-text-opacity))}.text-white{--un-text-opacity:1;color:rgb(255 255 255 / var(--un-text-opacity))}.font-bold{font-weight:700}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-80{opacity:.8}.hover-opacity-100:hover{opacity:1}.mix-blend-difference{mix-blend-mode:difference}.shadow-sm{--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.hover-shadow-lg:hover{--un-shadow:var(--un-shadow-inset) 0 10px 15px -3px var(--un-shadow-color, rgb(0 0 0 / .1)),var(--un-shadow-inset) 0 4px 6px -4px var(--un-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.active-shadow-sm:active{--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-700{transition-duration:.7s}@media (min-width: 640px){.sm-grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm-text-3xl{font-size:1.875rem;line-height:2.25rem}}@media (min-width: 1280px){.xl-grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 1536px){.\32xl-grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}

</style>
</head>

<body style="background-color: black">
	<div id="app"></div>
</body>

</html>