<!DOCTYPE html>
<html lang="en">

<head>
	<title>LightSaber UI</title>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<meta name="description" content="Control your LED light saber with our single file app. Made at Pirate Bay Phuket.">
	<meta name="robots" content="index,follow">
	<meta property="og:title" content="LED Light Saber Control App - Pirate Bay Phuket">
	<meta property="og:description"
		content="Control your LED light saber with our single file app. Made at Pirate Bay Phuket.">
	<meta property="og:image" content="cover.jpeg">
	<meta property="og:url" content="https://davay42.github.io/lightsaber-ui/">
	<meta name="twitter:card" content="summary_large_image">
	<link rel="manifest" href="site.webmanifest">
	<link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
	<link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">

  <script type="module">
/**
* @vue/shared v3.4.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ti(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const ve={},En=[],dt=()=>{},pu=()=>!1,uo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ii=e=>e.startsWith("onUpdate:"),Te=Object.assign,Mi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},mu=Object.prototype.hasOwnProperty,ce=(e,t)=>mu.call(e,t),Q=Array.isArray,Tn=e=>vs(e)==="[object Map]",Xl=e=>vs(e)==="[object Set]",gu=e=>vs(e)==="[object RegExp]",se=e=>typeof e=="function",Ee=e=>typeof e=="string",Fn=e=>typeof e=="symbol",ye=e=>e!==null&&typeof e=="object",Jl=e=>(ye(e)||se(e))&&se(e.then)&&se(e.catch),Ql=Object.prototype.toString,vs=e=>Ql.call(e),vu=e=>vs(e).slice(8,-1),Zl=e=>vs(e)==="[object Object]",Ni=e=>Ee(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Bs=Ti(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fo=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},yu=/-(\w)/g,wt=fo(e=>e.replace(yu,(t,n)=>n?n.toUpperCase():"")),_u=/\B([A-Z])/g,sn=fo(e=>e.replace(_u,"-$1").toLowerCase()),ho=fo(e=>e.charAt(0).toUpperCase()+e.slice(1)),ko=fo(e=>e?`on${ho(e)}`:""),Nt=(e,t)=>!Object.is(e,t),In=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},qs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Zo=e=>{const t=parseFloat(e);return isNaN(t)?e:t},bu=e=>{const t=Ee(e)?Number(e):NaN;return isNaN(t)?e:t};let hr;const ea=()=>hr||(hr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ue(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=Ee(s)?xu(s):ue(s);if(o)for(const i in o)t[i]=o[i]}return t}else if(Ee(e)||ye(e))return e}const wu=/;(?![^(]*\))/g,Cu=/:([^]+)/,Su=/\/\*[^]*?\*\//g;function xu(e){const t={};return e.replace(Su,"").split(wu).forEach(n=>{if(n){const s=n.split(Cu);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Fe(e){let t="";if(Ee(e))t=e;else if(Q(e))for(let n=0;n<e.length;n++){const s=Fe(e[n]);s&&(t+=s+" ")}else if(ye(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Eu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Tu=Ti(Eu);function ta(e){return!!e||e===""}const fe=e=>Ee(e)?e:e==null?"":Q(e)||ye(e)&&(e.toString===Ql||!se(e.toString))?JSON.stringify(e,na,2):String(e),na=(e,t)=>t&&t.__v_isRef?na(e,t.value):Tn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],i)=>(n[Ro(s,i)+" =>"]=o,n),{})}:Xl(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ro(n))}:Fn(t)?Ro(t):ye(t)&&!Q(t)&&!Zl(t)?String(t):t,Ro=(e,t="")=>{var n;return Fn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let et;class Iu{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=et,!t&&et&&(this.index=(et.scopes||(et.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=et;try{return et=this,t()}finally{et=n}}}on(){et=this}off(){et=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function Mu(e,t=et){t&&t.active&&t.effects.push(e)}function $i(){return et}function sa(e){et&&et.cleanups.push(e)}let un;class Oi{constructor(t,n,s,o){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=3,this._trackId=0,this._runnings=0,this._queryings=0,this._depsLength=0,Mu(this,o)}get dirty(){if(this._dirtyLevel===1){this._dirtyLevel=0,this._queryings++,gn();for(const t of this.deps)if(t.computed&&(Nu(t.computed),this._dirtyLevel>=2))break;vn(),this._queryings--}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?3:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=tn,n=un;try{return tn=!0,un=this,this._runnings++,pr(this),this.fn()}finally{mr(this),this._runnings--,un=n,tn=t}}stop(){var t;this.active&&(pr(this),mr(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Nu(e){return e.value}function pr(e){e._trackId++,e._depsLength=0}function mr(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)oa(e.deps[t],e);e.deps.length=e._depsLength}}function oa(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let tn=!0,ei=0;const ia=[];function gn(){ia.push(tn),tn=!1}function vn(){const e=ia.pop();tn=e===void 0?!0:e}function Ai(){ei++}function Pi(){for(ei--;!ei&&ti.length;)ti.shift()()}function ra(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&oa(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const ti=[];function la(e,t,n){Ai();for(const s of e.keys())if(!(!s.allowRecurse&&s._runnings)&&s._dirtyLevel<t&&(!s._runnings||s.allowRecurse||t!==2)){const o=s._dirtyLevel;s._dirtyLevel=t,o===0&&(!s._queryings||t!==2)&&(s.trigger(),s.scheduler&&ti.push(s.scheduler))}Pi()}const aa=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Ys=new WeakMap,dn=Symbol(""),ni=Symbol("");function Xe(e,t,n){if(tn&&un){let s=Ys.get(e);s||Ys.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=aa(()=>s.delete(n))),ra(un,o)}}function Lt(e,t,n,s,o,i){const r=Ys.get(e);if(!r)return;let l=[];if(t==="clear")l=[...r.values()];else if(n==="length"&&Q(e)){const a=Number(s);r.forEach((u,c)=>{(c==="length"||!Fn(c)&&c>=a)&&l.push(u)})}else switch(n!==void 0&&l.push(r.get(n)),t){case"add":Q(e)?Ni(n)&&l.push(r.get("length")):(l.push(r.get(dn)),Tn(e)&&l.push(r.get(ni)));break;case"delete":Q(e)||(l.push(r.get(dn)),Tn(e)&&l.push(r.get(ni)));break;case"set":Tn(e)&&l.push(r.get(dn));break}Ai();for(const a of l)a&&la(a,3);Pi()}function $u(e,t){var n;return(n=Ys.get(e))==null?void 0:n.get(t)}const Ou=Ti("__proto__,__v_isRef,__isVue"),ca=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Fn)),gr=Au();function Au(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=le(this);for(let i=0,r=this.length;i<r;i++)Xe(s,"get",i+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(le)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){gn(),Ai();const s=le(this)[t].apply(this,n);return Pi(),vn(),s}}),e}function Pu(e){const t=le(this);return Xe(t,"has",e),t.hasOwnProperty(e)}class ua{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,s){const o=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(o?i?ga:ma:i?pa:ha).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const r=Q(t);if(!o){if(r&&ce(gr,n))return Reflect.get(gr,n,s);if(n==="hasOwnProperty")return Pu}const l=Reflect.get(t,n,s);return(Fn(n)?ca.has(n):Ou(n))||(o||Xe(t,"get",n),i)?l:ke(l)?r&&Ni(n)?l:l.value:ye(l)?o?Ri(l):Be(l):l}}class da extends ua{constructor(t=!1){super(!1,t)}set(t,n,s,o){let i=t[n];if(!this._shallow){const a=pn(i);if(!Xs(s)&&!pn(s)&&(i=le(i),s=le(s)),!Q(t)&&ke(i)&&!ke(s))return a?!1:(i.value=s,!0)}const r=Q(t)&&Ni(n)?Number(n)<t.length:ce(t,n),l=Reflect.set(t,n,s,o);return t===le(o)&&(r?Nt(s,i)&&Lt(t,"set",n,s):Lt(t,"add",n,s)),l}deleteProperty(t,n){const s=ce(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&Lt(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!Fn(n)||!ca.has(n))&&Xe(t,"has",n),s}ownKeys(t){return Xe(t,"iterate",Q(t)?"length":dn),Reflect.ownKeys(t)}}class fa extends ua{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ku=new da,Ru=new fa,Du=new da(!0),Lu=new fa(!0),ki=e=>e,po=e=>Reflect.getPrototypeOf(e);function Ms(e,t,n=!1,s=!1){e=e.__v_raw;const o=le(e),i=le(t);n||(Nt(t,i)&&Xe(o,"get",t),Xe(o,"get",i));const{has:r}=po(o),l=s?ki:n?Di:rs;if(r.call(o,t))return l(e.get(t));if(r.call(o,i))return l(e.get(i));e!==o&&e.get(t)}function Ns(e,t=!1){const n=this.__v_raw,s=le(n),o=le(e);return t||(Nt(e,o)&&Xe(s,"has",e),Xe(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function $s(e,t=!1){return e=e.__v_raw,!t&&Xe(le(e),"iterate",dn),Reflect.get(e,"size",e)}function vr(e){e=le(e);const t=le(this);return po(t).has.call(t,e)||(t.add(e),Lt(t,"add",e,e)),this}function yr(e,t){t=le(t);const n=le(this),{has:s,get:o}=po(n);let i=s.call(n,e);i||(e=le(e),i=s.call(n,e));const r=o.call(n,e);return n.set(e,t),i?Nt(t,r)&&Lt(n,"set",e,t):Lt(n,"add",e,t),this}function _r(e){const t=le(this),{has:n,get:s}=po(t);let o=n.call(t,e);o||(e=le(e),o=n.call(t,e)),s&&s.call(t,e);const i=t.delete(e);return o&&Lt(t,"delete",e,void 0),i}function br(){const e=le(this),t=e.size!==0,n=e.clear();return t&&Lt(e,"clear",void 0,void 0),n}function Os(e,t){return function(s,o){const i=this,r=i.__v_raw,l=le(r),a=t?ki:e?Di:rs;return!e&&Xe(l,"iterate",dn),r.forEach((u,c)=>s.call(o,a(u),a(c),i))}}function As(e,t,n){return function(...s){const o=this.__v_raw,i=le(o),r=Tn(i),l=e==="entries"||e===Symbol.iterator&&r,a=e==="keys"&&r,u=o[e](...s),c=n?ki:t?Di:rs;return!t&&Xe(i,"iterate",a?ni:dn),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:l?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function Ut(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Gu(){const e={get(i){return Ms(this,i)},get size(){return $s(this)},has:Ns,add:vr,set:yr,delete:_r,clear:br,forEach:Os(!1,!1)},t={get(i){return Ms(this,i,!1,!0)},get size(){return $s(this)},has:Ns,add:vr,set:yr,delete:_r,clear:br,forEach:Os(!1,!0)},n={get(i){return Ms(this,i,!0)},get size(){return $s(this,!0)},has(i){return Ns.call(this,i,!0)},add:Ut("add"),set:Ut("set"),delete:Ut("delete"),clear:Ut("clear"),forEach:Os(!0,!1)},s={get(i){return Ms(this,i,!0,!0)},get size(){return $s(this,!0)},has(i){return Ns.call(this,i,!0)},add:Ut("add"),set:Ut("set"),delete:Ut("delete"),clear:Ut("clear"),forEach:Os(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=As(i,!1,!1),n[i]=As(i,!0,!1),t[i]=As(i,!1,!0),s[i]=As(i,!0,!0)}),[e,n,t,s]}const[Hu,Fu,Bu,Vu]=Gu();function mo(e,t){const n=t?e?Vu:Bu:e?Fu:Hu;return(s,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(ce(n,o)&&o in s?n:s,o,i)}const Uu={get:mo(!1,!1)},ju={get:mo(!1,!0)},Wu={get:mo(!0,!1)},Ku={get:mo(!0,!0)},ha=new WeakMap,pa=new WeakMap,ma=new WeakMap,ga=new WeakMap;function zu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qu(e){return e.__v_skip||!Object.isExtensible(e)?0:zu(vu(e))}function Be(e){return pn(e)?e:go(e,!1,ku,Uu,ha)}function va(e){return go(e,!1,Du,ju,pa)}function Ri(e){return go(e,!0,Ru,Wu,ma)}function Yu(e){return go(e,!0,Lu,Ku,ga)}function go(e,t,n,s,o){if(!ye(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const r=qu(e);if(r===0)return e;const l=new Proxy(e,r===2?s:n);return o.set(e,l),l}function Mn(e){return pn(e)?Mn(e.__v_raw):!!(e&&e.__v_isReactive)}function pn(e){return!!(e&&e.__v_isReadonly)}function Xs(e){return!!(e&&e.__v_isShallow)}function ya(e){return Mn(e)||pn(e)}function le(e){const t=e&&e.__v_raw;return t?le(t):e}function ys(e){return qs(e,"__v_skip",!0),e}const rs=e=>ye(e)?Be(e):e,Di=e=>ye(e)?Ri(e):e;class _a{constructor(t,n,s,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Oi(()=>t(this._value),()=>Js(this,1)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=le(this);return Li(t),(!t._cacheable||t.effect.dirty)&&Nt(t._value,t._value=t.effect.run())&&Js(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Xu(e,t,n=!1){let s,o;const i=se(e);return i?(s=e,o=dt):(s=e.get,o=e.set),new _a(s,o,i||!o,n)}function Li(e){tn&&un&&(e=le(e),ra(un,e.dep||(e.dep=aa(()=>e.dep=void 0,e instanceof _a?e:void 0))))}function Js(e,t=3,n){e=le(e);const s=e.dep;s&&la(s,t)}function ke(e){return!!(e&&e.__v_isRef===!0)}function U(e){return wa(e,!1)}function ba(e){return wa(e,!0)}function wa(e,t){return ke(e)?e:new Ju(e,t)}class Ju{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:le(t),this._value=n?t:rs(t)}get value(){return Li(this),this._value}set value(t){const n=this.__v_isShallow||Xs(t)||pn(t);t=n?t:le(t),Nt(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:rs(t),Js(this,3))}}function N(e){return ke(e)?e.value:e}const Qu={get:(e,t,n)=>N(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return ke(o)&&!ke(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function Ca(e){return Mn(e)?e:new Proxy(e,Qu)}class Zu{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=t(()=>Li(this),()=>Js(this));this._get=n,this._set=s}get value(){return this._get()}set value(t){this._set(t)}}function Sa(e){return new Zu(e)}function ed(e){const t=Q(e)?new Array(e.length):{};for(const n in e)t[n]=xa(e,n);return t}class td{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return $u(le(this._object),this._key)}}class nd{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ls(e,t,n){return ke(e)?e:se(e)?new nd(e):ye(e)&&arguments.length>1?xa(e,t,n):U(e)}function xa(e,t,n){const s=e[t];return ke(s)?s:new td(e,t,n)}/**
* @vue/runtime-core v3.4.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function nn(e,t,n,s){let o;try{o=s?e(...s):e()}catch(i){vo(i,t,n)}return o}function ft(e,t,n,s){if(se(e)){const i=nn(e,t,n,s);return i&&Jl(i)&&i.catch(r=>{vo(r,t,n)}),i}const o=[];for(let i=0;i<e.length;i++)o.push(ft(e[i],t,n,s));return o}function vo(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let i=t.parent;const r=t.proxy,l=`https://vuejs.org/errors/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,r,l)===!1)return}i=i.parent}const a=t.appContext.config.errorHandler;if(a){nn(a,null,10,[e,r,l]);return}}sd(e,n,o,s)}function sd(e,t,n,s=!0){console.error(e)}let as=!1,si=!1;const je=[];let It=0;const Nn=[];let qt=null,an=0;const Ea=Promise.resolve();let Gi=null;function $t(e){const t=Gi||Ea;return e?t.then(this?e.bind(this):e):t}function od(e){let t=It+1,n=je.length;for(;t<n;){const s=t+n>>>1,o=je[s],i=cs(o);i<e||i===e&&o.pre?t=s+1:n=s}return t}function Hi(e){(!je.length||!je.includes(e,as&&e.allowRecurse?It+1:It))&&(e.id==null?je.push(e):je.splice(od(e.id),0,e),Ta())}function Ta(){!as&&!si&&(si=!0,Gi=Ea.then(Ma))}function id(e){const t=je.indexOf(e);t>It&&je.splice(t,1)}function rd(e){Q(e)?Nn.push(...e):(!qt||!qt.includes(e,e.allowRecurse?an+1:an))&&Nn.push(e),Ta()}function wr(e,t,n=as?It+1:0){for(;n<je.length;n++){const s=je[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;je.splice(n,1),n--,s()}}}function Ia(e){if(Nn.length){const t=[...new Set(Nn)].sort((n,s)=>cs(n)-cs(s));if(Nn.length=0,qt){qt.push(...t);return}for(qt=t,an=0;an<qt.length;an++)qt[an]();qt=null,an=0}}const cs=e=>e.id==null?1/0:e.id,ld=(e,t)=>{const n=cs(e)-cs(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Ma(e){si=!1,as=!0,je.sort(ld);try{for(It=0;It<je.length;It++){const t=je[It];t&&t.active!==!1&&nn(t,null,14)}}finally{It=0,je.length=0,Ia(),as=!1,Gi=null,(je.length||Nn.length)&&Ma()}}function ad(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ve;let o=n;const i=t.startsWith("update:"),r=i&&t.slice(7);if(r&&r in s){const c=`${r==="modelValue"?"model":r}Modifiers`,{number:f,trim:d}=s[c]||ve;d&&(o=n.map(p=>Ee(p)?p.trim():p)),f&&(o=n.map(Zo))}let l,a=s[l=ko(t)]||s[l=ko(wt(t))];!a&&i&&(a=s[l=ko(sn(t))]),a&&ft(a,e,6,o);const u=s[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,ft(u,e,6,o)}}function Na(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const i=e.emits;let r={},l=!1;if(!se(e)){const a=u=>{const c=Na(u,t,!0);c&&(l=!0,Te(r,c))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!i&&!l?(ye(e)&&s.set(e,null),null):(Q(i)?i.forEach(a=>r[a]=null):Te(r,i),ye(e)&&s.set(e,r),r)}function yo(e,t){return!e||!uo(t)?!1:(t=t.slice(2).replace(/Once$/,""),ce(e,t[0].toLowerCase()+t.slice(1))||ce(e,sn(t))||ce(e,t))}let Me=null,_o=null;function Qs(e){const t=Me;return Me=e,_o=e&&e.type.__scopeId||null,t}function cd(e){_o=e}function ud(){_o=null}function ze(e,t=Me,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&Ar(-1);const i=Qs(t);let r;try{r=e(...o)}finally{Qs(i),s._d&&Ar(1)}return r};return s._n=!0,s._c=!0,s._d=!0,s}function Do(e){const{type:t,vnode:n,proxy:s,withProxy:o,props:i,propsOptions:[r],slots:l,attrs:a,emit:u,render:c,renderCache:f,data:d,setupState:p,ctx:g,inheritAttrs:v}=e;let w,E;const y=Qs(e);try{if(n.shapeFlag&4){const $=o||s,F=$;w=Tt(c.call(F,$,f,i,p,d,g)),E=a}else{const $=t;w=Tt($.length>1?$(i,{attrs:a,slots:l,emit:u}):$(i,null)),E=t.props?a:dd(a)}}catch($){ns.length=0,vo($,e,1),w=J(ht)}let C=w;if(E&&v!==!1){const $=Object.keys(E),{shapeFlag:F}=C;$.length&&F&7&&(r&&$.some(Ii)&&(E=fd(E,r)),C=Ht(C,E))}return n.dirs&&(C=Ht(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),w=C,Qs(y),w}const dd=e=>{let t;for(const n in e)(n==="class"||n==="style"||uo(n))&&((t||(t={}))[n]=e[n]);return t},fd=(e,t)=>{const n={};for(const s in e)(!Ii(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function hd(e,t,n){const{props:s,children:o,component:i}=e,{props:r,children:l,patchFlag:a}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?Cr(s,r,u):!!r;if(a&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(r[d]!==s[d]&&!yo(u,d))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:s===r?!1:s?r?Cr(s,r,u):!0:!!r;return!1}function Cr(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const i=s[o];if(t[i]!==e[i]&&!yo(n,i))return!0}return!1}function pd({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Fi="components";function mn(e,t){return Oa(Fi,e,!0,t)||e}const $a=Symbol.for("v-ndc");function bo(e){return Ee(e)?Oa(Fi,e,!1)||e:e||$a}function Oa(e,t,n=!0,s=!1){const o=Me||Ge;if(o){const i=o.type;if(e===Fi){const l=ui(i,!1);if(l&&(l===t||l===wt(t)||l===ho(wt(t))))return i}const r=Sr(o[e]||i[e],t)||Sr(o.appContext[e],t);return!r&&s?i:r}}function Sr(e,t){return e&&(e[t]||e[wt(t)]||e[ho(wt(t))])}const Aa=e=>e.__isSuspense;function md(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):rd(e)}const gd=Symbol.for("v-scx"),vd=()=>bt(gd);function yd(e,t){return Bi(e,null,{flush:"sync"})}const Ps={};function xe(e,t,n){return Bi(e,t,n)}function Bi(e,t,{immediate:n,deep:s,flush:o,once:i,onTrack:r,onTrigger:l}=ve){if(t&&i){const S=t;t=(...O)=>{S(...O),F()}}const a=Ge,u=S=>s===!0?S:cn(S,s===!1?1:void 0);let c,f=!1,d=!1;if(ke(e)?(c=()=>e.value,f=Xs(e)):Mn(e)?(c=()=>u(e),f=!0):Q(e)?(d=!0,f=e.some(S=>Mn(S)||Xs(S)),c=()=>e.map(S=>{if(ke(S))return S.value;if(Mn(S))return u(S);if(se(S))return nn(S,a,2)})):se(e)?t?c=()=>nn(e,a,2):c=()=>(p&&p(),ft(e,a,3,[g])):c=dt,t&&s){const S=c;c=()=>cn(S())}let p,g=S=>{p=C.onStop=()=>{nn(S,a,4),p=C.onStop=void 0}},v;if(Eo)if(g=dt,t?n&&ft(t,a,3,[c(),d?[]:void 0,g]):c(),o==="sync"){const S=vd();v=S.__watcherHandles||(S.__watcherHandles=[])}else return dt;let w=d?new Array(e.length).fill(Ps):Ps;const E=()=>{if(!(!C.active||!C.dirty))if(t){const S=C.run();(s||f||(d?S.some((O,L)=>Nt(O,w[L])):Nt(S,w)))&&(p&&p(),ft(t,a,3,[S,w===Ps?void 0:d&&w[0]===Ps?[]:w,g]),w=S)}else C.run()};E.allowRecurse=!!t;let y;o==="sync"?y=E:o==="post"?y=()=>Le(E,a&&a.suspense):(E.pre=!0,a&&(E.id=a.uid),y=()=>Hi(E));const C=new Oi(c,dt,y),$=$i(),F=()=>{C.stop(),$&&Mi($.effects,C)};return t?n?E():w=C.run():o==="post"?Le(C.run.bind(C),a&&a.suspense):C.run(),v&&v.push(F),F}function _d(e,t,n){const s=this.proxy,o=Ee(e)?e.includes(".")?Pa(s,e):()=>s[e]:e.bind(s,s);let i;se(t)?i=t:(i=t.handler,n=t);const r=ws(this),l=Bi(o,i.bind(s),n);return r(),l}function Pa(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function cn(e,t,n=0,s){if(!ye(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),ke(e))cn(e.value,t,n,s);else if(Q(e))for(let o=0;o<e.length;o++)cn(e[o],t,n,s);else if(Xl(e)||Tn(e))e.forEach(o=>{cn(o,t,n,s)});else if(Zl(e))for(const o in e)cn(e[o],t,n,s);return e}function _s(e,t){if(Me===null)return e;const n=To(Me)||Me.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[i,r,l,a=ve]=t[o];i&&(se(i)&&(i={mounted:i,updated:i}),i.deep&&cn(r),s.push({dir:i,instance:n,value:r,oldValue:void 0,arg:l,modifiers:a}))}return e}function on(e,t,n,s){const o=e.dirs,i=t&&t.dirs;for(let r=0;r<o.length;r++){const l=o[r];i&&(l.oldValue=i[r].value);let a=l.dir[s];a&&(gn(),ft(a,n,8,[e.el,l,e,t]),vn())}}const Yt=Symbol("_leaveCb"),ks=Symbol("_enterCb");function ka(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vt(()=>{e.isMounted=!0}),Bn(()=>{e.isUnmounting=!0}),e}const ot=[Function,Array],Ra={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ot,onEnter:ot,onAfterEnter:ot,onEnterCancelled:ot,onBeforeLeave:ot,onLeave:ot,onAfterLeave:ot,onLeaveCancelled:ot,onBeforeAppear:ot,onAppear:ot,onAfterAppear:ot,onAppearCancelled:ot},bd={name:"BaseTransition",props:Ra,setup(e,{slots:t}){const n=Vn(),s=ka();let o;return()=>{const i=t.default&&Vi(t.default(),!0);if(!i||!i.length)return;let r=i[0];if(i.length>1){for(const v of i)if(v.type!==ht){r=v;break}}const l=le(e),{mode:a}=l;if(s.isLeaving)return Lo(r);const u=xr(r);if(!u)return Lo(r);const c=us(u,l,s,n);An(u,c);const f=n.subTree,d=f&&xr(f);let p=!1;const{getTransitionKey:g}=u.type;if(g){const v=g();o===void 0?o=v:v!==o&&(o=v,p=!0)}if(d&&d.type!==ht&&(!Zt(u,d)||p)){const v=us(d,l,s,n);if(An(d,v),a==="out-in")return s.isLeaving=!0,v.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Lo(r);a==="in-out"&&u.type!==ht&&(v.delayLeave=(w,E,y)=>{const C=Da(s,d);C[String(d.key)]=d,w[Yt]=()=>{E(),w[Yt]=void 0,delete c.delayedLeave},c.delayedLeave=y})}return r}}},wd=bd;function Da(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function us(e,t,n,s){const{appear:o,mode:i,persisted:r=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:f,onLeave:d,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:v,onAppear:w,onAfterAppear:E,onAppearCancelled:y}=t,C=String(e.key),$=Da(n,e),F=(L,b)=>{L&&ft(L,s,9,b)},S=(L,b)=>{const k=b[1];F(L,b),Q(L)?L.every(G=>G.length<=1)&&k():L.length<=1&&k()},O={mode:i,persisted:r,beforeEnter(L){let b=l;if(!n.isMounted)if(o)b=v||l;else return;L[Yt]&&L[Yt](!0);const k=$[C];k&&Zt(e,k)&&k.el[Yt]&&k.el[Yt](),F(b,[L])},enter(L){let b=a,k=u,G=c;if(!n.isMounted)if(o)b=w||a,k=E||u,G=y||c;else return;let B=!1;const te=L[ks]=ee=>{B||(B=!0,ee?F(G,[L]):F(k,[L]),O.delayedLeave&&O.delayedLeave(),L[ks]=void 0)};b?S(b,[L,te]):te()},leave(L,b){const k=String(e.key);if(L[ks]&&L[ks](!0),n.isUnmounting)return b();F(f,[L]);let G=!1;const B=L[Yt]=te=>{G||(G=!0,b(),te?F(g,[L]):F(p,[L]),L[Yt]=void 0,$[k]===e&&delete $[k])};$[k]=e,d?S(d,[L,B]):B()},clone(L){return us(L,t,n,s)}};return O}function Lo(e){if(wo(e))return e=Ht(e),e.children=null,e}function xr(e){return wo(e)?e.children?e.children[0]:void 0:e}function An(e,t){e.shapeFlag&6&&e.component?An(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Vi(e,t=!1,n){let s=[],o=0;for(let i=0;i<e.length;i++){let r=e[i];const l=n==null?r.key:String(n)+String(r.key!=null?r.key:i);r.type===de?(r.patchFlag&128&&o++,s=s.concat(Vi(r.children,t,l))):(t||r.type!==ht)&&s.push(l!=null?Ht(r,{key:l}):r)}if(o>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Ne(e,t){return se(e)?Te({name:e.name},t,{setup:e}):e}const $n=e=>!!e.type.__asyncLoader,wo=e=>e.type.__isKeepAlive,Cd={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Vn(),s=n.ctx;if(!s.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const o=new Map,i=new Set;let r=null;const l=n.suspense,{renderer:{p:a,m:u,um:c,o:{createElement:f}}}=s,d=f("div");s.activate=(y,C,$,F,S)=>{const O=y.component;u(y,C,$,0,l),a(O.vnode,y,C,$,O,l,F,y.slotScopeIds,S),Le(()=>{O.isDeactivated=!1,O.a&&In(O.a);const L=y.props&&y.props.onVnodeMounted;L&&lt(L,O.parent,y)},l)},s.deactivate=y=>{const C=y.component;u(y,d,null,1,l),Le(()=>{C.da&&In(C.da);const $=y.props&&y.props.onVnodeUnmounted;$&&lt($,C.parent,y),C.isDeactivated=!0},l)};function p(y){Go(y),c(y,n,l,!0)}function g(y){o.forEach((C,$)=>{const F=ui(C.type);F&&(!y||!y(F))&&v($)})}function v(y){const C=o.get(y);!r||!Zt(C,r)?p(C):r&&Go(r),o.delete(y),i.delete(y)}xe(()=>[e.include,e.exclude],([y,C])=>{y&&g($=>Jn(y,$)),C&&g($=>!Jn(C,$))},{flush:"post",deep:!0});let w=null;const E=()=>{w!=null&&o.set(w,Ho(n.subTree))};return Vt(E),bs(E),Bn(()=>{o.forEach(y=>{const{subTree:C,suspense:$}=n,F=Ho(C);if(y.type===F.type&&y.key===F.key){Go(F);const S=F.component.da;S&&Le(S,$);return}p(y)})}),()=>{if(w=null,!t.default)return null;const y=t.default(),C=y[0];if(y.length>1)return r=null,y;if(!fs(C)||!(C.shapeFlag&4)&&!(C.shapeFlag&128))return r=null,C;let $=Ho(C);const F=$.type,S=ui($n($)?$.type.__asyncResolved||{}:F),{include:O,exclude:L,max:b}=e;if(O&&(!S||!Jn(O,S))||L&&S&&Jn(L,S))return r=$,C;const k=$.key==null?F:$.key,G=o.get(k);return $.el&&($=Ht($),C.shapeFlag&128&&(C.ssContent=$)),w=k,G?($.el=G.el,$.component=G.component,$.transition&&An($,$.transition),$.shapeFlag|=512,i.delete(k),i.add(k)):(i.add(k),b&&i.size>parseInt(b,10)&&v(i.values().next().value)),$.shapeFlag|=256,r=$,Aa(C.type)?C:$}}},Sd=Cd;function Jn(e,t){return Q(e)?e.some(n=>Jn(n,t)):Ee(e)?e.split(",").includes(t):gu(e)?e.test(t):!1}function xd(e,t){La(e,"a",t)}function Ed(e,t){La(e,"da",t)}function La(e,t,n=Ge){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Co(t,s,n),n){let o=n.parent;for(;o&&o.parent;)wo(o.parent.vnode)&&Td(s,t,n,o),o=o.parent}}function Td(e,t,n,s){const o=Co(t,e,s,!0);Ui(()=>{Mi(s[t],o)},n)}function Go(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Ho(e){return e.shapeFlag&128?e.ssContent:e}function Co(e,t,n=Ge,s=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;gn();const l=ws(n),a=ft(t,n,e,r);return l(),vn(),a});return s?o.unshift(i):o.push(i),i}}const Bt=e=>(t,n=Ge)=>(!Eo||e==="sp")&&Co(e,(...s)=>t(...s),n),Id=Bt("bm"),Vt=Bt("m"),Md=Bt("bu"),bs=Bt("u"),Bn=Bt("bum"),Ui=Bt("um"),Nd=Bt("sp"),$d=Bt("rtg"),Od=Bt("rtc");function Ad(e,t=Ge){Co("ec",e,t)}function Je(e,t,n,s){let o;const i=n&&n[s];if(Q(e)||Ee(e)){o=new Array(e.length);for(let r=0,l=e.length;r<l;r++)o[r]=t(e[r],r,void 0,i&&i[r])}else if(typeof e=="number"){o=new Array(e);for(let r=0;r<e;r++)o[r]=t(r+1,r,void 0,i&&i[r])}else if(ye(e))if(e[Symbol.iterator])o=Array.from(e,(r,l)=>t(r,l,void 0,i&&i[l]));else{const r=Object.keys(e);o=new Array(r.length);for(let l=0,a=r.length;l<a;l++){const u=r[l];o[l]=t(e[u],u,l,i&&i[l])}}else o=[];return n&&(n[s]=o),o}function Ue(e,t,n={},s,o){if(Me.isCE||Me.parent&&$n(Me.parent)&&Me.parent.isCE)return t!=="default"&&(n.name=t),J("slot",n,s&&s());let i=e[t];i&&i._c&&(i._d=!1),P();const r=i&&Ga(i(n)),l=He(de,{key:n.key||r&&r.key||`_${t}`},r||(s?s():[]),r&&e._===1?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Ga(e){return e.some(t=>fs(t)?!(t.type===ht||t.type===de&&!Ga(t.children)):!0)?e:null}const oi=e=>e?Ja(e)?To(e)||e.proxy:oi(e.parent):null,ts=Te(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>oi(e.parent),$root:e=>oi(e.root),$emit:e=>e.emit,$options:e=>ji(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Hi(e.update)}),$nextTick:e=>e.n||(e.n=$t.bind(e.proxy)),$watch:e=>_d.bind(e)}),Fo=(e,t)=>e!==ve&&!e.__isScriptSetup&&ce(e,t),Pd={get({_:e},t){const{ctx:n,setupState:s,data:o,props:i,accessCache:r,type:l,appContext:a}=e;let u;if(t[0]!=="$"){const p=r[t];if(p!==void 0)switch(p){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(Fo(s,t))return r[t]=1,s[t];if(o!==ve&&ce(o,t))return r[t]=2,o[t];if((u=e.propsOptions[0])&&ce(u,t))return r[t]=3,i[t];if(n!==ve&&ce(n,t))return r[t]=4,n[t];ii&&(r[t]=0)}}const c=ts[t];let f,d;if(c)return t==="$attrs"&&Xe(e,"get",t),c(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==ve&&ce(n,t))return r[t]=4,n[t];if(d=a.config.globalProperties,ce(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:i}=e;return Fo(o,t)?(o[t]=n,!0):s!==ve&&ce(s,t)?(s[t]=n,!0):ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:i}},r){let l;return!!n[r]||e!==ve&&ce(e,r)||Fo(t,r)||(l=i[0])&&ce(l,r)||ce(s,r)||ce(ts,r)||ce(o.config.globalProperties,r)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ce(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Zs(e){return Q(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Ha(e,t){return!e||!t?e||t:Q(e)&&Q(t)?e.concat(t):Te({},Zs(e),Zs(t))}let ii=!0;function kd(e){const t=ji(e),n=e.proxy,s=e.ctx;ii=!1,t.beforeCreate&&Er(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:r,watch:l,provide:a,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:p,updated:g,activated:v,deactivated:w,beforeDestroy:E,beforeUnmount:y,destroyed:C,unmounted:$,render:F,renderTracked:S,renderTriggered:O,errorCaptured:L,serverPrefetch:b,expose:k,inheritAttrs:G,components:B,directives:te,filters:ee}=t;if(u&&Rd(u,s,null),r)for(const ie in r){const oe=r[ie];se(oe)&&(s[ie]=oe.bind(n))}if(o){const ie=o.call(n,n);ye(ie)&&(e.data=Be(ie))}if(ii=!0,i)for(const ie in i){const oe=i[ie],Oe=se(oe)?oe.bind(n,n):se(oe.get)?oe.get.bind(n,n):dt,gt=!se(oe)&&se(oe.set)?oe.set.bind(n):dt,We=q({get:Oe,set:gt});Object.defineProperty(s,ie,{enumerable:!0,configurable:!0,get:()=>We.value,set:Ae=>We.value=Ae})}if(l)for(const ie in l)Fa(l[ie],s,n,ie);if(a){const ie=se(a)?a.call(n):a;Reflect.ownKeys(ie).forEach(oe=>{On(oe,ie[oe])})}c&&Er(c,e,"c");function ae(ie,oe){Q(oe)?oe.forEach(Oe=>ie(Oe.bind(n))):oe&&ie(oe.bind(n))}if(ae(Id,f),ae(Vt,d),ae(Md,p),ae(bs,g),ae(xd,v),ae(Ed,w),ae(Ad,L),ae(Od,S),ae($d,O),ae(Bn,y),ae(Ui,$),ae(Nd,b),Q(k))if(k.length){const ie=e.exposed||(e.exposed={});k.forEach(oe=>{Object.defineProperty(ie,oe,{get:()=>n[oe],set:Oe=>n[oe]=Oe})})}else e.exposed||(e.exposed={});F&&e.render===dt&&(e.render=F),G!=null&&(e.inheritAttrs=G),B&&(e.components=B),te&&(e.directives=te)}function Rd(e,t,n=dt){Q(e)&&(e=ri(e));for(const s in e){const o=e[s];let i;ye(o)?"default"in o?i=bt(o.from||s,o.default,!0):i=bt(o.from||s):i=bt(o),ke(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):t[s]=i}}function Er(e,t,n){ft(Q(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Fa(e,t,n,s){const o=s.includes(".")?Pa(n,s):()=>n[s];if(Ee(e)){const i=t[e];se(i)&&xe(o,i)}else if(se(e))xe(o,e.bind(n));else if(ye(e))if(Q(e))e.forEach(i=>Fa(i,t,n,s));else{const i=se(e.handler)?e.handler.bind(n):t[e.handler];se(i)&&xe(o,i,e)}}function ji(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:r}}=e.appContext,l=i.get(t);let a;return l?a=l:!o.length&&!n&&!s?a=t:(a={},o.length&&o.forEach(u=>eo(a,u,r,!0)),eo(a,t,r)),ye(t)&&i.set(t,a),a}function eo(e,t,n,s=!1){const{mixins:o,extends:i}=t;i&&eo(e,i,n,!0),o&&o.forEach(r=>eo(e,r,n,!0));for(const r in t)if(!(s&&r==="expose")){const l=Dd[r]||n&&n[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const Dd={data:Tr,props:Ir,emits:Ir,methods:Qn,computed:Qn,beforeCreate:Ke,created:Ke,beforeMount:Ke,mounted:Ke,beforeUpdate:Ke,updated:Ke,beforeDestroy:Ke,beforeUnmount:Ke,destroyed:Ke,unmounted:Ke,activated:Ke,deactivated:Ke,errorCaptured:Ke,serverPrefetch:Ke,components:Qn,directives:Qn,watch:Gd,provide:Tr,inject:Ld};function Tr(e,t){return t?e?function(){return Te(se(e)?e.call(this,this):e,se(t)?t.call(this,this):t)}:t:e}function Ld(e,t){return Qn(ri(e),ri(t))}function ri(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ke(e,t){return e?[...new Set([].concat(e,t))]:t}function Qn(e,t){return e?Te(Object.create(null),e,t):t}function Ir(e,t){return e?Q(e)&&Q(t)?[...new Set([...e,...t])]:Te(Object.create(null),Zs(e),Zs(t??{})):t}function Gd(e,t){if(!e)return t;if(!t)return e;const n=Te(Object.create(null),e);for(const s in t)n[s]=Ke(e[s],t[s]);return n}function Ba(){return{app:null,config:{isNativeTag:pu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hd=0;function Fd(e,t){return function(s,o=null){se(s)||(s=Te({},s)),o!=null&&!ye(o)&&(o=null);const i=Ba(),r=new WeakSet;let l=!1;const a=i.app={_uid:Hd++,_component:s,_props:o,_container:null,_context:i,_instance:null,version:df,get config(){return i.config},set config(u){},use(u,...c){return r.has(u)||(u&&se(u.install)?(r.add(u),u.install(a,...c)):se(u)&&(r.add(u),u(a,...c))),a},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),a},component(u,c){return c?(i.components[u]=c,a):i.components[u]},directive(u,c){return c?(i.directives[u]=c,a):i.directives[u]},mount(u,c,f){if(!l){const d=J(s,o);return d.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),c&&t?t(d,u):e(d,u,f),l=!0,a._container=u,u.__vue_app__=a,To(d.component)||d.component.proxy}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(u,c){return i.provides[u]=c,a},runWithContext(u){to=a;try{return u()}finally{to=null}}};return a}}let to=null;function On(e,t){if(Ge){let n=Ge.provides;const s=Ge.parent&&Ge.parent.provides;s===n&&(n=Ge.provides=Object.create(s)),n[e]=t}}function bt(e,t,n=!1){const s=Ge||Me;if(s||to){const o=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:to._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&se(t)?t.call(s&&s.proxy):t}}function Bd(e,t,n,s=!1){const o={},i={};qs(i,xo,1),e.propsDefaults=Object.create(null),Va(e,t,o,i);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);n?e.props=s?o:va(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function Vd(e,t,n,s){const{props:o,attrs:i,vnode:{patchFlag:r}}=e,l=le(o),[a]=e.propsOptions;let u=!1;if((s||r>0)&&!(r&16)){if(r&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(yo(e.emitsOptions,d))continue;const p=t[d];if(a)if(ce(i,d))p!==i[d]&&(i[d]=p,u=!0);else{const g=wt(d);o[g]=li(a,l,g,p,e,!1)}else p!==i[d]&&(i[d]=p,u=!0)}}}else{Va(e,t,o,i)&&(u=!0);let c;for(const f in l)(!t||!ce(t,f)&&((c=sn(f))===f||!ce(t,c)))&&(a?n&&(n[f]!==void 0||n[c]!==void 0)&&(o[f]=li(a,l,f,void 0,e,!0)):delete o[f]);if(i!==l)for(const f in i)(!t||!ce(t,f))&&(delete i[f],u=!0)}u&&Lt(e,"set","$attrs")}function Va(e,t,n,s){const[o,i]=e.propsOptions;let r=!1,l;if(t)for(let a in t){if(Bs(a))continue;const u=t[a];let c;o&&ce(o,c=wt(a))?!i||!i.includes(c)?n[c]=u:(l||(l={}))[c]=u:yo(e.emitsOptions,a)||(!(a in s)||u!==s[a])&&(s[a]=u,r=!0)}if(i){const a=le(n),u=l||ve;for(let c=0;c<i.length;c++){const f=i[c];n[f]=li(o,a,f,u[f],e,!ce(u,f))}}return r}function li(e,t,n,s,o,i){const r=e[n];if(r!=null){const l=ce(r,"default");if(l&&s===void 0){const a=r.default;if(r.type!==Function&&!r.skipFactory&&se(a)){const{propsDefaults:u}=o;if(n in u)s=u[n];else{const c=ws(o);s=u[n]=a.call(null,t),c()}}else s=a}r[0]&&(i&&!l?s=!1:r[1]&&(s===""||s===sn(n))&&(s=!0))}return s}function Ua(e,t,n=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const i=e.props,r={},l=[];let a=!1;if(!se(e)){const c=f=>{a=!0;const[d,p]=Ua(f,t,!0);Te(r,d),p&&l.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!a)return ye(e)&&s.set(e,En),En;if(Q(i))for(let c=0;c<i.length;c++){const f=wt(i[c]);Mr(f)&&(r[f]=ve)}else if(i)for(const c in i){const f=wt(c);if(Mr(f)){const d=i[c],p=r[f]=Q(d)||se(d)?{type:d}:Te({},d);if(p){const g=Or(Boolean,p.type),v=Or(String,p.type);p[0]=g>-1,p[1]=v<0||g<v,(g>-1||ce(p,"default"))&&l.push(f)}}}const u=[r,l];return ye(e)&&s.set(e,u),u}function Mr(e){return e[0]!=="$"}function Nr(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function $r(e,t){return Nr(e)===Nr(t)}function Or(e,t){return Q(t)?t.findIndex(n=>$r(n,e)):se(t)&&$r(t,e)?0:-1}const ja=e=>e[0]==="_"||e==="$stable",Wi=e=>Q(e)?e.map(Tt):[Tt(e)],Ud=(e,t,n)=>{if(t._n)return t;const s=ze((...o)=>Wi(t(...o)),n);return s._c=!1,s},Wa=(e,t,n)=>{const s=e._ctx;for(const o in e){if(ja(o))continue;const i=e[o];if(se(i))t[o]=Ud(o,i,s);else if(i!=null){const r=Wi(i);t[o]=()=>r}}},Ka=(e,t)=>{const n=Wi(t);e.slots.default=()=>n},jd=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=le(t),qs(t,"_",n)):Wa(t,e.slots={})}else e.slots={},t&&Ka(e,t);qs(e.slots,xo,1)},Wd=(e,t,n)=>{const{vnode:s,slots:o}=e;let i=!0,r=ve;if(s.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:(Te(o,t),!n&&l===1&&delete o._):(i=!t.$stable,Wa(t,o)),r=t}else t&&(Ka(e,t),r={default:1});if(i)for(const l in o)!ja(l)&&r[l]==null&&delete o[l]};function ai(e,t,n,s,o=!1){if(Q(e)){e.forEach((d,p)=>ai(d,t&&(Q(t)?t[p]:t),n,s,o));return}if($n(s)&&!o)return;const i=s.shapeFlag&4?To(s.component)||s.component.proxy:s.el,r=o?null:i,{i:l,r:a}=e,u=t&&t.r,c=l.refs===ve?l.refs={}:l.refs,f=l.setupState;if(u!=null&&u!==a&&(Ee(u)?(c[u]=null,ce(f,u)&&(f[u]=null)):ke(u)&&(u.value=null)),se(a))nn(a,l,12,[r,c]);else{const d=Ee(a),p=ke(a);if(d||p){const g=()=>{if(e.f){const v=d?ce(f,a)?f[a]:c[a]:a.value;o?Q(v)&&Mi(v,i):Q(v)?v.includes(i)||v.push(i):d?(c[a]=[i],ce(f,a)&&(f[a]=c[a])):(a.value=[i],e.k&&(c[e.k]=a.value))}else d?(c[a]=r,ce(f,a)&&(f[a]=r)):p&&(a.value=r,e.k&&(c[e.k]=r))};r?(g.id=-1,Le(g,n)):g()}}}const Le=md;function Kd(e){return zd(e)}function zd(e,t){const n=ea();n.__VUE__=!0;const{insert:s,remove:o,patchProp:i,createElement:r,createText:l,createComment:a,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:p=dt,insertStaticContent:g}=e,v=(h,m,_,M=null,x=null,D=null,W=void 0,R=null,H=!!m.dynamicChildren)=>{if(h===m)return;h&&!Zt(h,m)&&(M=T(h),Ae(h,x,D,!0),h=null),m.patchFlag===-2&&(H=!1,m.dynamicChildren=null);const{type:A,ref:z,shapeFlag:Z}=m;switch(A){case So:w(h,m,_,M);break;case ht:E(h,m,_,M);break;case Vs:h==null&&y(m,_,M,W);break;case de:B(h,m,_,M,x,D,W,R,H);break;default:Z&1?F(h,m,_,M,x,D,W,R,H):Z&6?te(h,m,_,M,x,D,W,R,H):(Z&64||Z&128)&&A.process(h,m,_,M,x,D,W,R,H,Y)}z!=null&&x&&ai(z,h&&h.ref,D,m||h,!m)},w=(h,m,_,M)=>{if(h==null)s(m.el=l(m.children),_,M);else{const x=m.el=h.el;m.children!==h.children&&u(x,m.children)}},E=(h,m,_,M)=>{h==null?s(m.el=a(m.children||""),_,M):m.el=h.el},y=(h,m,_,M)=>{[h.el,h.anchor]=g(h.children,m,_,M,h.el,h.anchor)},C=({el:h,anchor:m},_,M)=>{let x;for(;h&&h!==m;)x=d(h),s(h,_,M),h=x;s(m,_,M)},$=({el:h,anchor:m})=>{let _;for(;h&&h!==m;)_=d(h),o(h),h=_;o(m)},F=(h,m,_,M,x,D,W,R,H)=>{m.type==="svg"?W="svg":m.type==="math"&&(W="mathml"),h==null?S(m,_,M,x,D,W,R,H):b(h,m,x,D,W,R,H)},S=(h,m,_,M,x,D,W,R)=>{let H,A;const{props:z,shapeFlag:Z,transition:X,dirs:ne}=h;if(H=h.el=r(h.type,D,z&&z.is,z),Z&8?c(H,h.children):Z&16&&L(h.children,H,null,M,x,Bo(h,D),W,R),ne&&on(h,null,M,"created"),O(H,h,h.scopeId,W,M),z){for(const me in z)me!=="value"&&!Bs(me)&&i(H,me,null,z[me],D,h.children,M,x,Ve);"value"in z&&i(H,"value",null,z.value,D),(A=z.onVnodeBeforeMount)&&lt(A,M,h)}ne&&on(h,null,M,"beforeMount");const re=qd(x,X);re&&X.beforeEnter(H),s(H,m,_),((A=z&&z.onVnodeMounted)||re||ne)&&Le(()=>{A&&lt(A,M,h),re&&X.enter(H),ne&&on(h,null,M,"mounted")},x)},O=(h,m,_,M,x)=>{if(_&&p(h,_),M)for(let D=0;D<M.length;D++)p(h,M[D]);if(x){let D=x.subTree;if(m===D){const W=x.vnode;O(h,W,W.scopeId,W.slotScopeIds,x.parent)}}},L=(h,m,_,M,x,D,W,R,H=0)=>{for(let A=H;A<h.length;A++){const z=h[A]=R?Xt(h[A]):Tt(h[A]);v(null,z,m,_,M,x,D,W,R)}},b=(h,m,_,M,x,D,W)=>{const R=m.el=h.el;let{patchFlag:H,dynamicChildren:A,dirs:z}=m;H|=h.patchFlag&16;const Z=h.props||ve,X=m.props||ve;let ne;if(_&&rn(_,!1),(ne=X.onVnodeBeforeUpdate)&&lt(ne,_,m,h),z&&on(m,h,_,"beforeUpdate"),_&&rn(_,!0),A?k(h.dynamicChildren,A,R,_,M,Bo(m,x),D):W||oe(h,m,R,null,_,M,Bo(m,x),D,!1),H>0){if(H&16)G(R,m,Z,X,_,M,x);else if(H&2&&Z.class!==X.class&&i(R,"class",null,X.class,x),H&4&&i(R,"style",Z.style,X.style,x),H&8){const re=m.dynamicProps;for(let me=0;me<re.length;me++){const we=re[me],Pe=Z[we],vt=X[we];(vt!==Pe||we==="value")&&i(R,we,Pe,vt,x,h.children,_,M,Ve)}}H&1&&h.children!==m.children&&c(R,m.children)}else!W&&A==null&&G(R,m,Z,X,_,M,x);((ne=X.onVnodeUpdated)||z)&&Le(()=>{ne&&lt(ne,_,m,h),z&&on(m,h,_,"updated")},M)},k=(h,m,_,M,x,D,W)=>{for(let R=0;R<m.length;R++){const H=h[R],A=m[R],z=H.el&&(H.type===de||!Zt(H,A)||H.shapeFlag&70)?f(H.el):_;v(H,A,z,null,M,x,D,W,!0)}},G=(h,m,_,M,x,D,W)=>{if(_!==M){if(_!==ve)for(const R in _)!Bs(R)&&!(R in M)&&i(h,R,_[R],null,W,m.children,x,D,Ve);for(const R in M){if(Bs(R))continue;const H=M[R],A=_[R];H!==A&&R!=="value"&&i(h,R,A,H,W,m.children,x,D,Ve)}"value"in M&&i(h,"value",_.value,M.value,W)}},B=(h,m,_,M,x,D,W,R,H)=>{const A=m.el=h?h.el:l(""),z=m.anchor=h?h.anchor:l("");let{patchFlag:Z,dynamicChildren:X,slotScopeIds:ne}=m;ne&&(R=R?R.concat(ne):ne),h==null?(s(A,_,M),s(z,_,M),L(m.children||[],_,z,x,D,W,R,H)):Z>0&&Z&64&&X&&h.dynamicChildren?(k(h.dynamicChildren,X,_,x,D,W,R),(m.key!=null||x&&m===x.subTree)&&za(h,m,!0)):oe(h,m,_,z,x,D,W,R,H)},te=(h,m,_,M,x,D,W,R,H)=>{m.slotScopeIds=R,h==null?m.shapeFlag&512?x.ctx.activate(m,_,M,W,H):ee(m,_,M,x,D,W,H):ge(h,m,H)},ee=(h,m,_,M,x,D,W)=>{const R=h.component=of(h,M,x);if(wo(h)&&(R.ctx.renderer=Y),rf(R),R.asyncDep){if(x&&x.registerDep(R,ae),!h.el){const H=R.subTree=J(ht);E(null,H,m,_)}}else ae(R,h,m,_,x,D,W)},ge=(h,m,_)=>{const M=m.component=h.component;if(hd(h,m,_))if(M.asyncDep&&!M.asyncResolved){ie(M,m,_);return}else M.next=m,id(M.update),M.effect.dirty=!0,M.update();else m.el=h.el,M.vnode=m},ae=(h,m,_,M,x,D,W)=>{const R=()=>{if(h.isMounted){let{next:z,bu:Z,u:X,parent:ne,vnode:re}=h;{const _n=qa(h);if(_n){z&&(z.el=re.el,ie(h,z,W)),_n.asyncDep.then(()=>{h.isUnmounted||R()});return}}let me=z,we;rn(h,!1),z?(z.el=re.el,ie(h,z,W)):z=re,Z&&In(Z),(we=z.props&&z.props.onVnodeBeforeUpdate)&&lt(we,ne,z,re),rn(h,!0);const Pe=Do(h),vt=h.subTree;h.subTree=Pe,v(vt,Pe,f(vt.el),T(vt),h,x,D),z.el=Pe.el,me===null&&pd(h,Pe.el),X&&Le(X,x),(we=z.props&&z.props.onVnodeUpdated)&&Le(()=>lt(we,ne,z,re),x)}else{let z;const{el:Z,props:X}=m,{bm:ne,m:re,parent:me}=h,we=$n(m);if(rn(h,!1),ne&&In(ne),!we&&(z=X&&X.onVnodeBeforeMount)&&lt(z,me,m),rn(h,!0),Z&&be){const Pe=()=>{h.subTree=Do(h),be(Z,h.subTree,h,x,null)};we?m.type.__asyncLoader().then(()=>!h.isUnmounted&&Pe()):Pe()}else{const Pe=h.subTree=Do(h);v(null,Pe,_,M,h,x,D),m.el=Pe.el}if(re&&Le(re,x),!we&&(z=X&&X.onVnodeMounted)){const Pe=m;Le(()=>lt(z,me,Pe),x)}(m.shapeFlag&256||me&&$n(me.vnode)&&me.vnode.shapeFlag&256)&&h.a&&Le(h.a,x),h.isMounted=!0,m=_=M=null}},H=h.effect=new Oi(R,dt,()=>Hi(A),h.scope),A=h.update=()=>{H.dirty&&H.run()};A.id=h.uid,rn(h,!0),A()},ie=(h,m,_)=>{m.component=h;const M=h.vnode.props;h.vnode=m,h.next=null,Vd(h,m.props,M,_),Wd(h,m.children,_),gn(),wr(h),vn()},oe=(h,m,_,M,x,D,W,R,H=!1)=>{const A=h&&h.children,z=h?h.shapeFlag:0,Z=m.children,{patchFlag:X,shapeFlag:ne}=m;if(X>0){if(X&128){gt(A,Z,_,M,x,D,W,R,H);return}else if(X&256){Oe(A,Z,_,M,x,D,W,R,H);return}}ne&8?(z&16&&Ve(A,x,D),Z!==A&&c(_,Z)):z&16?ne&16?gt(A,Z,_,M,x,D,W,R,H):Ve(A,x,D,!0):(z&8&&c(_,""),ne&16&&L(Z,_,M,x,D,W,R,H))},Oe=(h,m,_,M,x,D,W,R,H)=>{h=h||En,m=m||En;const A=h.length,z=m.length,Z=Math.min(A,z);let X;for(X=0;X<Z;X++){const ne=m[X]=H?Xt(m[X]):Tt(m[X]);v(h[X],ne,_,null,x,D,W,R,H)}A>z?Ve(h,x,D,!0,!1,Z):L(m,_,M,x,D,W,R,H,Z)},gt=(h,m,_,M,x,D,W,R,H)=>{let A=0;const z=m.length;let Z=h.length-1,X=z-1;for(;A<=Z&&A<=X;){const ne=h[A],re=m[A]=H?Xt(m[A]):Tt(m[A]);if(Zt(ne,re))v(ne,re,_,null,x,D,W,R,H);else break;A++}for(;A<=Z&&A<=X;){const ne=h[Z],re=m[X]=H?Xt(m[X]):Tt(m[X]);if(Zt(ne,re))v(ne,re,_,null,x,D,W,R,H);else break;Z--,X--}if(A>Z){if(A<=X){const ne=X+1,re=ne<z?m[ne].el:M;for(;A<=X;)v(null,m[A]=H?Xt(m[A]):Tt(m[A]),_,re,x,D,W,R,H),A++}}else if(A>X)for(;A<=Z;)Ae(h[A],x,D,!0),A++;else{const ne=A,re=A,me=new Map;for(A=re;A<=X;A++){const Qe=m[A]=H?Xt(m[A]):Tt(m[A]);Qe.key!=null&&me.set(Qe.key,A)}let we,Pe=0;const vt=X-re+1;let _n=!1,ur=0;const jn=new Array(vt);for(A=0;A<vt;A++)jn[A]=0;for(A=ne;A<=Z;A++){const Qe=h[A];if(Pe>=vt){Ae(Qe,x,D,!0);continue}let xt;if(Qe.key!=null)xt=me.get(Qe.key);else for(we=re;we<=X;we++)if(jn[we-re]===0&&Zt(Qe,m[we])){xt=we;break}xt===void 0?Ae(Qe,x,D,!0):(jn[xt-re]=A+1,xt>=ur?ur=xt:_n=!0,v(Qe,m[xt],_,null,x,D,W,R,H),Pe++)}const dr=_n?Yd(jn):En;for(we=dr.length-1,A=vt-1;A>=0;A--){const Qe=re+A,xt=m[Qe],fr=Qe+1<z?m[Qe+1].el:M;jn[A]===0?v(null,xt,_,fr,x,D,W,R,H):_n&&(we<0||A!==dr[we]?We(xt,_,fr,2):we--)}}},We=(h,m,_,M,x=null)=>{const{el:D,type:W,transition:R,children:H,shapeFlag:A}=h;if(A&6){We(h.component.subTree,m,_,M);return}if(A&128){h.suspense.move(m,_,M);return}if(A&64){W.move(h,m,_,Y);return}if(W===de){s(D,m,_);for(let Z=0;Z<H.length;Z++)We(H[Z],m,_,M);s(h.anchor,m,_);return}if(W===Vs){C(h,m,_);return}if(M!==2&&A&1&&R)if(M===0)R.beforeEnter(D),s(D,m,_),Le(()=>R.enter(D),x);else{const{leave:Z,delayLeave:X,afterLeave:ne}=R,re=()=>s(D,m,_),me=()=>{Z(D,()=>{re(),ne&&ne()})};X?X(D,re,me):me()}else s(D,m,_)},Ae=(h,m,_,M=!1,x=!1)=>{const{type:D,props:W,ref:R,children:H,dynamicChildren:A,shapeFlag:z,patchFlag:Z,dirs:X}=h;if(R!=null&&ai(R,null,_,h,!0),z&256){m.ctx.deactivate(h);return}const ne=z&1&&X,re=!$n(h);let me;if(re&&(me=W&&W.onVnodeBeforeUnmount)&&lt(me,m,h),z&6)Is(h.component,_,M);else{if(z&128){h.suspense.unmount(_,M);return}ne&&on(h,null,m,"beforeUnmount"),z&64?h.type.remove(h,m,_,x,Y,M):A&&(D!==de||Z>0&&Z&64)?Ve(A,m,_,!1,!0):(D===de&&Z&384||!x&&z&16)&&Ve(H,m,_),M&&Ot(h)}(re&&(me=W&&W.onVnodeUnmounted)||ne)&&Le(()=>{me&&lt(me,m,h),ne&&on(h,null,m,"unmounted")},_)},Ot=h=>{const{type:m,el:_,anchor:M,transition:x}=h;if(m===de){yn(_,M);return}if(m===Vs){$(h);return}const D=()=>{o(_),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(h.shapeFlag&1&&x&&!x.persisted){const{leave:W,delayLeave:R}=x,H=()=>W(_,D);R?R(h.el,D,H):H()}else D()},yn=(h,m)=>{let _;for(;h!==m;)_=d(h),o(h),h=_;o(m)},Is=(h,m,_)=>{const{bum:M,scope:x,update:D,subTree:W,um:R}=h;M&&In(M),x.stop(),D&&(D.active=!1,Ae(W,h,m,_)),R&&Le(R,m),Le(()=>{h.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},Ve=(h,m,_,M=!1,x=!1,D=0)=>{for(let W=D;W<h.length;W++)Ae(h[W],m,_,M,x)},T=h=>h.shapeFlag&6?T(h.component.subTree):h.shapeFlag&128?h.suspense.next():d(h.anchor||h.el);let K=!1;const j=(h,m,_)=>{h==null?m._vnode&&Ae(m._vnode,null,null,!0):v(m._vnode||null,h,m,null,null,null,_),K||(K=!0,wr(),Ia(),K=!1),m._vnode=h},Y={p:v,um:Ae,m:We,r:Ot,mt:ee,mc:L,pc:oe,pbc:k,n:T,o:e};let he,be;return t&&([he,be]=t(Y)),{render:j,hydrate:he,createApp:Fd(j,he)}}function Bo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function rn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function qd(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function za(e,t,n=!1){const s=e.children,o=t.children;if(Q(s)&&Q(o))for(let i=0;i<s.length;i++){const r=s[i];let l=o[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[i]=Xt(o[i]),l.el=r.el),n||za(r,l)),l.type===So&&(l.el=r.el)}}function Yd(e){const t=e.slice(),n=[0];let s,o,i,r,l;const a=e.length;for(s=0;s<a;s++){const u=e[s];if(u!==0){if(o=n[n.length-1],e[o]<u){t[s]=o,n.push(s);continue}for(i=0,r=n.length-1;i<r;)l=i+r>>1,e[n[l]]<u?i=l+1:r=l;u<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,r=n[i-1];i-- >0;)n[i]=r,r=t[r];return n}function qa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:qa(t)}const Xd=e=>e.__isTeleport,de=Symbol.for("v-fgt"),So=Symbol.for("v-txt"),ht=Symbol.for("v-cmt"),Vs=Symbol.for("v-stc"),ns=[];let _t=null;function P(e=!1){ns.push(_t=e?null:[])}function Jd(){ns.pop(),_t=ns[ns.length-1]||null}let ds=1;function Ar(e){ds+=e}function Ya(e){return e.dynamicChildren=ds>0?_t||En:null,Jd(),ds>0&&_t&&_t.push(e),e}function V(e,t,n,s,o,i){return Ya(I(e,t,n,s,o,i,!0))}function He(e,t,n,s,o){return Ya(J(e,t,n,s,o,!0))}function fs(e){return e?e.__v_isVNode===!0:!1}function Zt(e,t){return e.type===t.type&&e.key===t.key}const xo="__vInternal",Xa=({key:e})=>e??null,Us=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ee(e)||ke(e)||se(e)?{i:Me,r:e,k:t,f:!!n}:e:null);function I(e,t=null,n=null,s=0,o=null,i=e===de?0:1,r=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Xa(t),ref:t&&Us(t),scopeId:_o,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Me};return l?(Ki(a,n),i&128&&e.normalize(a)):n&&(a.shapeFlag|=Ee(n)?8:16),ds>0&&!r&&_t&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&_t.push(a),a}const J=Qd;function Qd(e,t=null,n=null,s=0,o=null,i=!1){if((!e||e===$a)&&(e=ht),fs(e)){const l=Ht(e,t,!0);return n&&Ki(l,n),ds>0&&!i&&_t&&(l.shapeFlag&6?_t[_t.indexOf(e)]=l:_t.push(l)),l.patchFlag|=-2,l}if(uf(e)&&(e=e.__vccOpts),t){t=Zd(t);let{class:l,style:a}=t;l&&!Ee(l)&&(t.class=Fe(l)),ye(a)&&(ya(a)&&!Q(a)&&(a=Te({},a)),t.style=ue(a))}const r=Ee(e)?1:Aa(e)?128:Xd(e)?64:ye(e)?4:se(e)?2:0;return I(e,t,n,s,o,r,i,!0)}function Zd(e){return e?ya(e)||xo in e?Te({},e):e:null}function Ht(e,t,n=!1){const{props:s,ref:o,patchFlag:i,children:r}=e,l=t?tf(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Xa(l),ref:t&&t.ref?n&&o?Q(o)?o.concat(Us(t)):[o,Us(t)]:Us(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==de?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ht(e.ssContent),ssFallback:e.ssFallback&&Ht(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Mt(e=" ",t=0){return J(So,null,e,t)}function ef(e,t){const n=J(Vs,null,e);return n.staticCount=t,n}function nt(e="",t=!1){return t?(P(),He(ht,null,e)):J(ht,null,e)}function Tt(e){return e==null||typeof e=="boolean"?J(ht):Q(e)?J(de,null,e.slice()):typeof e=="object"?Xt(e):J(So,null,String(e))}function Xt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ht(e)}function Ki(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Q(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),Ki(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(xo in t)?t._ctx=Me:o===3&&Me&&(Me.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else se(t)?(t={default:t,_ctx:Me},n=32):(t=String(t),s&64?(n=16,t=[Mt(t)]):n=8);e.children=t,e.shapeFlag|=n}function tf(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=Fe([t.class,s.class]));else if(o==="style")t.style=ue([t.style,s.style]);else if(uo(o)){const i=t[o],r=s[o];r&&i!==r&&!(Q(i)&&i.includes(r))&&(t[o]=i?[].concat(i,r):r)}else o!==""&&(t[o]=s[o])}return t}function lt(e,t,n,s=null){ft(e,t,7,[n,s])}const nf=Ba();let sf=0;function of(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||nf,i={uid:sf++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Iu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ua(s,o),emitsOptions:Na(s,o),emit:null,emitted:null,propsDefaults:ve,inheritAttrs:s.inheritAttrs,ctx:ve,data:ve,props:ve,attrs:ve,slots:ve,refs:ve,setupState:ve,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=ad.bind(null,i),e.ce&&e.ce(i),i}let Ge=null;const Vn=()=>Ge||Me;let no,ci;{const e=ea(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),i=>{o.length>1?o.forEach(r=>r(i)):o[0](i)}};no=t("__VUE_INSTANCE_SETTERS__",n=>Ge=n),ci=t("__VUE_SSR_SETTERS__",n=>Eo=n)}const ws=e=>{const t=Ge;return no(e),e.scope.on(),()=>{e.scope.off(),no(t)}},Pr=()=>{Ge&&Ge.scope.off(),no(null)};function Ja(e){return e.vnode.shapeFlag&4}let Eo=!1;function rf(e,t=!1){t&&ci(t);const{props:n,children:s}=e.vnode,o=Ja(e);Bd(e,n,o,t),jd(e,s);const i=o?lf(e,t):void 0;return t&&ci(!1),i}function lf(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ys(new Proxy(e.ctx,Pd));const{setup:s}=n;if(s){const o=e.setupContext=s.length>1?cf(e):null,i=ws(e);gn();const r=nn(s,e,0,[e.props,o]);if(vn(),i(),Jl(r)){if(r.then(Pr,Pr),t)return r.then(l=>{kr(e,l,t)}).catch(l=>{vo(l,e,0)});e.asyncDep=r}else kr(e,r,t)}else Qa(e,t)}function kr(e,t,n){se(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ye(t)&&(e.setupState=Ca(t)),Qa(e,n)}let Rr;function Qa(e,t,n){const s=e.type;if(!e.render){if(!t&&Rr&&!s.render){const o=s.template||ji(e).template;if(o){const{isCustomElement:i,compilerOptions:r}=e.appContext.config,{delimiters:l,compilerOptions:a}=s,u=Te(Te({isCustomElement:i,delimiters:l},r),a);s.render=Rr(o,u)}}e.render=s.render||dt}{const o=ws(e);gn();try{kd(e)}finally{vn(),o()}}}function af(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Xe(e,"get","$attrs"),t[n]}}))}function cf(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return af(e)},slots:e.slots,emit:e.emit,expose:t}}function To(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ca(ys(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ts)return ts[n](e)},has(t,n){return n in t||n in ts}}))}function ui(e,t=!0){return se(e)?e.displayName||e.name:e.name||t&&e.__name}function uf(e){return se(e)&&"__vccOpts"in e}const q=(e,t)=>Xu(e,t,Eo);function di(e,t,n=ve){const s=Vn(),o=wt(t),i=sn(t),r=Sa((a,u)=>{let c;return yd(()=>{const f=e[t];Nt(c,f)&&(c=f,u())}),{get(){return a(),n.get?n.get(c):c},set(f){const d=s.vnode.props;!(d&&(t in d||o in d||i in d)&&(`onUpdate:${t}`in d||`onUpdate:${o}`in d||`onUpdate:${i}`in d))&&Nt(f,c)&&(c=f,u()),s.emit(`update:${t}`,n.set?n.set(f):f)}}}),l=t==="modelValue"?"modelModifiers":`${t}Modifiers`;return r[Symbol.iterator]=()=>{let a=0;return{next(){return a<2?{value:a++?e[l]||{}:r,done:!1}:{done:!0}}}},r}function zi(e,t,n){const s=arguments.length;return s===2?ye(t)&&!Q(t)?fs(t)?J(e,null,[t]):J(e,t):J(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&fs(n)&&(n=[n]),J(e,t,n))}const df="3.4.11";/**
* @vue/runtime-dom v3.4.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ff="http://www.w3.org/2000/svg",hf="http://www.w3.org/1998/Math/MathML",Jt=typeof document<"u"?document:null,Dr=Jt&&Jt.createElement("template"),pf={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?Jt.createElementNS(ff,e):t==="mathml"?Jt.createElementNS(hf,e):Jt.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>Jt.createTextNode(e),createComment:e=>Jt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Jt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,i){const r=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{Dr.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const l=Dr.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},jt="transition",Wn="animation",Pn=Symbol("_vtc"),Un=(e,{slots:t})=>zi(wd,ec(e),t);Un.displayName="Transition";const Za={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},mf=Un.props=Te({},Ra,Za),ln=(e,t=[])=>{Q(e)?e.forEach(n=>n(...t)):e&&e(...t)},Lr=e=>e?Q(e)?e.some(t=>t.length>1):e.length>1:!1;function ec(e){const t={};for(const B in e)B in Za||(t[B]=e[B]);if(e.css===!1)return t;const{name:n="v",type:s,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=i,appearActiveClass:u=r,appearToClass:c=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,g=gf(o),v=g&&g[0],w=g&&g[1],{onBeforeEnter:E,onEnter:y,onEnterCancelled:C,onLeave:$,onLeaveCancelled:F,onBeforeAppear:S=E,onAppear:O=y,onAppearCancelled:L=C}=t,b=(B,te,ee)=>{zt(B,te?c:l),zt(B,te?u:r),ee&&ee()},k=(B,te)=>{B._isLeaving=!1,zt(B,f),zt(B,p),zt(B,d),te&&te()},G=B=>(te,ee)=>{const ge=B?O:y,ae=()=>b(te,B,ee);ln(ge,[te,ae]),Gr(()=>{zt(te,B?a:i),kt(te,B?c:l),Lr(ge)||Hr(te,s,v,ae)})};return Te(t,{onBeforeEnter(B){ln(E,[B]),kt(B,i),kt(B,r)},onBeforeAppear(B){ln(S,[B]),kt(B,a),kt(B,u)},onEnter:G(!1),onAppear:G(!0),onLeave(B,te){B._isLeaving=!0;const ee=()=>k(B,te);kt(B,f),nc(),kt(B,d),Gr(()=>{B._isLeaving&&(zt(B,f),kt(B,p),Lr($)||Hr(B,s,w,ee))}),ln($,[B,ee])},onEnterCancelled(B){b(B,!1),ln(C,[B])},onAppearCancelled(B){b(B,!0),ln(L,[B])},onLeaveCancelled(B){k(B),ln(F,[B])}})}function gf(e){if(e==null)return null;if(ye(e))return[Vo(e.enter),Vo(e.leave)];{const t=Vo(e);return[t,t]}}function Vo(e){return bu(e)}function kt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Pn]||(e[Pn]=new Set)).add(t)}function zt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[Pn];n&&(n.delete(t),n.size||(e[Pn]=void 0))}function Gr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let vf=0;function Hr(e,t,n,s){const o=e._endId=++vf,i=()=>{o===e._endId&&s()};if(n)return setTimeout(i,n);const{type:r,timeout:l,propCount:a}=tc(e,t);if(!r)return s();const u=r+"end";let c=0;const f=()=>{e.removeEventListener(u,d),i()},d=p=>{p.target===e&&++c>=a&&f()};setTimeout(()=>{c<a&&f()},l+1),e.addEventListener(u,d)}function tc(e,t){const n=window.getComputedStyle(e),s=g=>(n[g]||"").split(", "),o=s(`${jt}Delay`),i=s(`${jt}Duration`),r=Fr(o,i),l=s(`${Wn}Delay`),a=s(`${Wn}Duration`),u=Fr(l,a);let c=null,f=0,d=0;t===jt?r>0&&(c=jt,f=r,d=i.length):t===Wn?u>0&&(c=Wn,f=u,d=a.length):(f=Math.max(r,u),c=f>0?r>u?jt:Wn:null,d=c?c===jt?i.length:a.length:0);const p=c===jt&&/\b(transform|all)(,|$)/.test(s(`${jt}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:p}}function Fr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Br(n)+Br(e[s])))}function Br(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function nc(){return document.body.offsetHeight}function yf(e,t,n){const s=e[Pn];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const qi=Symbol("_vod"),sc={beforeMount(e,{value:t},{transition:n}){e[qi]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Kn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Kn(e,!0),s.enter(e)):s.leave(e,()=>{Kn(e,!1)}):Kn(e,t))},beforeUnmount(e,{value:t}){Kn(e,t)}};function Kn(e,t){e.style.display=t?e[qi]:"none"}const _f=Symbol("");function bf(e,t,n){const s=e.style,o=s.display,i=Ee(n);if(n&&!i){if(t&&!Ee(t))for(const r in t)n[r]==null&&fi(s,r,"");for(const r in n)fi(s,r,n[r])}else if(i){if(t!==n){const r=s[_f];r&&(n+=";"+r),s.cssText=n}}else t&&e.removeAttribute("style");qi in e&&(s.display=o)}const Vr=/\s*!important$/;function fi(e,t,n){if(Q(n))n.forEach(s=>fi(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=wf(e,t);Vr.test(n)?e.setProperty(sn(s),n.replace(Vr,""),"important"):e[s]=n}}const Ur=["Webkit","Moz","ms"],Uo={};function wf(e,t){const n=Uo[t];if(n)return n;let s=wt(t);if(s!=="filter"&&s in e)return Uo[t]=s;s=ho(s);for(let o=0;o<Ur.length;o++){const i=Ur[o]+s;if(i in e)return Uo[t]=i}return t}const jr="http://www.w3.org/1999/xlink";function Cf(e,t,n,s,o){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(jr,t.slice(6,t.length)):e.setAttributeNS(jr,t,n);else{const i=Tu(t);n==null||i&&!ta(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Sf(e,t,n,s,o,i,r){if(t==="innerHTML"||t==="textContent"){s&&r(s,o,i),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const u=l==="OPTION"?e.getAttribute("value"):e.value,c=n??"";u!==c&&(e.value=c),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=ta(n):n==null&&u==="string"?(n="",a=!0):u==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function bn(e,t,n,s){e.addEventListener(t,n,s)}function xf(e,t,n,s){e.removeEventListener(t,n,s)}const Wr=Symbol("_vei");function Ef(e,t,n,s,o=null){const i=e[Wr]||(e[Wr]={}),r=i[t];if(s&&r)r.value=s;else{const[l,a]=Tf(t);if(s){const u=i[t]=Nf(s,o);bn(e,l,u,a)}else r&&(xf(e,l,r,a),i[t]=void 0)}}const Kr=/(?:Once|Passive|Capture)$/;function Tf(e){let t;if(Kr.test(e)){t={};let s;for(;s=e.match(Kr);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):sn(e.slice(2)),t]}let jo=0;const If=Promise.resolve(),Mf=()=>jo||(If.then(()=>jo=0),jo=Date.now());function Nf(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;ft($f(s,n.value),t,5,[s])};return n.value=e,n.attached=Mf(),n}function $f(e,t){if(Q(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const zr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Of=(e,t,n,s,o,i,r,l,a)=>{const u=o==="svg";t==="class"?yf(e,s,u):t==="style"?bf(e,n,s):uo(t)?Ii(t)||Ef(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Af(e,t,s,u))?Sf(e,t,s,i,r,l,a):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Cf(e,t,s,u))};function Af(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&zr(t)&&se(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return zr(t)&&Ee(n)?!1:t in e}const oc=new WeakMap,ic=new WeakMap,so=Symbol("_moveCb"),qr=Symbol("_enterCb"),rc={name:"TransitionGroup",props:Te({},mf,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Vn(),s=ka();let o,i;return bs(()=>{if(!o.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!Gf(o[0].el,n.vnode.el,r))return;o.forEach(Rf),o.forEach(Df);const l=o.filter(Lf);nc(),l.forEach(a=>{const u=a.el,c=u.style;kt(u,r),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[so]=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u[so]=null,zt(u,r))};u.addEventListener("transitionend",f)})}),()=>{const r=le(e),l=ec(r);let a=r.tag||de;o=i,i=t.default?Vi(t.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&An(c,us(c,l,s,n))}if(o)for(let u=0;u<o.length;u++){const c=o[u];An(c,us(c,l,s,n)),oc.set(c,c.el.getBoundingClientRect())}return J(a,null,i)}}},Pf=e=>delete e.mode;rc.props;const kf=rc;function Rf(e){const t=e.el;t[so]&&t[so](),t[qr]&&t[qr]()}function Df(e){ic.set(e,e.el.getBoundingClientRect())}function Lf(e){const t=oc.get(e),n=ic.get(e),s=t.left-n.left,o=t.top-n.top;if(s||o){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${o}px)`,i.transitionDuration="0s",e}}function Gf(e,t,n){const s=e.cloneNode(),o=e[Pn];o&&o.forEach(l=>{l.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(s);const{hasTransform:r}=tc(s);return i.removeChild(s),r}const Yr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Q(t)?n=>In(t,n):t};function Hf(e){e.target.composing=!0}function Xr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Wo=Symbol("_assign"),Yi={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[Wo]=Yr(o);const i=s||o.props&&o.props.type==="number";bn(e,t?"change":"input",r=>{if(r.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=Zo(l)),e[Wo](l)}),n&&bn(e,"change",()=>{e.value=e.value.trim()}),t||(bn(e,"compositionstart",Hf),bn(e,"compositionend",Xr),bn(e,"change",Xr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:o}},i){if(e[Wo]=Yr(i),e.composing)return;const r=o||e.type==="number"?Zo(e.value):e.value,l=t??"";r!==l&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===l)||(e.value=l))}},Ff=["ctrl","shift","alt","meta"],Bf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ff.some(n=>e[`${n}Key`]&&!t.includes(n))},st=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(o,...i)=>{for(let r=0;r<t.length;r++){const l=Bf[t[r]];if(l&&l(o,t))return}return e(o,...i)})},Vf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},hi=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const i=sn(o.key);if(t.some(r=>r===i||Vf[r]===i))return e(o)})},Uf=Te({patchProp:Of},pf);let Jr;function jf(){return Jr||(Jr=Kd(Uf))}const Wf=(...e)=>{const t=jf().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=zf(s);if(!o)return;const i=t._component;!se(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const r=n(o,!1,Kf(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),r},t};function Kf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function zf(e){return Ee(e)?document.querySelector(e):e}function qf(e){return $i()?(sa(e),!0):!1}function yt(e){return typeof e=="function"?e():N(e)}const Yf=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Xf=Object.prototype.toString,Jf=e=>Xf.call(e)==="[object Object]",Ko=(e,t,n)=>Math.min(n,Math.max(t,e)),pi=()=>{};function Qf(e,t){function n(...s){return new Promise((o,i)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(o).catch(i)})}return n}const lc=e=>e();function Zf(e,t=!0,n=!0,s=!1){let o=0,i,r=!0,l=pi,a;const u=()=>{i&&(clearTimeout(i),i=void 0,l(),l=pi)};return f=>{const d=yt(e),p=Date.now()-o,g=()=>a=f();return u(),d<=0?(o=Date.now(),g()):(p>d&&(n||!r)?(o=Date.now(),g()):t&&(a=new Promise((v,w)=>{l=s?w:v,i=setTimeout(()=>{o=Date.now(),r=!0,v(g()),u()},Math.max(0,d-p))})),!n&&!i&&(i=setTimeout(()=>r=!0,d)),r=!1,a)}}function eh(e=lc){const t=U(!0);function n(){t.value=!1}function s(){t.value=!0}const o=(...i)=>{t.value&&e(...i)};return{isActive:Ri(t),pause:n,resume:s,eventFilter:o}}function th(e){return e||Vn()}function ac(e,t,n={}){const{eventFilter:s=lc,...o}=n;return xe(e,Qf(s,t),o)}function cc(e,t,n={}){const{eventFilter:s,...o}=n,{eventFilter:i,pause:r,resume:l,isActive:a}=eh(s);return{stop:ac(e,t,{...o,eventFilter:i}),pause:r,resume:l,isActive:a}}function nh(e,t=!0,n){th()?Vt(e,n):t?e():$t(e)}function sh(e,t,n){const s=xe(e,(...o)=>($t(()=>s()),t(...o)),n);return s}function oh(e,t,n={}){const{throttle:s=0,trailing:o=!0,leading:i=!0,...r}=n;return ac(e,t,{...r,eventFilter:Zf(s,o,i)})}function ih(e){var t;const n=yt(e);return(t=n?.$el)!=null?t:n}const mi=Yf?window:void 0;function Qr(...e){let t,n,s,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,o]=e,t=mi):[t,n,s,o]=e,!t)return pi;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const i=[],r=()=>{i.forEach(c=>c()),i.length=0},l=(c,f,d,p)=>(c.addEventListener(f,d,p),()=>c.removeEventListener(f,d,p)),a=xe(()=>[ih(t),yt(o)],([c,f])=>{if(r(),!c)return;const d=Jf(f)?{...f}:f;i.push(...n.flatMap(p=>s.map(g=>l(c,p,g,d))))},{immediate:!0,flush:"post"}),u=()=>{a(),r()};return qf(u),u}const Rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ds="__vueuse_ssr_handlers__",rh=lh();function lh(){return Ds in Rs||(Rs[Ds]=Rs[Ds]||{}),Rs[Ds]}function ah(e,t){return rh[e]||t}function ch(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const uh={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Zr="vueuse-storage";function zo(e,t,n,s={}){var o;const{flush:i="pre",deep:r=!0,listenToStorageChanges:l=!0,writeDefaults:a=!0,mergeDefaults:u=!1,shallow:c,window:f=mi,eventFilter:d,onError:p=b=>{console.error(b)},initOnMounted:g}=s,v=(c?ba:U)(typeof t=="function"?t():t);if(!n)try{n=ah("getDefaultStorage",()=>{var b;return(b=mi)==null?void 0:b.localStorage})()}catch(b){p(b)}if(!n)return v;const w=yt(t),E=ch(w),y=(o=s.serializer)!=null?o:uh[E],{pause:C,resume:$}=cc(v,()=>F(v.value),{flush:i,deep:r,eventFilter:d});return f&&l&&nh(()=>{Qr(f,"storage",L),Qr(f,Zr,O),g&&L()}),g||L(),v;function F(b){try{if(b==null)n.removeItem(e);else{const k=y.write(b),G=n.getItem(e);G!==k&&(n.setItem(e,k),f&&f.dispatchEvent(new CustomEvent(Zr,{detail:{key:e,oldValue:G,newValue:k,storageArea:n}})))}}catch(k){p(k)}}function S(b){const k=b?b.newValue:n.getItem(e);if(k==null)return a&&w!=null&&n.setItem(e,y.write(w)),w;if(!b&&u){const G=y.read(k);return typeof u=="function"?u(G,w):E==="object"&&!Array.isArray(G)?{...w,...G}:G}else return typeof k!="string"?k:y.read(k)}function O(b){L(b.detail)}function L(b){if(!(b&&b.storageArea!==n)){if(b&&b.key==null){v.value=w;return}if(!(b&&b.key!==e)){C();try{b?.newValue!==y.write(v.value)&&(v.value=S(b))}catch(k){p(k)}finally{b?$t($):$()}}}}}function el(e,t,n){if(typeof e=="function"||pn(e))return q(()=>Ko(yt(e),yt(t),yt(n)));const s=U(e);return q({get(){return s.value=Ko(s.value,yt(t),yt(n))},set(o){s.value=Ko(o,yt(t),yt(n))}})}function Io(){const e=Be({h:zo("hue",70),s:el(zo("sat",70),0,100),v:el(zo("val",70),0,100)}),t=q(()=>`hsl(${e.h%360}deg,${e.s}%,${e.v/2}%)`),n=q(()=>[e.h%360/360*255,e.s/100*255,e.v/100*255].map(Math.floor));return xe(()=>e.h,s=>{e.h=s>360?0:s<0?360:s}),{color:e,hsl:t,bytes:n}}function dh(e=0,t=0,n=1,s=1){return t===void 0&&(t=Math.floor(e/12)+4),`hsla(${e%12*30},${n*100}%,${Math.abs(t+2)*8}%,${s})`}function fh(e){return dh(hh(e),3)}function hh(e,t=440){return 12*(Math.log(Number(e)/t)/Math.log(2))}const _e={MSG_REQUESTPARAM:240,MSG_LIGHTSABER_STATE:1,MSG_LIGHTSABER_STATE_ALL:2,MSG_LIGHTSABER_STATE_CALIBIMU:3,MSG_LIGHTSABER_CONFIG:160,MSG_LIGHTSABER_CONFIG_ALL:176,MSG_LIGHTSABER_CONFIG_SABREMODE:161,MSG_LIGHTSABER_CONFIG_LEDS:162,MSG_LIGHTSABER_CONFIG_GESTURE:163,MSG_LIGHTSABER_CONFIG_AUDIO:164,MSG_LIGHTSABER_CONFIG_MIDI:165,MSG_LIGHTSABER_CONFIG_HUM:166,MSG_LIGHTSABER_CONFIG_WIFI:167,MSG_LIGHTSABER_CONFIG_BLE:168};function ph(e,t){return Object.keys(e)?.[Object.values(e).indexOf(t)]||"UNKNOWN"}const mh={LIGHT_OFF:0,LIGHT_ON:1,LIGHT_TRANSITION_ON:2,LIGHT_TRANSITION_OFF:3},uc={MODE_LIGHTSABER:0,MODE_POV:1,MODE_MIDI:2,MODE_PERFORMANCE:3,size:1},gh={HANDEDNESS_RIGHT:0,HANDEDNESS_LEFT:1,size:1};function Mo(e,t){const n=new Uint8Array(t+2);return vh(e,t,n),n}function vh(e,t,n){n[0]=128,n[1]=128;for(let r=0;r<t;r++)n[r+2]=e[r];console.log("Sending: ",n)}function yh(e){return(e[0]&63)<<7}function _h(e,t,n){return e&8064|t[n]&127}function dc(e){return e.length<3?(console.log("Invalid packet (size < 3)"),!1):!(e[0]&128)||!(e[1]&128)?(console.log("Invalid packet"),!1):!0}function qo(e,t,n=!0){let s=n?e[t+1]<<8|e[t]:e[t]<<8|e[t+1];return s&32768&&(s|=4294901760),s}function Ze(e,t,n=!0){return n?e[t+1]<<8|e[t]:e[t]<<8|e[t+1]}function it(e,t,n=!0){let s=n?e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]:e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return s&2147483648&&(s|=0xffffffff00000000),s}function zn(e,t,n){return e[t]>>n&1}function Ls(e,t,n=!0){let s=new ArrayBuffer(4),o=new DataView(s);return o.setUint8(0,e[t]),o.setUint8(1,e[t+1]),o.setUint8(2,e[t+2]),o.setUint8(3,e[t+3]),o.getFloat32(0,n)}function tl(e,t,n){let s="";for(let o=0;o<n;o++)s+=String.fromCharCode(e[t+o]);return s}function Gs(e,t,n){new DataView(t.buffer).setFloat32(n,e,!0)}function tt(e,t,n){new DataView(t.buffer).setUint16(n,e,!0)}function rt(e,t,n){new DataView(t.buffer).setInt32(n,e,!0)}function Wt(e,t){return JSON.stringify(e)===JSON.stringify(t)}const bh={handedness:gh.HANDEDNESS_RIGHT,twist_threshold:0,noswing_threshold:0,stab_max_rad:0,clash_threshold:.1,cal_acc_bias:[0,0,0],cal_gyro_bias:[0,0,0],cal_mag_bias:[0,0,0],cal_mag_scale:[0,0,0],size:65},wh={lightOnVolumePCT:50,lightOffVolumePCT:50,actionVolumePCT:50,size:3},Ch={humSynthesizer:0,humVolumePCT:80,hum1Freq:74,hum2Freq:92,hum3Freq:278,hum4Freq:370,hum5Freq:462,hum1VolumePCT:25,hum2VolumePCT:66,hum3VolumePCT:35,hum4VolumePCT:20,hum5VolumePCT:16,size:17},Sh={midiVolumePCT:100,midiNoteWidthPCT:20,midiNoteSpeedPCT:50,attackTimeMs:50,decayTimeMs:50,sustainTimeMs:5,sustainLevelPCT:50,releaseTimeMs:500,lpfCutOffFreq:1150,echoDelayMs:50,echoDecayPCT:50,size:17},xh={brightness_max:80,baseColor:[200,255,255],size:4},Eh={ssid:"00000000000000000000000000000000",password:"00000000000000000000000000000000",size:64},Th={statesSenderInterval:100,size:2},Ih={signature:0,size:2},Mh={mode:uc.MODE_LIGHTSABER,size:1},Ft=Be({sabreMode:Mh,leds:xh,gesture:bh,audio:wh,hum:Ch,midi:Sh,wifi:Eh,ble:Th,signature:Ih});Ft.size=Object.values(Ft).reduce((e,t)=>e+t.size,0);const fc=U(),hc=U(),Rt=U(),Xi=U(!1);let At=structuredClone(le(Ft));xe(hc,async e=>{Nh(),Object.assign(Ft,Ah(e)),await $t(),$h()});const{stop:c_,pause:Nh,resume:$h}=cc(Ft,e=>{console.log("config changed "+Xi.value),Wt(e.sabreMode,At.sabreMode)||(Rt.value=Dt(_e.MSG_LIGHTSABER_CONFIG_SABREMODE)),Wt(e.leds,At.leds)||(Rt.value=Dt(_e.MSG_LIGHTSABER_CONFIG_LEDS)),Wt(e.gesture,At.gesture)||(Rt.value=Dt(_e.MSG_LIGHTSABER_CONFIG_GESTURE)),Wt(e.audio,At.audio)||(Rt.value=Dt(_e.MSG_LIGHTSABER_CONFIG_AUDIO)),Wt(e.midi,At.midi)||(Rt.value=Dt(_e.MSG_LIGHTSABER_CONFIG_MIDI)),Wt(e.hum,At.hum)||(Rt.value=Dt(_e.MSG_LIGHTSABER_CONFIG_HUM)),Wt(e.wifi,At.wifi)||(Rt.value=Dt(_e.MSG_LIGHTSABER_CONFIG_WIFI)),Wt(e.ble,At.ble)||(Rt.value=Dt(_e.MSG_LIGHTSABER_CONFIG_BLE)),At=structuredClone(le(e))},{deep:!0});function Cs(){return{config:Ft,inConfig:hc,outConfig:Rt,timestamp:fc,sendConfig:Dt,readConfig:Oh,configReady:Xi}}function Oh(){const e=new Uint8Array(2);return e[0]=_e.MSG_REQUESTPARAM,e[1]=_e.MSG_LIGHTSABER_CONFIG_ALL,console.log("config request"),Mo(e,2)}function Ah(e){if(!dc(e))return;const t={...Ft};let n=yh(e),s=1;for(;s<e.length;){e[s]&128&&(n=_h(n,e,s),s++),fc.value=n;let o=e[s];if(s++,o===0)return;if(o==_e.MSG_LIGHTSABER_CONFIG_ALL){let i=Ph(e,s);Object.assign(t,i.cfg),s=i.ptr,Xi.value=!0}}return console.log(t),t}function Ph(e,t){let n={...Ft};return n.sabreMode.mode=e[t],t++,n.leds.brightness_max=e[t],t++,n.leds.baseColor[0]=e[t],t++,n.leds.baseColor[1]=e[t],t++,n.leds.baseColor[2]=e[t],t++,n.gesture.handedness=e[t],t++,n.gesture.twist_threshold=Ls(e,t),t+=4,n.gesture.noswing_threshold=Ls(e,t),t+=4,n.gesture.stab_max_rad=Ls(e,t),t+=4,n.gesture.clash_threshold=Ls(e,t),t+=4,n.gesture.cal_acc_bias[0]=it(e,t),t+=4,n.gesture.cal_acc_bias[1]=it(e,t),t+=4,n.gesture.cal_acc_bias[2]=it(e,t),t+=4,n.gesture.cal_gyro_bias[0]=it(e,t),t+=4,n.gesture.cal_gyro_bias[1]=it(e,t),t+=4,n.gesture.cal_gyro_bias[2]=it(e,t),t+=4,n.gesture.cal_mag_bias[0]=it(e,t),t+=4,n.gesture.cal_mag_bias[1]=it(e,t),t+=4,n.gesture.cal_mag_bias[2]=it(e,t),t+=4,n.gesture.cal_mag_scale[0]=it(e,t),t+=4,n.gesture.cal_mag_scale[1]=it(e,t),t+=4,n.gesture.cal_mag_scale[2]=it(e,t),t+=4,n.audio.lightOnVolumePCT=e[t],t++,n.audio.lightOffVolumePCT=e[t],t++,n.audio.actionVolumePCT=e[t],t++,n.midi.midiVolumePCT=e[t],t++,n.midi.midiNoteWidthPCT=e[t],t++,n.midi.midiNoteSpeedPCT=e[t],t++,n.midi.attackTimeMs=Ze(e,t),t+=2,n.midi.decayTimeMs=Ze(e,t),t+=2,n.midi.sustainTimeMs=Ze(e,t),t+=2,n.midi.sustainLevelPCT=e[t],t++,n.midi.releaseTimeMs=Ze(e,t),t+=2,n.midi.lpfCutOffFreq=Ze(e,t),t+=2,n.midi.echoDelayMs=Ze(e,t),t+=2,n.midi.echoDecayPCT=e[t],t++,n.hum.humSynthesizer=e[t],t++,n.hum.humVolumePCT=e[t],t++,n.hum.hum1Freq=Ze(e,t),t+=2,n.hum.hum2Freq=Ze(e,t),t+=2,n.hum.hum3Freq=Ze(e,t),t+=2,n.hum.hum4Freq=Ze(e,t),t+=2,n.hum.hum5Freq=Ze(e,t),t+=2,n.hum.hum1VolumePCT=e[t],t++,n.hum.hum2VolumePCT=e[t],t++,n.hum.hum3VolumePCT=e[t],t++,n.hum.hum4VolumePCT=e[t],t++,n.hum.hum5VolumePCT=e[t],t++,n.wifi.ssid=tl(e,t,32),t+=32,n.wifi.password=tl(e,t,32),t+=32,n.ble.statesSenderInterval=Ze(e,t),t+=2,n.signature.signature=Ze(e,t),t+=2,{cfg:n,ptr:t}}function Dt(e=_e.MSG_LIGHTSABER_CONFIG_ALL,t=Ft){const n=new Uint8Array(256).fill(0);let s=0;switch(n[s++]=_e.MSG_LIGHTSABER_CONFIG,n[s++]=e,e){case _e.MSG_LIGHTSABER_CONFIG_ALL:s=nl(t.sabreMode.mode,n,s),s=sl(t.leds,n,s),s=ol(t.gesture,n,s),s=il(t.audio,n,s),s=rl(t.midi,n,s),s=ll(t.hum,n,s),s=al(t.wifi,n,s),s=cl(t.ble,n,s),s=kh(t.signature,n,s),console.log("MAKING PACKET FOR ALL");break;case _e.MSG_LIGHTSABER_CONFIG_SABREMODE:s=nl(t.sabreMode.mode,n,s),console.log("MAKING PACKET FOR SABREMODE");break;case _e.MSG_LIGHTSABER_CONFIG_LEDS:s=sl(t.leds,n,s),console.log("MAKING PACKET FOR LEDS");break;case _e.MSG_LIGHTSABER_CONFIG_GESTURE:s=ol(t.gesture,n,s);break;case _e.MSG_LIGHTSABER_CONFIG_AUDIO:s=il(t.audio,n,s);break;case _e.MSG_LIGHTSABER_CONFIG_MIDI:s=rl(t.midi,n,s);break;case _e.MSG_LIGHTSABER_CONFIG_HUM:console.log("SPTR = "+s),s=ll(t.hum,n,s),console.log("EPTR = "+s);break;case _e.MSG_LIGHTSABER_CONFIG_WIFI:s=al(t.wifi,n,s);break;case _e.MSG_LIGHTSABER_CONFIG_BLE:s=cl(t.ble,n,s);break}return Mo(n,s+1)}function nl(e,t,n){return t[n]=e,n+1}function sl(e,t,n){return t[n]=e.brightness_max,t[n+1]=e.baseColor[0],t[n+2]=e.baseColor[1],t[n+3]=e.baseColor[2],n+4}function ol(e,t,n){return t[n]=e.handedness,Gs(e.twist_threshold,t,n+1),Gs(e.noswing_threshold,t,n+5),Gs(e.stab_max_rad,t,n+9),Gs(e.clash_threshold,t,n+13),rt(e.cal_acc_bias[0],t,n+17),rt(e.cal_acc_bias[1],t,n+21),rt(e.cal_acc_bias[2],t,n+25),rt(e.cal_gyro_bias[0],t,n+29),rt(e.cal_gyro_bias[1],t,n+33),rt(e.cal_gyro_bias[2],t,n+37),rt(e.cal_mag_bias[0],t,n+41),rt(e.cal_mag_bias[1],t,n+45),rt(e.cal_mag_bias[2],t,n+49),rt(e.cal_mag_scale[0],t,n+53),rt(e.cal_mag_scale[1],t,n+57),rt(e.cal_mag_scale[2],t,n+61),n+65}function il(e,t,n){return t[n]=e.lightOnVolumePCT,t[n+1]=e.lightOffVolumePCT,t[n+2]=e.actionVolumePCT,n+3}function rl(e,t,n){return t[n]=e.midiVolumePCT,t[n+1]=e.midiNoteWidthPCT,t[n+2]=e.midiNoteSpeedPCT,tt(e.attackTimeMs,t,n+3),tt(e.decayTimeMs,t,n+5),tt(e.sustainTimeMs,t,n+7),t[n+9]=e.sustainLevelPCT,tt(e.releaseTimeMs,t,n+10),tt(e.lpfCutOffFreq,t,n+12),tt(e.echoDelayMs,t,n+14),t[n+16]=e.echoDecayPCT,n+17}function ll(e,t,n){return t[n]=e.humSynthesizer,t[n+1]=e.humVolumePCT,tt(e.hum1Freq,t,n+2),tt(e.hum2Freq,t,n+4),tt(e.hum3Freq,t,n+6),tt(e.hum4Freq,t,n+8),tt(e.hum5Freq,t,n+10),t[n+12]=e.hum1VolumePCT,t[n+13]=e.hum2VolumePCT,t[n+14]=e.hum3VolumePCT,t[n+15]=e.hum4VolumePCT,t[n+16]=e.hum5VolumePCT,n+17}function al(e,t,n){for(let s=0;s<32;s++)t[n+s]=e.ssid.charCodeAt(s);for(let s=0;s<32;s++)t[n+32+s]=e.password.charCodeAt(s);return n+64}function cl(e,t,n){return tt(e.statesSenderInterval,t,n),n+2}function kh(e,t,n){return tt(e.signature,t,n),n+2}const Rh={namePrefix:"PBSaber"},Dh={state:{service:"73621000-1fb5-459e-8fcc-c5c9c331914b",characteristic:"73621100-1fb5-459e-8fcc-c5c9c331914b"},midi:{service:"03b80e5a-ede8-4b33-a751-6ce34ec4c700",characteristic:"7772e5db-3868-4112-a1a9-f2669d106bf3"},config:{service:"73620000-1fb5-459e-8fcc-c5c9c331914b",characteristic:"73620100-1fb5-459e-8fcc-c5c9c331914b"}},Cn={device:Rh,services:Dh},Lh=navigator.bluetooth,Gh=Object.values(Cn.services).map(e=>e.service),Hh={filters:[{namePrefix:Cn.device.namePrefix}],optionalServices:Gh},js=U(),Zn=U(),Fh=U(),pc=U(),mc=U(),Bh=Be({}),gc=U(!1);async function Vh(){try{js.value=await navigator.bluetooth.requestDevice(Hh),Zn.value=await js.value.gatt.connect(),js.value.addEventListener("gattserverdisconnected",()=>{console.log("device disconnected")}),Fh.value=await Zn.value.getPrimaryServices();const e=await Zn.value.getPrimaryService(Cn.services.state.service);mc.value=await e.getCharacteristic(Cn.services.state.characteristic);const t=await Zn.value.getPrimaryService(Cn.services.config.service);pc.value=await t.getCharacteristic(Cn.services.config.characteristic),gc.value=!0}catch(e){console.log(e)}}function Ji(){return{ble:Bh,available:Lh,device:js,server:Zn,connect:Vh,configCharacteristic:pc,stateCharacteristic:mc,isConnected:gc}}const Qi=Be({lightState:0,running:0,audioOutput:0,charging:0,sdCard:0,imu:0,reserved:0,incalibration:0,batteryVoltage:0,rollCentiDeg:0,pitchCentiDeg:0,yawCentiDeg:0,gestureState:0,lastGestureActive:0,size:11}),vc=U(),Zi=U(),er=U();xe(Zi,yc);function Ss(){return{state:Qi,inState:Zi,outState:er,timestamp:vc,loadState:yc,toggleLightState:Uh,calibrateIMU:jh}}function Uh(){const e=new Uint8Array(2);e[0]=_e.MSG_LIGHTSABER_STATE,e[1]=Qi.lightState==mh.LIGHT_ON?0:1,er.value=Mo(e,2)}function jh(){const e=new Uint8Array(2);e[0]=_e.MSG_LIGHTSABER_STATE_CALIBIMU,e[1]=1,er.value=Mo(e,2)}function yc(e=Zi.value){if(!dc(e))return;let t=0,n=(e[t]&63)<<7;for(t++;t<e.length;){e[t]&128&&(n=n&8064|e[t]&127,t++),vc.value=n;let s=e[t];if(t++,s===0)return;if(s==_e.MSG_LIGHTSABER_STATE_ALL){let o=Wh(e,t);Object.assign(Qi,o.states),t=o.ptr}}}function Wh(e,t){let n={};return n.lightState=e[t],t++,n.running=zn(e,t,0),n.audioOutput=zn(e,t,1),n.charging=zn(e,t,2),n.sdCard=zn(e,t,3),n.imu=zn(e,t,4),n.reserved=e[t]>>5&7,t++,n.batteryVoltage=e[t],t++,n.rollCentiDeg=qo(e,t),t+=2,n.pitchCentiDeg=qo(e,t),t+=2,n.yawCentiDeg=qo(e,t),t+=2,n.gestureState=e[t],t++,n.lastGestureActive=e[t],t++,{ptr:t,states:n}}const Kh="0.3.3";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const wn=typeof window<"u";function zh(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const pe=Object.assign;function Yo(e,t){const n={};for(const s in t){const o=t[s];n[s]=Ct(o)?o.map(e):e(o)}return n}const ss=()=>{},Ct=Array.isArray,qh=/\/$/,Yh=e=>e.replace(qh,"");function Xo(e,t,n="/"){let s,o={},i="",r="";const l=t.indexOf("#");let a=t.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(s=t.slice(0,a),i=t.slice(a+1,l>-1?l:t.length),o=e(i)),l>-1&&(s=s||t.slice(0,l),r=t.slice(l,t.length)),s=Zh(s??t,n),{fullPath:s+(i&&"?")+i+r,path:s,query:o,hash:r}}function Xh(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ul(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Jh(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&kn(t.matched[s],n.matched[o])&&_c(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function kn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function _c(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Qh(e[n],t[n]))return!1;return!0}function Qh(e,t){return Ct(e)?dl(e,t):Ct(t)?dl(t,e):e===t}function dl(e,t){return Ct(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Zh(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let i=n.length-1,r,l;for(r=0;r<s.length;r++)if(l=s[r],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(r-(r===s.length?1:0)).join("/")}var hs;(function(e){e.pop="pop",e.push="push"})(hs||(hs={}));var os;(function(e){e.back="back",e.forward="forward",e.unknown=""})(os||(os={}));function ep(e){if(!e)if(wn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Yh(e)}const tp=/^[^#]+#/;function np(e,t){return e.replace(tp,"#")+t}function sp(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const No=()=>({left:window.pageXOffset,top:window.pageYOffset});function op(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=sp(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function fl(e,t){return(history.state?history.state.position-t:-1)+e}const gi=new Map;function ip(e,t){gi.set(e,t)}function rp(e){const t=gi.get(e);return gi.delete(e),t}let lp=()=>location.protocol+"//"+location.host;function bc(e,t){const{pathname:n,search:s,hash:o}=t,i=e.indexOf("#");if(i>-1){let l=o.includes(e.slice(i))?e.slice(i).length:1,a=o.slice(l);return a[0]!=="/"&&(a="/"+a),ul(a,"")}return ul(n,e)+s+o}function ap(e,t,n,s){let o=[],i=[],r=null;const l=({state:d})=>{const p=bc(e,location),g=n.value,v=t.value;let w=0;if(d){if(n.value=p,t.value=d,r&&r===g){r=null;return}w=v?d.position-v.position:0}else s(p);o.forEach(E=>{E(n.value,g,{delta:w,type:hs.pop,direction:w?w>0?os.forward:os.back:os.unknown})})};function a(){r=n.value}function u(d){o.push(d);const p=()=>{const g=o.indexOf(d);g>-1&&o.splice(g,1)};return i.push(p),p}function c(){const{history:d}=window;d.state&&d.replaceState(pe({},d.state,{scroll:No()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:a,listen:u,destroy:f}}function hl(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?No():null}}function cp(e){const{history:t,location:n}=window,s={value:bc(e,n)},o={value:t.state};o.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(a,u,c){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+a:lp()+e+a;try{t[c?"replaceState":"pushState"](u,"",d),o.value=u}catch(p){console.error(p),n[c?"replace":"assign"](d)}}function r(a,u){const c=pe({},t.state,hl(o.value.back,a,o.value.forward,!0),u,{position:o.value.position});i(a,c,!0),s.value=a}function l(a,u){const c=pe({},o.value,t.state,{forward:a,scroll:No()});i(c.current,c,!0);const f=pe({},hl(s.value,a,null),{position:c.position+1},u);i(a,f,!1),s.value=a}return{location:s,state:o,push:l,replace:r}}function up(e){e=ep(e);const t=cp(e),n=ap(e,t.state,t.location,t.replace);function s(i,r=!0){r||n.pauseListeners(),history.go(i)}const o=pe({location:"",base:e,go:s,createHref:np.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function dp(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),up(e)}function fp(e){return typeof e=="string"||e&&typeof e=="object"}function wc(e){return typeof e=="string"||typeof e=="symbol"}const Kt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Cc=Symbol("");var pl;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(pl||(pl={}));function Rn(e,t){return pe(new Error,{type:e,[Cc]:!0},t)}function Pt(e,t){return e instanceof Error&&Cc in e&&(t==null||!!(e.type&t))}const ml="[^/]+?",hp={sensitive:!1,strict:!1,start:!0,end:!0},pp=/[.+*?^${}()[\]/\\]/g;function mp(e,t){const n=pe({},hp,t),s=[];let o=n.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(o+="/");for(let f=0;f<u.length;f++){const d=u[f];let p=40+(n.sensitive?.25:0);if(d.type===0)f||(o+="/"),o+=d.value.replace(pp,"\\$&"),p+=40;else if(d.type===1){const{value:g,repeatable:v,optional:w,regexp:E}=d;i.push({name:g,repeatable:v,optional:w});const y=E||ml;if(y!==ml){p+=10;try{new RegExp(`(${y})`)}catch($){throw new Error(`Invalid custom RegExp for param "${g}" (${y}): `+$.message)}}let C=v?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(C=w&&u.length<2?`(?:/${C})`:"/"+C),w&&(C+="?"),o+=C,p+=20,w&&(p+=-8),v&&(p+=-20),y===".*"&&(p+=-50)}c.push(p)}s.push(c)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const r=new RegExp(o,n.sensitive?"":"i");function l(u){const c=u.match(r),f={};if(!c)return null;for(let d=1;d<c.length;d++){const p=c[d]||"",g=i[d-1];f[g.name]=p&&g.repeatable?p.split("/"):p}return f}function a(u){let c="",f=!1;for(const d of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const p of d)if(p.type===0)c+=p.value;else if(p.type===1){const{value:g,repeatable:v,optional:w}=p,E=g in u?u[g]:"";if(Ct(E)&&!v)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const y=Ct(E)?E.join("/"):E;if(!y)if(w)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);c+=y}}return c||"/"}return{re:r,score:s,keys:i,parse:l,stringify:a}}function gp(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function vp(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const i=gp(s[n],o[n]);if(i)return i;n++}if(Math.abs(o.length-s.length)===1){if(gl(s))return 1;if(gl(o))return-1}return o.length-s.length}function gl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const yp={type:0,value:""},_p=/[a-zA-Z0-9_]/;function bp(e){if(!e)return[[]];if(e==="/")return[[yp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,s=n;const o=[];let i;function r(){i&&o.push(i),i=[]}let l=0,a,u="",c="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=a}for(;l<e.length;){if(a=e[l++],a==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:a==="/"?(u&&f(),r()):a===":"?(f(),n=1):d();break;case 4:d(),n=s;break;case 1:a==="("?n=2:_p.test(a)?d():(f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+a:n=3:c+=a;break;case 3:f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),r(),o}function wp(e,t,n){const s=mp(bp(e.path),n),o=pe(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Cp(e,t){const n=[],s=new Map;t=_l({strict:!1,end:!0,sensitive:!1},t);function o(c){return s.get(c)}function i(c,f,d){const p=!d,g=Sp(c);g.aliasOf=d&&d.record;const v=_l(t,c),w=[g];if("alias"in c){const C=typeof c.alias=="string"?[c.alias]:c.alias;for(const $ of C)w.push(pe({},g,{components:d?d.record.components:g.components,path:$,aliasOf:d?d.record:g}))}let E,y;for(const C of w){const{path:$}=C;if(f&&$[0]!=="/"){const F=f.record.path,S=F[F.length-1]==="/"?"":"/";C.path=f.record.path+($&&S+$)}if(E=wp(C,f,v),d?d.alias.push(E):(y=y||E,y!==E&&y.alias.push(E),p&&c.name&&!yl(E)&&r(c.name)),g.children){const F=g.children;for(let S=0;S<F.length;S++)i(F[S],E,d&&d.children[S])}d=d||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&a(E)}return y?()=>{r(y)}:ss}function r(c){if(wc(c)){const f=s.get(c);f&&(s.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(r),f.alias.forEach(r))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&s.delete(c.record.name),c.children.forEach(r),c.alias.forEach(r))}}function l(){return n}function a(c){let f=0;for(;f<n.length&&vp(c,n[f])>=0&&(c.record.path!==n[f].record.path||!Sc(c,n[f]));)f++;n.splice(f,0,c),c.record.name&&!yl(c)&&s.set(c.record.name,c)}function u(c,f){let d,p={},g,v;if("name"in c&&c.name){if(d=s.get(c.name),!d)throw Rn(1,{location:c});v=d.record.name,p=pe(vl(f.params,d.keys.filter(y=>!y.optional).map(y=>y.name)),c.params&&vl(c.params,d.keys.map(y=>y.name))),g=d.stringify(p)}else if("path"in c)g=c.path,d=n.find(y=>y.re.test(g)),d&&(p=d.parse(g),v=d.record.name);else{if(d=f.name?s.get(f.name):n.find(y=>y.re.test(f.path)),!d)throw Rn(1,{location:c,currentLocation:f});v=d.record.name,p=pe({},f.params,c.params),g=d.stringify(p)}const w=[];let E=d;for(;E;)w.unshift(E.record),E=E.parent;return{name:v,path:g,params:p,matched:w,meta:Ep(w)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:r,getRoutes:l,getRecordMatcher:o}}function vl(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Sp(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:xp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function xp(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function yl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ep(e){return e.reduce((t,n)=>pe(t,n.meta),{})}function _l(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Sc(e,t){return t.children.some(n=>n===e||Sc(e,n))}const xc=/#/g,Tp=/&/g,Ip=/\//g,Mp=/=/g,Np=/\?/g,Ec=/\+/g,$p=/%5B/g,Op=/%5D/g,Tc=/%5E/g,Ap=/%60/g,Ic=/%7B/g,Pp=/%7C/g,Mc=/%7D/g,kp=/%20/g;function tr(e){return encodeURI(""+e).replace(Pp,"|").replace($p,"[").replace(Op,"]")}function Rp(e){return tr(e).replace(Ic,"{").replace(Mc,"}").replace(Tc,"^")}function vi(e){return tr(e).replace(Ec,"%2B").replace(kp,"+").replace(xc,"%23").replace(Tp,"%26").replace(Ap,"`").replace(Ic,"{").replace(Mc,"}").replace(Tc,"^")}function Dp(e){return vi(e).replace(Mp,"%3D")}function Lp(e){return tr(e).replace(xc,"%23").replace(Np,"%3F")}function Gp(e){return e==null?"":Lp(e).replace(Ip,"%2F")}function oo(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Hp(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const i=s[o].replace(Ec," "),r=i.indexOf("="),l=oo(r<0?i:i.slice(0,r)),a=r<0?null:oo(i.slice(r+1));if(l in t){let u=t[l];Ct(u)||(u=t[l]=[u]),u.push(a)}else t[l]=a}return t}function bl(e){let t="";for(let n in e){const s=e[n];if(n=Dp(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ct(s)?s.map(i=>i&&vi(i)):[s&&vi(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Fp(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Ct(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Bp=Symbol(""),wl=Symbol(""),nr=Symbol(""),Nc=Symbol(""),yi=Symbol("");function qn(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Qt(e,t,n,s,o){const i=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((r,l)=>{const a=f=>{f===!1?l(Rn(4,{from:n,to:t})):f instanceof Error?l(f):fp(f)?l(Rn(2,{from:t,to:f})):(i&&s.enterCallbacks[o]===i&&typeof f=="function"&&i.push(f),r())},u=e.call(s&&s.instances[o],t,n,a);let c=Promise.resolve(u);e.length<3&&(c=c.then(a)),c.catch(f=>l(f))})}function Jo(e,t,n,s){const o=[];for(const i of e)for(const r in i.components){let l=i.components[r];if(!(t!=="beforeRouteEnter"&&!i.instances[r]))if(Vp(l)){const u=(l.__vccOpts||l)[t];u&&o.push(Qt(u,n,s,i,r))}else{let a=l();o.push(()=>a.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${r}" at "${i.path}"`));const c=zh(u)?u.default:u;i.components[r]=c;const d=(c.__vccOpts||c)[t];return d&&Qt(d,n,s,i,r)()}))}}return o}function Vp(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Cl(e){const t=bt(nr),n=bt(Nc),s=q(()=>t.resolve(N(e.to))),o=q(()=>{const{matched:a}=s.value,{length:u}=a,c=a[u-1],f=n.matched;if(!c||!f.length)return-1;const d=f.findIndex(kn.bind(null,c));if(d>-1)return d;const p=Sl(a[u-2]);return u>1&&Sl(c)===p&&f[f.length-1].path!==p?f.findIndex(kn.bind(null,a[u-2])):d}),i=q(()=>o.value>-1&&Wp(n.params,s.value.params)),r=q(()=>o.value>-1&&o.value===n.matched.length-1&&_c(n.params,s.value.params));function l(a={}){return jp(a)?t[N(e.replace)?"replace":"push"](N(e.to)).catch(ss):Promise.resolve()}return{route:s,href:q(()=>s.value.href),isActive:i,isExactActive:r,navigate:l}}const Up=Ne({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Cl,setup(e,{slots:t}){const n=Be(Cl(e)),{options:s}=bt(nr),o=q(()=>({[xl(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[xl(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:zi("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),Ws=Up;function jp(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Wp(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!Ct(o)||o.length!==s.length||s.some((i,r)=>i!==o[r]))return!1}return!0}function Sl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const xl=(e,t,n)=>e??t??n,Kp=Ne({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=bt(yi),o=q(()=>e.route||s.value),i=bt(wl,0),r=q(()=>{let u=N(i);const{matched:c}=o.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),l=q(()=>o.value.matched[r.value]);On(wl,q(()=>r.value+1)),On(Bp,l),On(yi,o);const a=U();return xe(()=>[a.value,l.value,e.name],([u,c,f],[d,p,g])=>{c&&(c.instances[f]=u,p&&p!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!kn(c,p)||!d)&&(c.enterCallbacks[f]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=o.value,c=e.name,f=l.value,d=f&&f.components[c];if(!d)return El(n.default,{Component:d,route:u});const p=f.props[c],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,w=zi(d,pe({},g,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[c]=null)},ref:a}));return El(n.default,{Component:w,route:u})||w}}});function El(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const $c=Kp;function zp(e){const t=Cp(e.routes,e),n=e.parseQuery||Hp,s=e.stringifyQuery||bl,o=e.history,i=qn(),r=qn(),l=qn(),a=ba(Kt);let u=Kt;wn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Yo.bind(null,T=>""+T),f=Yo.bind(null,Gp),d=Yo.bind(null,oo);function p(T,K){let j,Y;return wc(T)?(j=t.getRecordMatcher(T),Y=K):Y=T,t.addRoute(Y,j)}function g(T){const K=t.getRecordMatcher(T);K&&t.removeRoute(K)}function v(){return t.getRoutes().map(T=>T.record)}function w(T){return!!t.getRecordMatcher(T)}function E(T,K){if(K=pe({},K||a.value),typeof T=="string"){const m=Xo(n,T,K.path),_=t.resolve({path:m.path},K),M=o.createHref(m.fullPath);return pe(m,_,{params:d(_.params),hash:oo(m.hash),redirectedFrom:void 0,href:M})}let j;if("path"in T)j=pe({},T,{path:Xo(n,T.path,K.path).path});else{const m=pe({},T.params);for(const _ in m)m[_]==null&&delete m[_];j=pe({},T,{params:f(m)}),K.params=f(K.params)}const Y=t.resolve(j,K),he=T.hash||"";Y.params=c(d(Y.params));const be=Xh(s,pe({},T,{hash:Rp(he),path:Y.path})),h=o.createHref(be);return pe({fullPath:be,hash:he,query:s===bl?Fp(T.query):T.query||{}},Y,{redirectedFrom:void 0,href:h})}function y(T){return typeof T=="string"?Xo(n,T,a.value.path):pe({},T)}function C(T,K){if(u!==T)return Rn(8,{from:K,to:T})}function $(T){return O(T)}function F(T){return $(pe(y(T),{replace:!0}))}function S(T){const K=T.matched[T.matched.length-1];if(K&&K.redirect){const{redirect:j}=K;let Y=typeof j=="function"?j(T):j;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=y(Y):{path:Y},Y.params={}),pe({query:T.query,hash:T.hash,params:"path"in Y?{}:T.params},Y)}}function O(T,K){const j=u=E(T),Y=a.value,he=T.state,be=T.force,h=T.replace===!0,m=S(j);if(m)return O(pe(y(m),{state:typeof m=="object"?pe({},he,m.state):he,force:be,replace:h}),K||j);const _=j;_.redirectedFrom=K;let M;return!be&&Jh(s,Y,j)&&(M=Rn(16,{to:_,from:Y}),We(Y,Y,!0,!1)),(M?Promise.resolve(M):k(_,Y)).catch(x=>Pt(x)?Pt(x,2)?x:gt(x):oe(x,_,Y)).then(x=>{if(x){if(Pt(x,2))return O(pe({replace:h},y(x.to),{state:typeof x.to=="object"?pe({},he,x.to.state):he,force:be}),K||_)}else x=B(_,Y,!0,h,he);return G(_,Y,x),x})}function L(T,K){const j=C(T,K);return j?Promise.reject(j):Promise.resolve()}function b(T){const K=yn.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(T):T()}function k(T,K){let j;const[Y,he,be]=qp(T,K);j=Jo(Y.reverse(),"beforeRouteLeave",T,K);for(const m of Y)m.leaveGuards.forEach(_=>{j.push(Qt(_,T,K))});const h=L.bind(null,T,K);return j.push(h),Ve(j).then(()=>{j=[];for(const m of i.list())j.push(Qt(m,T,K));return j.push(h),Ve(j)}).then(()=>{j=Jo(he,"beforeRouteUpdate",T,K);for(const m of he)m.updateGuards.forEach(_=>{j.push(Qt(_,T,K))});return j.push(h),Ve(j)}).then(()=>{j=[];for(const m of be)if(m.beforeEnter)if(Ct(m.beforeEnter))for(const _ of m.beforeEnter)j.push(Qt(_,T,K));else j.push(Qt(m.beforeEnter,T,K));return j.push(h),Ve(j)}).then(()=>(T.matched.forEach(m=>m.enterCallbacks={}),j=Jo(be,"beforeRouteEnter",T,K),j.push(h),Ve(j))).then(()=>{j=[];for(const m of r.list())j.push(Qt(m,T,K));return j.push(h),Ve(j)}).catch(m=>Pt(m,8)?m:Promise.reject(m))}function G(T,K,j){l.list().forEach(Y=>b(()=>Y(T,K,j)))}function B(T,K,j,Y,he){const be=C(T,K);if(be)return be;const h=K===Kt,m=wn?history.state:{};j&&(Y||h?o.replace(T.fullPath,pe({scroll:h&&m&&m.scroll},he)):o.push(T.fullPath,he)),a.value=T,We(T,K,j,h),gt()}let te;function ee(){te||(te=o.listen((T,K,j)=>{if(!Is.listening)return;const Y=E(T),he=S(Y);if(he){O(pe(he,{replace:!0}),Y).catch(ss);return}u=Y;const be=a.value;wn&&ip(fl(be.fullPath,j.delta),No()),k(Y,be).catch(h=>Pt(h,12)?h:Pt(h,2)?(O(h.to,Y).then(m=>{Pt(m,20)&&!j.delta&&j.type===hs.pop&&o.go(-1,!1)}).catch(ss),Promise.reject()):(j.delta&&o.go(-j.delta,!1),oe(h,Y,be))).then(h=>{h=h||B(Y,be,!1),h&&(j.delta&&!Pt(h,8)?o.go(-j.delta,!1):j.type===hs.pop&&Pt(h,20)&&o.go(-1,!1)),G(Y,be,h)}).catch(ss)}))}let ge=qn(),ae=qn(),ie;function oe(T,K,j){gt(T);const Y=ae.list();return Y.length?Y.forEach(he=>he(T,K,j)):console.error(T),Promise.reject(T)}function Oe(){return ie&&a.value!==Kt?Promise.resolve():new Promise((T,K)=>{ge.add([T,K])})}function gt(T){return ie||(ie=!T,ee(),ge.list().forEach(([K,j])=>T?j(T):K()),ge.reset()),T}function We(T,K,j,Y){const{scrollBehavior:he}=e;if(!wn||!he)return Promise.resolve();const be=!j&&rp(fl(T.fullPath,0))||(Y||!j)&&history.state&&history.state.scroll||null;return $t().then(()=>he(T,K,be)).then(h=>h&&op(h)).catch(h=>oe(h,T,K))}const Ae=T=>o.go(T);let Ot;const yn=new Set,Is={currentRoute:a,listening:!0,addRoute:p,removeRoute:g,hasRoute:w,getRoutes:v,resolve:E,options:e,push:$,replace:F,go:Ae,back:()=>Ae(-1),forward:()=>Ae(1),beforeEach:i.add,beforeResolve:r.add,afterEach:l.add,onError:ae.add,isReady:Oe,install(T){const K=this;T.component("RouterLink",Ws),T.component("RouterView",$c),T.config.globalProperties.$router=K,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>N(a)}),wn&&!Ot&&a.value===Kt&&(Ot=!0,$(o.location).catch(he=>{}));const j={};for(const he in Kt)Object.defineProperty(j,he,{get:()=>a.value[he],enumerable:!0});T.provide(nr,K),T.provide(Nc,va(j)),T.provide(yi,a);const Y=T.unmount;yn.add(T),T.unmount=function(){yn.delete(T),yn.size<1&&(u=Kt,te&&te(),te=null,a.value=Kt,Ot=!1,ie=!1),Y()}}};function Ve(T){return T.reduce((K,j)=>K.then(()=>b(j)),Promise.resolve())}return Is}function qp(e,t){const n=[],s=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let r=0;r<i;r++){const l=t.matched[r];l&&(e.matched.find(u=>kn(u,l))?s.push(l):n.push(l));const a=e.matched[r];a&&(t.matched.find(u=>kn(u,a))||o.push(a))}return[n,s,o]}const Yp={class:"text-light-300 bg-dark-900 min-h-100svh flex flex-col gap-0",id:"app"},Xp={class:"sticky top-0 flex items-end text-sm p-2 gap-2 backdrop-blur-lg z-100 bg-dark-400 bg-opacity-40"},Jp=I("div",{class:"p-0 op-70"},"Light Saber Lab ",-1),Qp={class:"text-xs op-40"},Zp=I("div",{class:"flex-auto"},null,-1),em=I("div",{class:"p-0 op-40"},"Pirate Bay, Phuket",-1),tm={class:"text-2xl sm-text-3xl p-2 bg-dark-400 text-white flex items-center gap-4"},nm=I("div",{class:"i-fa6-solid-jedi"},null,-1),sm=[nm],om=["title"],im={key:0,class:"i-ph-bluetooth"},rm={key:1,class:"i-ph-bluetooth-slash"},lm=I("div",{class:"flex-auto"},null,-1),am=I("div",{class:"i-la-home"},null,-1),cm=I("div",{class:"i-carbon-calibrate"},null,-1),um=I("div",{class:"i-ph-graph"},null,-1),dm={__name:"App",setup(e){const{color:t,hsl:n}=Io(),{device:s,available:o,connect:i}=Ji(),{state:r,toggleLightState:l,calibrateIMU:a}=Ss(),u=U(!1);return(c,f)=>(P(),V("main",Yp,[I("header",Xp,[Jp,I("div",Qp,"v."+fe(N(Kh)),1),Zp,em]),I("nav",tm,[I("button",{class:"cursor-pointer text-2xl p-2 z-100",style:ue({backgroundColor:N(r).lightState?N(n):"hsl(0deg,0%,30%)",opacity:N(r).lightState?1:.7}),onDblclick:f[0]||(f[0]=st(()=>{},["prevent"])),onClick:f[1]||(f[1]=st(d=>N(l)(),["prevent"]))},sm,36),I("button",{class:Fe(["opacity-50 hover-opacity-100",{"opacity-80":N(o)}]),onClick:f[2]||(f[2]=d=>N(i)()),title:N(s)?.name},[N(o)?(P(),V("div",im)):(P(),V("div",rm))],10,om),lm,J(N(Ws),{class:"opacity-50 hover-opacity-100",to:"/"},{default:ze(()=>[am]),_:1}),J(N(Ws),{class:"opacity-50 hover-opacity-100",to:"/debug/"},{default:ze(()=>[cm]),_:1}),J(N(Ws),{class:Fe(["opacity-50 hover-opacity-100",{"animate-pulse scale-150":u.value}]),to:"/nodes/"},{default:ze(()=>[um]),_:1},8,["class"])]),J(N($c),null,{default:ze(({Component:d})=>[J(Un,{name:"fade",mode:"out-in"},{default:ze(()=>[(P(),He(Sd,null,[(P(),He(bo(d)))],1024))]),_:2},1024)]),_:1})]))}};let Hs;const fm=new Uint8Array(16);function hm(){if(!Hs&&(Hs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hs(fm)}const Re=[];for(let e=0;e<256;++e)Re.push((e+256).toString(16).slice(1));function pm(e,t=0){return Re[e[t+0]]+Re[e[t+1]]+Re[e[t+2]]+Re[e[t+3]]+"-"+Re[e[t+4]]+Re[e[t+5]]+"-"+Re[e[t+6]]+Re[e[t+7]]+"-"+Re[e[t+8]]+Re[e[t+9]]+"-"+Re[e[t+10]]+Re[e[t+11]]+Re[e[t+12]]+Re[e[t+13]]+Re[e[t+14]]+Re[e[t+15]]}const mm=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Tl={randomUUID:mm};function Gt(e,t,n){if(Tl.randomUUID&&!t&&!e)return Tl.randomUUID();e=e||{};const s=e.random||(e.rng||hm)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){n=n||0;for(let o=0;o<16;++o)t[n+o]=s[o];return t}return pm(s)}class fn{constructor(){this.listenerMap=new Map,this._listeners=[],this.proxyMap=new Map,this.proxies=[]}get listeners(){return this._listeners.concat(this.proxies.flatMap(t=>t()))}subscribe(t,n){this.listenerMap.has(t)&&(console.warn(`Already subscribed. Unsubscribing for you.
Please check that you don't accidentally use the same token twice to register two different handlers for the same event/hook.`),this.unsubscribe(t)),this.listenerMap.set(t,n),this._listeners.push(n)}unsubscribe(t){if(this.listenerMap.has(t)){const n=this.listenerMap.get(t);this.listenerMap.delete(t);const s=this._listeners.indexOf(n);s>=0&&this._listeners.splice(s,1)}}registerProxy(t,n){this.proxyMap.has(t)&&(console.warn(`Already subscribed. Unsubscribing for you.
Please check that you don't accidentally use the same token twice to register two different proxies for the same event/hook.`),this.unregisterProxy(t)),this.proxyMap.set(t,n),this.proxies.push(n)}unregisterProxy(t){if(!this.proxyMap.has(t))return;const n=this.proxyMap.get(t);this.proxyMap.delete(t);const s=this.proxies.indexOf(n);s>=0&&this.proxies.splice(s,1)}}class Ce extends fn{constructor(t){super(),this.entity=t}emit(t){this.listeners.forEach(n=>n(t,this.entity))}}class qe extends fn{constructor(t){super(),this.entity=t}emit(t){let n=!1;const s=()=>[n=!0];for(const o of Array.from(this.listeners.values()))if(o(t,s,this.entity),n)return{prevented:!0};return{prevented:!1}}}class gm extends fn{execute(t,n){let s=t;for(const o of this.listeners)s=o(s,n);return s}}class pt extends gm{constructor(t){super(),this.entity=t}execute(t){return super.execute(t,this.entity)}}class vm extends fn{constructor(t){super(),this.entity=t}execute(t){const n=[];for(const s of this.listeners)n.push(s(t,this.entity));return n}}function Et(){const e=Symbol(),t=new Map,n=new Set,s=(a,u)=>{u instanceof fn&&u.registerProxy(e,()=>{var c,f;return(f=(c=t.get(a))===null||c===void 0?void 0:c.listeners)!==null&&f!==void 0?f:[]})},o=a=>{const u=new fn;t.set(a,u),n.forEach(c=>s(a,c[a]))},i=a=>{n.add(a);for(const u of t.keys())s(u,a[u])},r=a=>{for(const u of t.keys())a[u]instanceof fn&&a[u].unregisterProxy(e);n.delete(a)},l=()=>{n.forEach(a=>r(a)),t.clear()};return new Proxy({},{get(a,u){return u==="addTarget"?i:u==="removeTarget"?r:u==="destroy"?l:typeof u!="string"||u.startsWith("_")?a[u]:(t.has(u)||o(u),t.get(u))}})}class Il{constructor(t,n){if(this.destructed=!1,this.events={destruct:new Ce(this)},!t||!n)throw new Error("Cannot initialize connection with null/undefined for 'from' or 'to' values");this.id=Gt(),this.from=t,this.to=n,this.from.connectionCount++,this.to.connectionCount++}destruct(){this.events.destruct.emit(),this.from.connectionCount--,this.to.connectionCount--,this.destructed=!0}}class ym{constructor(t,n){if(!t||!n)throw new Error("Cannot initialize connection with null/undefined for 'from' or 'to' values");this.id=Gt(),this.from=t,this.to=n}}function _i(e,t){return Object.fromEntries(Object.entries(e).map(([n,s])=>[n,t(s)]))}class Oc{constructor(){this._title="",this.id=Gt(),this.events={loaded:new Ce(this),beforeAddInput:new qe(this),addInput:new Ce(this),beforeRemoveInput:new qe(this),removeInput:new Ce(this),beforeAddOutput:new qe(this),addOutput:new Ce(this),beforeRemoveOutput:new qe(this),removeOutput:new Ce(this),beforeTitleChanged:new qe(this),titleChanged:new Ce(this),update:new Ce(this)},this.hooks={beforeLoad:new pt(this),afterSave:new pt(this)}}get graph(){return this.graphInstance}get title(){return this._title}set title(t){this.events.beforeTitleChanged.emit(t).prevented||(this._title=t,this.events.titleChanged.emit(t))}addInput(t,n){return this.addInterface("input",t,n)}addOutput(t,n){return this.addInterface("output",t,n)}removeInput(t){return this.removeInterface("input",t)}removeOutput(t){return this.removeInterface("output",t)}registerGraph(t){this.graphInstance=t}load(t){this.hooks.beforeLoad.execute(t),this.id=t.id,this._title=t.title,Object.entries(t.inputs).forEach(([n,s])=>{this.inputs[n]&&(this.inputs[n].load(s),this.inputs[n].nodeId=this.id)}),Object.entries(t.outputs).forEach(([n,s])=>{this.outputs[n]&&(this.outputs[n].load(s),this.outputs[n].nodeId=this.id)}),this.events.loaded.emit(this)}save(){const t=_i(this.inputs,o=>o.save()),n=_i(this.outputs,o=>o.save()),s={type:this.type,id:this.id,title:this.title,inputs:t,outputs:n};return this.hooks.afterSave.execute(s)}onPlaced(){}onDestroy(){}initializeIo(){Object.entries(this.inputs).forEach(([t,n])=>this.initializeIntf("input",t,n)),Object.entries(this.outputs).forEach(([t,n])=>this.initializeIntf("output",t,n))}initializeIntf(t,n,s){s.isInput=t==="input",s.nodeId=this.id,s.events.setValue.subscribe(this,()=>this.events.update.emit({type:t,name:n,intf:s}))}addInterface(t,n,s){const o=t==="input"?this.events.beforeAddInput:this.events.beforeAddOutput,i=t==="input"?this.events.addInput:this.events.addOutput,r=t==="input"?this.inputs:this.outputs;return o.emit(s).prevented?!1:(r[n]=s,this.initializeIntf(t,n,s),i.emit(s),!0)}removeInterface(t,n){const s=t==="input"?this.events.beforeRemoveInput:this.events.beforeRemoveOutput,o=t==="input"?this.events.removeInput:this.events.removeOutput,i=t==="input"?this.inputs[n]:this.outputs[n];if(!i||s.emit(i).prevented)return!1;if(i.connectionCount>0)if(this.graphInstance)this.graphInstance.connections.filter(l=>l.from===i||l.to===i).forEach(l=>{this.graphInstance.removeConnection(l)});else throw new Error("Interface is connected, but no graph instance is specified. Unable to delete interface");return i.events.setValue.unsubscribe(this),t==="input"?delete this.inputs[n]:delete this.outputs[n],o.emit(i),!0}}class Ac extends Oc{load(t){super.load(t)}save(){return super.save()}}function _m(e){return class extends Ac{constructor(){var t,n;super(),this.type=e.type,this.inputs={},this.outputs={},this.calculate=e.calculate?(s,o)=>e.calculate.call(this,s,o):void 0,this._title=(t=e.title)!==null&&t!==void 0?t:e.type,this.executeFactory("input",e.inputs),this.executeFactory("output",e.outputs),(n=e.onCreate)===null||n===void 0||n.call(this)}onPlaced(){var t;(t=e.onPlaced)===null||t===void 0||t.call(this)}onDestroy(){var t;(t=e.onDestroy)===null||t===void 0||t.call(this)}executeFactory(t,n){Object.keys(n||{}).forEach(s=>{const o=n[s]();t==="input"?this.addInput(s,o):this.addOutput(s,o)})}}}class Ye{set connectionCount(t){this._connectionCount=t,this.events.setConnectionCount.emit(t)}get connectionCount(){return this._connectionCount}set value(t){this.events.beforeSetValue.emit(t).prevented||(this._value=t,this.events.setValue.emit(t))}get value(){return this._value}constructor(t,n){this.id=Gt(),this.nodeId="",this.port=!0,this.hidden=!1,this.events={setConnectionCount:new Ce(this),beforeSetValue:new qe(this),setValue:new Ce(this),updated:new Ce(this)},this.hooks={load:new pt(this),save:new pt(this)},this._connectionCount=0,this.name=t,this._value=n}load(t){this.id=t.id,this.templateId=t.templateId,this.value=t.value,this.hooks.load.execute(t)}save(){const t={id:this.id,templateId:this.templateId,value:this.value};return this.hooks.save.execute(t)}setComponent(t){return this.component=t,this}setPort(t){return this.port=t,this}setHidden(t){return this.hidden=t,this}use(t,...n){return t(this,...n),this}}const Dn="__baklava_SubgraphInputNode",Ln="__baklava_SubgraphOutputNode";class Pc extends Ac{constructor(){super(),this.graphInterfaceId=Gt()}onPlaced(){super.onPlaced(),this.initializeIo()}save(){return{...super.save(),graphInterfaceId:this.graphInterfaceId}}load(t){super.load(t),this.graphInterfaceId=t.graphInterfaceId}}class kc extends Pc{constructor(){super(...arguments),this.type=Dn,this.inputs={name:new Ye("Name","Input")},this.outputs={placeholder:new Ye("Value",void 0)}}static isGraphInputNode(t){return t.type===Dn}}class Rc extends Pc{constructor(){super(...arguments),this.type=Ln,this.inputs={name:new Ye("Name","Output"),placeholder:new Ye("Value",void 0)},this.outputs={output:new Ye("Output",void 0).setHidden(!0)},this.calculate=({placeholder:t})=>({output:t})}static isGraphOutputNode(t){return t.type===Ln}}class $o{get nodes(){return this._nodes}get connections(){return this._connections}get loading(){return this._loading}get destroying(){return this._destroying}get inputs(){return this.nodes.filter(n=>n.type===Dn).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.placeholder.id}))}get outputs(){return this.nodes.filter(n=>n.type===Ln).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.output.id}))}constructor(t,n){this.id=Gt(),this.activeTransactions=0,this._nodes=[],this._connections=[],this._loading=!1,this._destroying=!1,this.events={beforeAddNode:new qe(this),addNode:new Ce(this),beforeRemoveNode:new qe(this),removeNode:new Ce(this),beforeAddConnection:new qe(this),addConnection:new Ce(this),checkConnection:new qe(this),beforeRemoveConnection:new qe(this),removeConnection:new Ce(this)},this.hooks={save:new pt(this),load:new pt(this),checkConnection:new vm(this)},this.nodeEvents=Et(),this.nodeHooks=Et(),this.connectionEvents=Et(),this.editor=t,this.template=n,t.registerGraph(this)}addNode(t){if(!this.events.beforeAddNode.emit(t).prevented)return this.nodeEvents.addTarget(t.events),this.nodeHooks.addTarget(t.hooks),t.registerGraph(this),this._nodes.push(t),t=this.nodes.find(n=>n.id===t.id),t.onPlaced(),this.events.addNode.emit(t),t}removeNode(t){if(this.nodes.includes(t)){if(this.events.beforeRemoveNode.emit(t).prevented)return;const n=[...Object.values(t.inputs),...Object.values(t.outputs)];this.connections.filter(s=>n.includes(s.from)||n.includes(s.to)).forEach(s=>this.removeConnection(s)),this._nodes.splice(this.nodes.indexOf(t),1),this.events.removeNode.emit(t),t.onDestroy(),this.nodeEvents.removeTarget(t.events),this.nodeHooks.removeTarget(t.hooks)}}addConnection(t,n){const s=this.checkConnection(t,n);if(!s.connectionAllowed||this.events.beforeAddConnection.emit({from:t,to:n}).prevented)return;for(const i of s.connectionsInDanger){const r=this.connections.find(l=>l.id===i.id);r&&this.removeConnection(r)}const o=new Il(s.dummyConnection.from,s.dummyConnection.to);return this.internalAddConnection(o),o}removeConnection(t){if(this.connections.includes(t)){if(this.events.beforeRemoveConnection.emit(t).prevented)return;t.destruct(),this._connections.splice(this.connections.indexOf(t),1),this.events.removeConnection.emit(t),this.connectionEvents.removeTarget(t.events)}}checkConnection(t,n){if(!t||!n)return{connectionAllowed:!1};const s=this.findNodeById(t.nodeId),o=this.findNodeById(n.nodeId);if(s&&o&&s===o)return{connectionAllowed:!1};if(t.isInput&&!n.isInput){const l=t;t=n,n=l}if(t.isInput||!n.isInput)return{connectionAllowed:!1};if(this.connections.some(l=>l.from===t&&l.to===n))return{connectionAllowed:!1};if(this.events.checkConnection.emit({from:t,to:n}).prevented)return{connectionAllowed:!1};const i=this.hooks.checkConnection.execute({from:t,to:n});if(i.some(l=>!l.connectionAllowed))return{connectionAllowed:!1};const r=Array.from(new Set(i.flatMap(l=>l.connectionsInDanger)));return{connectionAllowed:!0,dummyConnection:new ym(t,n),connectionsInDanger:r}}findNodeInterface(t){for(const n of this.nodes){for(const s in n.inputs){const o=n.inputs[s];if(o.id===t)return o}for(const s in n.outputs){const o=n.outputs[s];if(o.id===t)return o}}}findNodeById(t){return this.nodes.find(n=>n.id===t)}load(t){try{this._loading=!0;const n=[];for(let s=this.connections.length-1;s>=0;s--)this.removeConnection(this.connections[s]);for(let s=this.nodes.length-1;s>=0;s--)this.removeNode(this.nodes[s]);this.id=t.id;for(const s of t.nodes){const o=this.editor.nodeTypes.get(s.type);if(!o){n.push(`Node type ${s.type} is not registered`);continue}const i=new o.type;this.addNode(i),i.load(s)}for(const s of t.connections){const o=this.findNodeInterface(s.from),i=this.findNodeInterface(s.to);if(o)if(i){const r=new Il(o,i);r.id=s.id,this.internalAddConnection(r)}else{n.push(`Could not find interface with id ${s.to}`);continue}else{n.push(`Could not find interface with id ${s.from}`);continue}}return this.hooks.load.execute(t),n}finally{this._loading=!1}}save(){const t={id:this.id,nodes:this.nodes.map(n=>n.save()),connections:this.connections.map(n=>({id:n.id,from:n.from.id,to:n.to.id})),inputs:this.inputs,outputs:this.outputs};return this.hooks.save.execute(t)}destroy(){this._destroying=!0;for(const t of this.nodes)this.removeNode(t);this.editor.unregisterGraph(this)}internalAddConnection(t){this.connectionEvents.addTarget(t.events),this._connections.push(t),this.events.addConnection.emit(t)}}const ps="__baklava_GraphNode-";function Gn(e){return ps+e.id}function bm(e){return class extends Oc{constructor(){super(...arguments),this.type=Gn(e),this.inputs={},this.outputs={},this.template=e,this.calculate=async(n,s)=>{var o;if(!this.subgraph)throw new Error(`GraphNode ${this.id}: calculate called without subgraph being initialized`);if(!s.engine||typeof s.engine!="object")throw new Error(`GraphNode ${this.id}: calculate called but no engine provided in context`);const i=s.engine.getInputValues(this.subgraph);for(const a of this.subgraph.inputs)i.set(a.nodeInterfaceId,n[a.id]);const r=await s.engine.runGraph(this.subgraph,i,s.globalValues),l={};for(const a of this.subgraph.outputs)l[a.id]=(o=r.get(a.nodeId))===null||o===void 0?void 0:o.get("output");return l._calculationResults=r,l}}get title(){return this._title}set title(n){this.template.name=n}load(n){if(!this.subgraph)throw new Error("Cannot load a graph node without a graph");if(!this.template)throw new Error("Unable to load graph node without graph template");this.subgraph.load(n.graphState),super.load(n)}save(){if(!this.subgraph)throw new Error("Cannot save a graph node without a graph");return{...super.save(),graphState:this.subgraph.save()}}onPlaced(){this.template.events.updated.subscribe(this,()=>this.initialize()),this.template.events.nameChanged.subscribe(this,n=>{this._title=n}),this.initialize()}onDestroy(){var n;this.template.events.updated.unsubscribe(this),this.template.events.nameChanged.unsubscribe(this),(n=this.subgraph)===null||n===void 0||n.destroy()}initialize(){this.subgraph&&this.subgraph.destroy(),this.subgraph=this.template.createGraph(),this._title=this.template.name,this.updateInterfaces(),this.events.update.emit(null)}updateInterfaces(){if(!this.subgraph)throw new Error("Trying to update interfaces without graph instance");for(const n of this.subgraph.inputs)n.id in this.inputs?this.inputs[n.id].name=n.name:this.addInput(n.id,new Ye(n.name,void 0));for(const n of Object.keys(this.inputs))this.subgraph.inputs.some(s=>s.id===n)||this.removeInput(n);for(const n of this.subgraph.outputs)n.id in this.outputs?this.outputs[n.id].name=n.name:this.addOutput(n.id,new Ye(n.name,void 0));for(const n of Object.keys(this.outputs))this.subgraph.outputs.some(s=>s.id===n)||this.removeOutput(n);this.addOutput("_calculationResults",new Ye("_calculationResults",void 0).setHidden(!0))}}}class Oo{static fromGraph(t,n){return new Oo(t.save(),n)}get name(){return this._name}set name(t){this._name=t,this.events.nameChanged.emit(t);const n=this.editor.nodeTypes.get(Gn(this));n&&(n.title=t)}get inputs(){return this.nodes.filter(n=>n.type===Dn).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.placeholder.id}))}get outputs(){return this.nodes.filter(n=>n.type===Ln).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.output.id}))}constructor(t,n){this.id=Gt(),this._name="Subgraph",this.events={nameChanged:new Ce(this),updated:new Ce(this)},this.hooks={beforeLoad:new pt(this),afterSave:new pt(this)},this.editor=n,t.id&&(this.id=t.id),t.name&&(this._name=t.name),this.update(t)}update(t){this.nodes=t.nodes,this.connections=t.connections,this.events.updated.emit()}save(){return{id:this.id,name:this.name,nodes:this.nodes,connections:this.connections,inputs:this.inputs,outputs:this.outputs}}createGraph(t){const n=new Map,s=d=>{const p=Gt();return n.set(d,p),p},o=d=>{const p=n.get(d);if(!p)throw new Error(`Unable to create graph from template: Could not map old id ${d} to new id`);return p},i=d=>_i(d,p=>({id:s(p.id),templateId:p.id,value:p.value})),r=this.nodes.map(d=>({...d,id:s(d.id),inputs:i(d.inputs),outputs:i(d.outputs)})),l=this.connections.map(d=>({id:s(d.id),from:o(d.from),to:o(d.to)})),a=this.inputs.map(d=>({id:d.id,name:d.name,nodeId:o(d.nodeId),nodeInterfaceId:o(d.nodeInterfaceId)})),u=this.outputs.map(d=>({id:d.id,name:d.name,nodeId:o(d.nodeId),nodeInterfaceId:o(d.nodeInterfaceId)})),c={id:Gt(),nodes:r,connections:l,inputs:a,outputs:u};return t||(t=new $o(this.editor)),t.load(c).forEach(d=>console.warn(d)),t.template=this,t}}class wm{get nodeTypes(){return this._nodeTypes}get graph(){return this._graph}get graphTemplates(){return this._graphTemplates}get graphs(){return this._graphs}get loading(){return this._loading}constructor(){this.events={loaded:new Ce(this),beforeRegisterNodeType:new qe(this),registerNodeType:new Ce(this),beforeUnregisterNodeType:new qe(this),unregisterNodeType:new Ce(this),beforeAddGraphTemplate:new qe(this),addGraphTemplate:new Ce(this),beforeRemoveGraphTemplate:new qe(this),removeGraphTemplate:new Ce(this),registerGraph:new Ce(this),unregisterGraph:new Ce(this)},this.hooks={save:new pt(this),load:new pt(this)},this.graphTemplateEvents=Et(),this.graphTemplateHooks=Et(),this.graphEvents=Et(),this.graphHooks=Et(),this.nodeEvents=Et(),this.nodeHooks=Et(),this.connectionEvents=Et(),this._graphs=new Set,this._nodeTypes=new Map,this._graph=new $o(this),this._graphTemplates=[],this._loading=!1,this.registerNodeType(kc),this.registerNodeType(Rc)}registerNodeType(t,n){var s,o;if(this.events.beforeRegisterNodeType.emit({type:t,options:n}).prevented)return;const i=new t;this._nodeTypes.set(i.type,{type:t,category:(s=n?.category)!==null&&s!==void 0?s:"default",title:(o=n?.title)!==null&&o!==void 0?o:i.title}),this.events.registerNodeType.emit({type:t,options:n})}unregisterNodeType(t){const n=typeof t=="string"?t:new t().type;if(this.nodeTypes.has(n)){if(this.events.beforeUnregisterNodeType.emit(n).prevented)return;this._nodeTypes.delete(n),this.events.unregisterNodeType.emit(n)}}addGraphTemplate(t){if(this.events.beforeAddGraphTemplate.emit(t).prevented)return;this._graphTemplates.push(t),this.graphTemplateEvents.addTarget(t.events),this.graphTemplateHooks.addTarget(t.hooks);const n=bm(t);this.registerNodeType(n,{category:"Subgraphs",title:t.name}),this.events.addGraphTemplate.emit(t)}removeGraphTemplate(t){if(this.graphTemplates.includes(t)){if(this.events.beforeRemoveGraphTemplate.emit(t).prevented)return;const n=Gn(t);for(const s of[this.graph,...this.graphs.values()]){const o=s.nodes.filter(i=>i.type===n);for(const i of o)s.removeNode(i)}this.unregisterNodeType(n),this._graphTemplates.splice(this._graphTemplates.indexOf(t),1),this.graphTemplateEvents.removeTarget(t.events),this.graphTemplateHooks.removeTarget(t.hooks),this.events.removeGraphTemplate.emit(t)}}registerGraph(t){this.graphEvents.addTarget(t.events),this.graphHooks.addTarget(t.hooks),this.nodeEvents.addTarget(t.nodeEvents),this.nodeHooks.addTarget(t.nodeHooks),this.connectionEvents.addTarget(t.connectionEvents),this.events.registerGraph.emit(t),this._graphs.add(t)}unregisterGraph(t){this.graphEvents.removeTarget(t.events),this.graphHooks.removeTarget(t.hooks),this.nodeEvents.removeTarget(t.nodeEvents),this.nodeHooks.removeTarget(t.nodeHooks),this.connectionEvents.removeTarget(t.connectionEvents),this.events.unregisterGraph.emit(t),this._graphs.delete(t)}load(t){try{this._loading=!0,t=this.hooks.load.execute(t),t.graphTemplates.forEach(s=>{const o=new Oo(s,this);this.addGraphTemplate(o)});const n=this._graph.load(t.graph);return this.events.loaded.emit(),n.forEach(s=>console.warn(s)),n}finally{this._loading=!1}}save(){const t={graph:this.graph.save(),graphTemplates:this.graphTemplates.map(n=>n.save())};return this.hooks.save.execute(t)}}var Ml;(function(e){e.Running="Running",e.Idle="Idle",e.Paused="Paused",e.Stopped="Stopped"})(Ml||(Ml={}));let bi=null;function Cm(e){bi=e}function mt(){if(!bi)throw new Error("providePlugin() must be called before usePlugin()");return{viewModel:bi}}function St(){const{viewModel:e}=mt();return{graph:ls(e.value,"displayedGraph"),switchGraph:e.value.switchGraph}}function Dc(e){const{graph:t}=St(),n=U(null),s=U(null);return{dragging:q(()=>!!n.value),onPointerDown:a=>{n.value={x:a.pageX,y:a.pageY},s.value={x:e.value.x,y:e.value.y}},onPointerMove:a=>{if(n.value){const u=a.pageX-n.value.x,c=a.pageY-n.value.y;e.value.x=s.value.x+u/t.value.scaling,e.value.y=s.value.y+c/t.value.scaling}},onPointerUp:()=>{n.value=null,s.value=null}}}function Lc(e,t,n){if(!t.template)return!1;if(Gn(t.template)===n)return!0;const s=e.graphTemplates.find(i=>Gn(i)===n);return s?s.nodes.filter(i=>i.type.startsWith(ps)).some(i=>Lc(e,t,i.type)):!1}function Gc(e){return q(()=>{const t=Array.from(e.value.editor.nodeTypes.entries()),n=new Set(t.map(([,o])=>o.category)),s=[];for(const o of n.values()){let i=t.filter(([,r])=>r.category===o);e.value.displayedGraph.template?i=i.filter(([r])=>!Lc(e.value.editor,e.value.displayedGraph,r)):i=i.filter(([r])=>![Dn,Ln].includes(r)),i.length>0&&s.push({name:o,nodeTypes:Object.fromEntries(i)})}return s.sort((o,i)=>o.name==="default"?-1:i.name==="default"||o.name>i.name?1:-1),s})}function Hc(){const{graph:e}=St();return{transform:(n,s)=>{const o=n/e.value.scaling-e.value.panning.x,i=s/e.value.scaling-e.value.panning.y;return[o,i]}}}function Sm(){const{graph:e}=St();let t=[],n=-1,s={x:0,y:0};const o=q(()=>e.value.panning),i=Dc(o),r=q(()=>({"transform-origin":"0 0",transform:`scale(${e.value.scaling}) translate(${e.value.panning.x}px, ${e.value.panning.y}px)`})),l=(p,g,v)=>{const w=[p/e.value.scaling-e.value.panning.x,g/e.value.scaling-e.value.panning.y],E=[p/v-e.value.panning.x,g/v-e.value.panning.y],y=[E[0]-w[0],E[1]-w[1]];e.value.panning.x+=y[0],e.value.panning.y+=y[1],e.value.scaling=v},a=p=>{p.preventDefault();let g=p.deltaY;p.deltaMode===1&&(g*=32);const v=e.value.scaling*(1-g/3e3);l(p.offsetX,p.offsetY,v)},u=()=>({ax:t[0].clientX,ay:t[0].clientY,bx:t[1].clientX,by:t[1].clientY});return{styles:r,...i,onPointerDown:p=>{if(t.push(p),i.onPointerDown(p),t.length===2){const{ax:g,ay:v,bx:w,by:E}=u();s={x:g+(w-g)/2,y:v+(E-v)/2}}},onPointerMove:p=>{for(let g=0;g<t.length;g++)if(p.pointerId==t[g].pointerId){t[g]=p;break}if(t.length==2){const{ax:g,ay:v,bx:w,by:E}=u(),y=g-w,C=v-E,$=Math.sqrt(y*y+C*C);if(n>0){const F=e.value.scaling*(1+($-n)/500);l(s.x,s.y,F)}n=$}else i.onPointerMove(p)},onPointerUp:p=>{t=t.filter(g=>g.pointerId!==p.pointerId),n=-1,i.onPointerUp()},onMouseWheel:a}}var ut=(e=>(e[e.NONE=0]="NONE",e[e.ALLOWED=1]="ALLOWED",e[e.FORBIDDEN=2]="FORBIDDEN",e))(ut||{});const Fc=Symbol();function xm(){const{graph:e}=St(),t=U(null),n=U(null),s=l=>{t.value&&(t.value.mx=l.offsetX/e.value.scaling-e.value.panning.x,t.value.my=l.offsetY/e.value.scaling-e.value.panning.y)},o=()=>{if(n.value){if(t.value)return;const l=e.value.connections.find(a=>a.to===n.value);n.value.isInput&&l?(t.value={status:ut.NONE,from:l.from},e.value.removeConnection(l)):t.value={status:ut.NONE,from:n.value},t.value.mx=void 0,t.value.my=void 0}},i=()=>{if(t.value&&n.value){if(t.value.from===n.value)return;e.value.addConnection(t.value.from,t.value.to)}t.value=null},r=l=>{if(n.value=l??null,l&&t.value){t.value.to=l;const a=e.value.checkConnection(t.value.from,t.value.to);if(t.value.status=a.connectionAllowed?ut.ALLOWED:ut.FORBIDDEN,a.connectionAllowed){const u=a.connectionsInDanger.map(c=>c.id);e.value.connections.forEach(c=>{u.includes(c.id)&&(c.isInDanger=!0)})}}else!l&&t.value&&(t.value.to=void 0,t.value.status=ut.NONE,e.value.connections.forEach(a=>{a.isInDanger=!1}))};return On(Fc,{temporaryConnection:t,hoveredOver:r}),{temporaryConnection:t,onMouseMove:s,onMouseDown:o,onMouseUp:i,hoveredOver:r}}function Em(e){const t=U(!1),n=U(0),s=U(0),o=Gc(e),{transform:i}=Hc(),r=q(()=>{let c=[];const f={};for(const p of o.value){const g=Object.entries(p.nodeTypes).map(([v,w])=>({label:w.title,value:"addNode:"+v}));p.name==="default"?c=g:f[p.name]=g}const d=[...Object.entries(f).map(([p,g])=>({label:p,submenu:g}))];return d.length>0&&c.length>0&&d.push({isDivider:!0}),d.push(...c),d}),l=q(()=>e.value.settings.contextMenu.additionalItems.length===0?r.value:[{label:"Add node",submenu:r.value},...e.value.settings.contextMenu.additionalItems.map(c=>"isDivider"in c||"submenu"in c?c:{label:c.label,value:"command:"+c.command,disabled:!e.value.commandHandler.canExecuteCommand(c.command)})]);function a(c){t.value=!0,n.value=c.offsetX,s.value=c.offsetY}function u(c){if(c.startsWith("addNode:")){const f=c.substring(8),d=e.value.editor.nodeTypes.get(f);if(!d)return;const p=Be(new d.type);e.value.displayedGraph.addNode(p);const[g,v]=i(n.value,s.value);p.position.x=g,p.position.y=v}else if(c.startsWith("command:")){const f=c.substring(8);e.value.commandHandler.canExecuteCommand(f)&&e.value.commandHandler.executeCommand(f)}}return{show:t,x:n,y:s,items:l,open:a,onClick:u}}const Tm=Ne({setup(){const{viewModel:e}=mt(),{graph:t}=St();return{styles:q(()=>{const s=e.value.settings.background,o=t.value.panning.x*t.value.scaling,i=t.value.panning.y*t.value.scaling,r=t.value.scaling*s.gridSize,l=r/s.gridDivision,a=`${r}px ${r}px, ${r}px ${r}px`,u=t.value.scaling>s.subGridVisibleThreshold?`, ${l}px ${l}px, ${l}px ${l}px`:"";return{backgroundPosition:`left ${o}px top ${i}px`,backgroundSize:`${a} ${u}`}})}}}),$e=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n};function Im(e,t,n,s,o,i){return P(),V("div",{class:"background",style:ue(e.styles)},null,4)}const Mm=$e(Tm,[["render",Im]]);function Nm(e){return $i()?(sa(e),!0):!1}function sr(e){return typeof e=="function"?e():N(e)}const Bc=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const $m=Object.prototype.toString,Om=e=>$m.call(e)==="[object Object]",Ks=()=>{},Am=Pm();function Pm(){var e,t;return Bc&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window?.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function km(e,t,n=!1){return t.reduce((s,o)=>(o in e&&(!n||e[o]!==void 0)&&(s[o]=e[o]),s),{})}function Rm(e,t={}){if(!ke(e))return ed(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const s in e.value)n[s]=Sa(()=>({get(){return e.value[s]},set(o){var i;if((i=sr(t.replaceRef))!=null?i:!0)if(Array.isArray(e.value)){const l=[...e.value];l[s]=o,e.value=l}else{const l={...e.value,[s]:o};Object.setPrototypeOf(l,Object.getPrototypeOf(e.value)),e.value=l}else e.value[s]=o}}));return n}function es(e){var t;const n=sr(e);return(t=n?.$el)!=null?t:n}const or=Bc?window:void 0;function is(...e){let t,n,s,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,o]=e,t=or):[t,n,s,o]=e,!t)return Ks;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const i=[],r=()=>{i.forEach(c=>c()),i.length=0},l=(c,f,d,p)=>(c.addEventListener(f,d,p),()=>c.removeEventListener(f,d,p)),a=xe(()=>[es(t),sr(o)],([c,f])=>{if(r(),!c)return;const d=Om(f)?{...f}:f;i.push(...n.flatMap(p=>s.map(g=>l(c,p,g,d))))},{immediate:!0,flush:"post"}),u=()=>{a(),r()};return Nm(u),u}let Nl=!1;function Vc(e,t,n={}){const{window:s=or,ignore:o=[],capture:i=!0,detectIframe:r=!1}=n;if(!s)return Ks;Am&&!Nl&&(Nl=!0,Array.from(s.document.body.children).forEach(d=>d.addEventListener("click",Ks)),s.document.documentElement.addEventListener("click",Ks));let l=!0;const a=d=>o.some(p=>{if(typeof p=="string")return Array.from(s.document.querySelectorAll(p)).some(g=>g===d.target||d.composedPath().includes(g));{const g=es(p);return g&&(d.target===g||d.composedPath().includes(g))}}),c=[is(s,"click",d=>{const p=es(e);if(!(!p||p===d.target||d.composedPath().includes(p))){if(d.detail===0&&(l=!a(d)),!l){l=!0;return}t(d)}},{passive:!0,capture:i}),is(s,"pointerdown",d=>{const p=es(e);l=!a(d)&&!!(p&&!d.composedPath().includes(p))},{passive:!0}),r&&is(s,"blur",d=>{setTimeout(()=>{var p;const g=es(e);((p=s.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!g?.contains(s.document.activeElement)&&t(d)},0)})].filter(Boolean);return()=>c.forEach(d=>d())}const Uc={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},Dm=Object.keys(Uc);function Lm(e={}){const{target:t=or}=e,n=U(!1),s=U(e.initialValue||{});Object.assign(s.value,Uc,s.value);const o=i=>{n.value=!0,!(e.pointerTypes&&!e.pointerTypes.includes(i.pointerType))&&(s.value=km(i,Dm,!1))};if(t){const i={passive:!0};is(t,["pointerdown","pointermove","pointerup"],o,i),is(t,"pointerleave",()=>n.value=!1,i)}return{...Rm(s),isInside:n}}const Gm=["onMouseenter","onMouseleave","onClick"],Hm={class:"flex-fill"},Fm={key:0,class:"__submenu-icon",style:{"line-height":"1em"}},Bm=I("svg",{width:"13",height:"13",viewBox:"-60 120 250 250"},[I("path",{d:"M160.875 279.5625 L70.875 369.5625 L70.875 189.5625 L160.875 279.5625 Z",stroke:"none",fill:"white"})],-1),Vm=[Bm],ir=Ne({__name:"ContextMenu",props:{modelValue:{type:Boolean},items:{},x:{default:0},y:{default:0},isNested:{type:Boolean,default:!1},isFlipped:{default:()=>({x:!1,y:!1})},flippable:{type:Boolean,default:!1}},emits:["update:modelValue","click"],setup(e,{emit:t}){const n=e,s=t;let o=null;const i=U(null),r=U(-1),l=U(0),a=U({x:!1,y:!1}),u=q(()=>n.flippable&&(a.value.x||n.isFlipped.x)),c=q(()=>n.flippable&&(a.value.y||n.isFlipped.y)),f=q(()=>{const y={};return n.isNested||(y.top=(c.value?n.y-l.value:n.y)+"px",y.left=n.x+"px"),y}),d=q(()=>({"--flipped-x":u.value,"--flipped-y":c.value,"--nested":n.isNested})),p=q(()=>n.items.map(y=>({...y,hover:!1})));xe([()=>n.y,()=>n.items],()=>{var y,C,$,F;l.value=n.items.length*30;const S=((C=(y=i.value)==null?void 0:y.parentElement)==null?void 0:C.offsetWidth)??0,O=((F=($=i.value)==null?void 0:$.parentElement)==null?void 0:F.offsetHeight)??0;a.value.x=!n.isNested&&n.x>S*.75,a.value.y=!n.isNested&&n.y+l.value>O-20}),Vc(i,()=>{n.modelValue&&s("update:modelValue",!1)});const g=y=>{!y.submenu&&y.value&&(s("click",y.value),s("update:modelValue",!1))},v=y=>{s("click",y),r.value=-1,n.isNested||s("update:modelValue",!1)},w=(y,C)=>{n.items[C].submenu&&(r.value=C,o!==null&&(clearTimeout(o),o=null))},E=(y,C)=>{n.items[C].submenu&&(o=window.setTimeout(()=>{r.value=-1,o=null},200))};return(y,C)=>{const $=mn("ContextMenu",!0);return P(),He(Un,{name:"slide-fade"},{default:ze(()=>[_s(I("div",{ref_key:"el",ref:i,class:Fe(["baklava-context-menu",d.value]),style:ue(f.value)},[(P(!0),V(de,null,Je(p.value,(F,S)=>(P(),V(de,null,[F.isDivider?(P(),V("div",{key:`d-${S}`,class:"divider"})):(P(),V("div",{key:`i-${S}`,class:Fe(["item",{submenu:!!F.submenu,"--disabled":!!F.disabled}]),onMouseenter:O=>w(O,S),onMouseleave:O=>E(O,S),onClick:st(O=>g(F),["stop","prevent"])},[I("div",Hm,fe(F.label),1),F.submenu?(P(),V("div",Fm,Vm)):nt("",!0),F.submenu?(P(),He($,{key:1,"model-value":r.value===S,items:F.submenu,"is-nested":!0,"is-flipped":{x:u.value,y:c.value},flippable:y.flippable,onClick:v},null,8,["model-value","items","is-flipped","flippable"])):nt("",!0)],42,Gm))],64))),256))],6),[[sc,y.modelValue]])]),_:1})}}}),Um={},jm={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Wm=I("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Km=I("circle",{cx:"12",cy:"12",r:"1"},null,-1),zm=I("circle",{cx:"12",cy:"19",r:"1"},null,-1),qm=I("circle",{cx:"12",cy:"5",r:"1"},null,-1),Ym=[Wm,Km,zm,qm];function Xm(e,t){return P(),V("svg",jm,Ym)}const jc=$e(Um,[["render",Xm]]),Jm=["id"],Qm={key:0,class:"__tooltip"},Zm={key:2,class:"align-middle"},$l=Ne({__name:"NodeInterface",props:{node:{},intf:{}},setup(e){const t=(w,E=100)=>{const y=w?.toString?w.toString():"";return y.length>E?y.slice(0,E)+"...":y},n=e,{viewModel:s}=mt(),{hoveredOver:o,temporaryConnection:i}=bt(Fc),r=U(null),l=q(()=>n.intf.connectionCount>0),a=U(!1),u=q(()=>s.value.settings.displayValueOnHover&&a.value),c=q(()=>({"--input":n.intf.isInput,"--output":!n.intf.isInput,"--connected":l.value})),f=q(()=>n.intf.component&&(!n.intf.isInput||!n.intf.port||n.intf.connectionCount===0)),d=()=>{a.value=!0,o(n.intf)},p=()=>{a.value=!1,o(void 0)},g=()=>{r.value&&s.value.hooks.renderInterface.execute({intf:n.intf,el:r.value})},v=()=>{const w=s.value.displayedGraph.sidebar;w.nodeId=n.node.id,w.optionName=n.intf.name,w.visible=!0};return Vt(g),bs(g),(w,E)=>{var y;return P(),V("div",{id:w.intf.id,ref_key:"el",ref:r,class:Fe(["baklava-node-interface",c.value])},[w.intf.port?(P(),V("div",{key:0,class:Fe(["__port",{"--selected":((y=N(i))==null?void 0:y.from)===w.intf}]),onPointerover:d,onPointerout:p},[Ue(w.$slots,"portTooltip",{showTooltip:u.value},()=>[u.value===!0?(P(),V("span",Qm,fe(t(w.intf.value)),1)):nt("",!0)])],34)):nt("",!0),f.value?(P(),He(bo(w.intf.component),{key:1,modelValue:w.intf.value,"onUpdate:modelValue":E[0]||(E[0]=C=>w.intf.value=C),node:w.node,intf:w.intf,onOpenSidebar:v},null,40,["modelValue","node","intf"])):(P(),V("span",Zm,fe(w.intf.name),1))],10,Jm)}}}),eg=["id","data-node-type"],tg={class:"__title-label"},ng={class:"__menu"},sg={class:"__outputs"},og={class:"__inputs"},ig=Ne({__name:"Node",props:{node:{},selected:{type:Boolean,default:!1},dragging:{type:Boolean}},emits:["select","start-drag"],setup(e,{emit:t}){const n=e,s=t,{viewModel:o}=mt(),{graph:i,switchGraph:r}=St(),l=U(null),a=U(!1),u=U(""),c=U(null),f=U(!1),d=U(!1),p=q(()=>{const G=[{value:"rename",label:"Rename"},{value:"delete",label:"Delete"}];return n.node.type.startsWith(ps)&&G.push({value:"editSubgraph",label:"Edit Subgraph"}),G}),g=q(()=>({"--selected":n.selected,"--dragging":n.dragging,"--two-column":!!n.node.twoColumn})),v=q(()=>{var G,B;return{top:`${((G=n.node.position)==null?void 0:G.y)??0}px`,left:`${((B=n.node.position)==null?void 0:B.x)??0}px`,"--width":`${n.node.width??o.value.settings.nodes.defaultWidth}px`}}),w=q(()=>Object.values(n.node.inputs).filter(G=>!G.hidden)),E=q(()=>Object.values(n.node.outputs).filter(G=>!G.hidden)),y=()=>{s("select")},C=G=>{n.selected||y(),s("start-drag",G)},$=()=>{d.value=!0},F=async G=>{var B;switch(G){case"delete":i.value.removeNode(n.node);break;case"rename":u.value=n.node.title,a.value=!0,await $t(),(B=c.value)==null||B.focus();break;case"editSubgraph":r(n.node.template);break}},S=()=>{n.node.title=u.value,a.value=!1},O=()=>{l.value&&o.value.hooks.renderNode.execute({node:n.node,el:l.value})},L=G=>{f.value=!0,G.preventDefault()},b=G=>{if(!f.value)return;const B=n.node.width+G.movementX/i.value.scaling,te=o.value.settings.nodes.minWidth,ee=o.value.settings.nodes.maxWidth;n.node.width=Math.max(te,Math.min(ee,B))},k=()=>{f.value=!1};return Vt(()=>{O(),window.addEventListener("mousemove",b),window.addEventListener("mouseup",k)}),bs(O),Bn(()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",k)}),(G,B)=>(P(),V("div",{id:G.node.id,ref_key:"el",ref:l,class:Fe(["baklava-node",g.value]),style:ue(v.value),"data-node-type":G.node.type,onPointerdown:y},[N(o).settings.nodes.resizable?(P(),V("div",{key:0,class:"__resize-handle",onMousedown:L},null,32)):nt("",!0),Ue(G.$slots,"title",{},()=>[I("div",{class:"__title",onPointerdown:st(C,["self","stop"])},[a.value?_s((P(),V("input",{key:1,ref_key:"renameInputEl",ref:c,"onUpdate:modelValue":B[1]||(B[1]=te=>u.value=te),type:"text",class:"baklava-input",placeholder:"Node Name",onBlur:S,onKeydown:hi(S,["enter"])},null,544)),[[Yi,u.value]]):(P(),V(de,{key:0},[I("div",tg,fe(G.node.title),1),I("div",ng,[J(jc,{class:"--clickable",onClick:$}),J(ir,{modelValue:d.value,"onUpdate:modelValue":B[0]||(B[0]=te=>d.value=te),x:0,y:0,items:p.value,onClick:F},null,8,["modelValue","items"])])],64))],32)]),Ue(G.$slots,"content",{},()=>[I("div",{class:"__content",onKeydown:B[2]||(B[2]=hi(st(()=>{},["stop"]),["delete"]))},[I("div",sg,[(P(!0),V(de,null,Je(E.value,te=>Ue(G.$slots,"nodeInterface",{key:te.id,type:"output",node:G.node,intf:te},()=>[J($l,{node:G.node,intf:te},null,8,["node","intf"])])),128))]),I("div",og,[(P(!0),V(de,null,Je(w.value,te=>Ue(G.$slots,"nodeInterface",{key:te.id,type:"input",node:G.node,intf:te},()=>[J($l,{node:G.node,intf:te},null,8,["node","intf"])])),128))])],32)])],46,eg))}}),rg=Ne({props:{x1:{type:Number,required:!0},y1:{type:Number,required:!0},x2:{type:Number,required:!0},y2:{type:Number,required:!0},state:{type:Number,default:ut.NONE},isTemporary:{type:Boolean,default:!1}},setup(e){const{viewModel:t}=mt(),{graph:n}=St(),s=(r,l)=>{const a=(r+n.value.panning.x)*n.value.scaling,u=(l+n.value.panning.y)*n.value.scaling;return[a,u]},o=q(()=>{const[r,l]=s(e.x1,e.y1),[a,u]=s(e.x2,e.y2);if(t.value.settings.useStraightConnections)return`M ${r} ${l} L ${a} ${u}`;{const c=.3*Math.abs(r-a);return`M ${r} ${l} C ${r+c} ${l}, ${a-c} ${u}, ${a} ${u}`}}),i=q(()=>({"--temporary":e.isTemporary,"--allowed":e.state===ut.ALLOWED,"--forbidden":e.state===ut.FORBIDDEN}));return{d:o,classes:i}}}),lg=["d"];function ag(e,t,n,s,o,i){return P(),V("path",{class:Fe(["baklava-connection",e.classes]),d:e.d},null,10,lg)}const Wc=$e(rg,[["render",ag]]);function cg(e){return document.getElementById(e.id)}function Hn(e){const t=document.getElementById(e.id),n=t?.getElementsByClassName("__port");return{node:t?.closest(".baklava-node")??null,interface:t,port:n&&n.length>0?n[0]:null}}const ug=Ne({components:{"connection-view":Wc},props:{connection:{type:Object,required:!0}},setup(e){const{graph:t}=St();let n;const s=U({x1:0,y1:0,x2:0,y2:0}),o=q(()=>e.connection.isInDanger?ut.FORBIDDEN:ut.NONE),i=q(()=>{var u;return(u=t.value.findNodeById(e.connection.from.nodeId))==null?void 0:u.position}),r=q(()=>{var u;return(u=t.value.findNodeById(e.connection.to.nodeId))==null?void 0:u.position}),l=u=>u.node&&u.interface&&u.port?[u.node.offsetLeft+u.interface.offsetLeft+u.port.offsetLeft+u.port.clientWidth/2,u.node.offsetTop+u.interface.offsetTop+u.port.offsetTop+u.port.clientHeight/2]:[0,0],a=()=>{const u=Hn(e.connection.from),c=Hn(e.connection.to);u.node&&c.node&&(n||(n=new ResizeObserver(()=>{a()}),n.observe(u.node),n.observe(c.node)));const[f,d]=l(u),[p,g]=l(c);s.value={x1:f,y1:d,x2:p,y2:g}};return Vt(async()=>{await $t(),a()}),Bn(()=>{n&&n.disconnect()}),xe([i,r],()=>a(),{deep:!0}),{d:s,state:o}}});function dg(e,t,n,s,o,i){const r=mn("connection-view");return P(),He(r,{x1:e.d.x1,y1:e.d.y1,x2:e.d.x2,y2:e.d.y2,state:e.state},null,8,["x1","y1","x2","y2","state"])}const fg=$e(ug,[["render",dg]]);function io(e){return e.node&&e.interface&&e.port?[e.node.offsetLeft+e.interface.offsetLeft+e.port.offsetLeft+e.port.clientWidth/2,e.node.offsetTop+e.interface.offsetTop+e.port.offsetTop+e.port.clientHeight/2]:[0,0]}const hg=Ne({components:{"connection-view":Wc},props:{connection:{type:Object,required:!0}},setup(e){const t=q(()=>e.connection?e.connection.status:ut.NONE);return{d:q(()=>{if(!e.connection)return{input:[0,0],output:[0,0]};const s=io(Hn(e.connection.from)),o=e.connection.to?io(Hn(e.connection.to)):[e.connection.mx||s[0],e.connection.my||s[1]];return e.connection.from.isInput?{input:o,output:s}:{input:s,output:o}}),status:t}}});function pg(e,t,n,s,o,i){const r=mn("connection-view");return P(),He(r,{x1:e.d.input[0],y1:e.d.input[1],x2:e.d.output[0],y2:e.d.output[1],state:e.status,"is-temporary":""},null,8,["x1","y1","x2","y2","state"])}const mg=$e(hg,[["render",pg]]),gg=Ne({setup(){const{viewModel:e}=mt(),{graph:t}=St(),n=U(null),s=ls(e.value.settings.sidebar,"width"),o=q(()=>e.value.settings.sidebar.resizable),i=q(()=>{const f=t.value.sidebar.nodeId;return t.value.nodes.find(d=>d.id===f)}),r=q(()=>({width:`${s.value}px`})),l=q(()=>i.value?[...Object.values(i.value.inputs),...Object.values(i.value.outputs)].filter(d=>d.displayInSidebar&&d.component):[]),a=()=>{t.value.sidebar.visible=!1},u=()=>{window.addEventListener("mousemove",c),window.addEventListener("mouseup",()=>{window.removeEventListener("mousemove",c)},{once:!0})},c=f=>{var d,p;const g=((p=(d=n.value)==null?void 0:d.parentElement)==null?void 0:p.getBoundingClientRect().width)??500;let v=s.value-f.movementX;v<300?v=300:v>.9*g&&(v=.9*g),s.value=v};return{el:n,graph:t,resizable:o,node:i,styles:r,displayedInterfaces:l,startResize:u,close:a}}}),vg={class:"__header"},yg={class:"__node-name"};function _g(e,t,n,s,o,i){return P(),V("div",{ref:"el",class:Fe(["baklava-sidebar",{"--open":e.graph.sidebar.visible}]),style:ue(e.styles)},[e.resizable?(P(),V("div",{key:0,class:"__resizer",onMousedown:t[0]||(t[0]=(...r)=>e.startResize&&e.startResize(...r))},null,32)):nt("",!0),I("div",vg,[I("button",{tabindex:"-1",class:"__close",onClick:t[1]||(t[1]=(...r)=>e.close&&e.close(...r))},"×"),I("div",yg,[I("b",null,fe(e.node?e.node.title:""),1)])]),(P(!0),V(de,null,Je(e.displayedInterfaces,r=>(P(),V("div",{key:r.id,class:"__interface"},[(P(),He(bo(r.component),{modelValue:r.value,"onUpdate:modelValue":l=>r.value=l,node:e.node,intf:r},null,8,["modelValue","onUpdate:modelValue","node","intf"]))]))),128))],6)}const bg=$e(gg,[["render",_g]]),wg=Ne({__name:"Minimap",setup(e){const{viewModel:t}=mt(),{graph:n}=St(),s=U(null),o=U(!1);let i,r=!1,l={x1:0,y1:0,x2:0,y2:0},a;const u=()=>{var S,O;if(!i)return;i.canvas.width=s.value.offsetWidth,i.canvas.height=s.value.offsetHeight;const L=new Map,b=new Map;for(const ee of n.value.nodes){const ge=cg(ee),ae=ge?.offsetWidth??0,ie=ge?.offsetHeight??0,oe=((S=ee.position)==null?void 0:S.x)??0,Oe=((O=ee.position)==null?void 0:O.y)??0;L.set(ee,{x1:oe,y1:Oe,x2:oe+ae,y2:Oe+ie}),b.set(ee,ge)}const k={x1:Number.MAX_SAFE_INTEGER,y1:Number.MAX_SAFE_INTEGER,x2:Number.MIN_SAFE_INTEGER,y2:Number.MIN_SAFE_INTEGER};for(const ee of L.values())ee.x1<k.x1&&(k.x1=ee.x1),ee.y1<k.y1&&(k.y1=ee.y1),ee.x2>k.x2&&(k.x2=ee.x2),ee.y2>k.y2&&(k.y2=ee.y2);const G=50;k.x1-=G,k.y1-=G,k.x2+=G,k.y2+=G,l=k;const B=i.canvas.width/i.canvas.height,te=(l.x2-l.x1)/(l.y2-l.y1);if(B>te){const ee=(B-te)*(l.y2-l.y1)*.5;l.x1-=ee,l.x2+=ee}else{const ee=l.x2-l.x1,ge=l.y2-l.y1,ae=(ee-B*ge)/B*.5;l.y1-=ae,l.y2+=ae}i.clearRect(0,0,i.canvas.width,i.canvas.height),i.strokeStyle="white";for(const ee of n.value.connections){const[ge,ae]=io(Hn(ee.from)),[ie,oe]=io(Hn(ee.to)),[Oe,gt]=c(ge,ae),[We,Ae]=c(ie,oe);if(i.beginPath(),i.moveTo(Oe,gt),t.value.settings.useStraightConnections)i.lineTo(We,Ae);else{const Ot=.3*Math.abs(Oe-We);i.bezierCurveTo(Oe+Ot,gt,We-Ot,Ae,We,Ae)}i.stroke()}i.strokeStyle="lightgray";for(const[ee,ge]of L.entries()){const[ae,ie]=c(ge.x1,ge.y1),[oe,Oe]=c(ge.x2,ge.y2);i.fillStyle=d(b.get(ee)),i.beginPath(),i.rect(ae,ie,oe-ae,Oe-ie),i.fill(),i.stroke()}if(o.value){const ee=g(),[ge,ae]=c(ee.x1,ee.y1),[ie,oe]=c(ee.x2,ee.y2);i.fillStyle="rgba(255, 255, 255, 0.2)",i.fillRect(ge,ae,ie-ge,oe-ae)}},c=(S,O)=>[(S-l.x1)/(l.x2-l.x1)*i.canvas.width,(O-l.y1)/(l.y2-l.y1)*i.canvas.height],f=(S,O)=>[S*(l.x2-l.x1)/i.canvas.width+l.x1,O*(l.y2-l.y1)/i.canvas.height+l.y1],d=S=>{if(S){const O=S.querySelector(".__content");if(O){const b=p(O);if(b)return b}const L=p(S);if(L)return L}return"gray"},p=S=>{const O=getComputedStyle(S).backgroundColor;if(O&&O!=="rgba(0, 0, 0, 0)")return O},g=()=>{const S=s.value.parentElement.offsetWidth,O=s.value.parentElement.offsetHeight,L=S/n.value.scaling-n.value.panning.x,b=O/n.value.scaling-n.value.panning.y;return{x1:-n.value.panning.x,y1:-n.value.panning.y,x2:L,y2:b}},v=S=>{S.button===0&&(r=!0,w(S))},w=S=>{if(r){const[O,L]=f(S.offsetX,S.offsetY),b=g(),k=(b.x2-b.x1)/2,G=(b.y2-b.y1)/2;n.value.panning.x=-(O-k),n.value.panning.y=-(L-G)}},E=()=>{r=!1},y=()=>{o.value=!0},C=()=>{o.value=!1,E()};xe([o,n.value.panning,()=>n.value.scaling,()=>n.value.connections.length],()=>{u()});const $=q(()=>n.value.nodes.map(S=>S.position)),F=q(()=>n.value.nodes.map(S=>S.width));return xe([$,F],()=>{u()},{deep:!0}),Vt(()=>{i=s.value.getContext("2d"),i.imageSmoothingQuality="high",u(),a=setInterval(u,500)}),Bn(()=>{clearInterval(a)}),(S,O)=>(P(),V("canvas",{ref_key:"canvas",ref:s,class:"baklava-minimap",onMouseenter:y,onMouseleave:C,onMousedown:st(v,["self"]),onMousemove:st(w,["self"]),onMouseup:E},null,544))}}),Cg=Ne({components:{ContextMenu:ir,VerticalDots:jc},props:{type:{type:String,required:!0},title:{type:String,required:!0}},setup(e){const{viewModel:t}=mt(),{switchGraph:n}=St(),s=U(!1),o=q(()=>e.type.startsWith(ps));return{showContextMenu:s,hasContextMenu:o,contextMenuItems:[{label:"Edit Subgraph",value:"editSubgraph"},{label:"Delete Subgraph",value:"deleteSubgraph"}],openContextMenu:()=>{s.value=!0},onContextMenuClick:a=>{const u=e.type.substring(ps.length),c=t.value.editor.graphTemplates.find(f=>f.id===u);if(c)switch(a){case"editSubgraph":n(c);break;case"deleteSubgraph":t.value.editor.removeGraphTemplate(c);break}}}}}),Sg=["data-node-type"],xg={class:"__title"},Eg={class:"__title-label"},Tg={key:0,class:"__menu"};function Ig(e,t,n,s,o,i){const r=mn("vertical-dots"),l=mn("context-menu");return P(),V("div",{class:"baklava-node --palette","data-node-type":e.type},[I("div",xg,[I("div",Eg,fe(e.title),1),e.hasContextMenu?(P(),V("div",Tg,[J(r,{class:"--clickable",onPointerdown:t[0]||(t[0]=st(()=>{},["stop","prevent"])),onClick:st(e.openContextMenu,["stop","prevent"])},null,8,["onClick"]),J(l,{modelValue:e.showContextMenu,"onUpdate:modelValue":t[1]||(t[1]=a=>e.showContextMenu=a),x:-100,y:0,items:e.contextMenuItems,onClick:e.onContextMenuClick,onPointerdown:t[2]||(t[2]=st(()=>{},["stop","prevent"]))},null,8,["modelValue","items","onClick"])])):nt("",!0)])],8,Sg)}const Ol=$e(Cg,[["render",Ig]]),Mg={class:"baklava-node-palette"},Ng={key:0},$g=Ne({__name:"NodePalette",setup(e){const{viewModel:t}=mt(),{x:n,y:s}=Lm(),{transform:o}=Hc(),i=Gc(t),r=bt("editorEl"),l=U(null),a=q(()=>{if(!l.value||!r?.value)return{};const{left:c,top:f}=r.value.getBoundingClientRect();return{top:`${s.value-f}px`,left:`${n.value-c}px`}}),u=(c,f)=>{l.value={type:c,nodeInformation:f};const d=()=>{const p=Be(new f.type);t.value.displayedGraph.addNode(p);const g=r.value.getBoundingClientRect(),[v,w]=o(n.value-g.left,s.value-g.top);p.position.x=v,p.position.y=w,l.value=null,document.removeEventListener("pointerup",d)};document.addEventListener("pointerup",d)};return(c,f)=>(P(),V(de,null,[I("div",Mg,[(P(!0),V(de,null,Je(N(i),d=>(P(),V("section",{key:d.name},[d.name!=="default"?(P(),V("h1",Ng,fe(d.name),1)):nt("",!0),(P(!0),V(de,null,Je(d.nodeTypes,(p,g)=>(P(),He(Ol,{key:g,type:g,title:p.title,onPointerdown:v=>u(g,p)},null,8,["type","title","onPointerdown"]))),128))]))),128))]),J(Un,{name:"fade"},{default:ze(()=>[l.value?(P(),V("div",{key:0,class:"baklava-dragged-node",style:ue(a.value)},[J(Ol,{type:l.value.type,title:l.value.nodeInformation.title},null,8,["type","title"])],4)):nt("",!0)]),_:1})],64))}});let Fs;const Og=new Uint8Array(16);function Ag(){if(!Fs&&(Fs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Fs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fs(Og)}const De=[];for(let e=0;e<256;++e)De.push((e+256).toString(16).slice(1));function Pg(e,t=0){return De[e[t+0]]+De[e[t+1]]+De[e[t+2]]+De[e[t+3]]+"-"+De[e[t+4]]+De[e[t+5]]+"-"+De[e[t+6]]+De[e[t+7]]+"-"+De[e[t+8]]+De[e[t+9]]+"-"+De[e[t+10]]+De[e[t+11]]+De[e[t+12]]+De[e[t+13]]+De[e[t+14]]+De[e[t+15]]}const kg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Al={randomUUID:kg};function ro(e,t,n){if(Al.randomUUID&&!t&&!e)return Al.randomUUID();e=e||{};const s=e.random||(e.rng||Ag)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){n=n||0;for(let o=0;o<16;++o)t[n+o]=s[o];return t}return Pg(s)}const ms="SAVE_SUBGRAPH";function Rg(e,t){const n=()=>{const s=e.value;if(!s.template)throw new Error("Graph template property not set");s.template.update(s.save()),s.template.panning=s.panning,s.template.scaling=s.scaling};t.registerCommand(ms,{canExecute:()=>{var s;return e.value!==((s=e.value.editor)==null?void 0:s.graph)},execute:n})}const Pl=9;function Dg(e){return"validate"in e}class Lg extends Ye{constructor(t,n,s,o){super(t,n),this.min=s,this.max=o}validate(t){return(!this.min||t>=this.min)&&(!this.max||t<=this.max)}}const Gg=(e,t=3)=>{const n=U(null),s=U(!1),o=U(!1),i=U("0"),r=q(()=>{const f=e.value.value.toFixed(t);return f.length>Pl?e.value.value.toExponential(Pl-5):f}),l=f=>Number.isNaN(f)?!1:Dg(e.value)?e.value.validate(f):!0,a=f=>{l(f)&&(e.value.value=f)};return xe(i,()=>{o.value=!1}),{editMode:s,invalid:o,tempValue:i,inputEl:n,stringRepresentation:r,validate:l,setValue:a,enterEditMode:async()=>{i.value=e.value.value.toFixed(t),s.value=!0,await $t(),n.value&&n.value.focus()},leaveEditMode:()=>{const f=parseFloat(i.value);l(f)?(a(f),s.value=!1):o.value=!0}}},Hg={},Fg={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Bg=I("polyline",{points:"6 9 12 15 18 9"},null,-1),Vg=[Bg];function Ug(e,t){return P(),V("svg",Fg,Vg)}const wi=$e(Hg,[["render",Ug]]),jg={class:"baklava-num-input"},Wg=["title"],Kg={class:"__value"},zg={key:1,class:"__content"},qg=Ne({__name:"NumberInterface",props:{intf:{}},setup(e){const t=e,{editMode:n,invalid:s,tempValue:o,inputEl:i,stringRepresentation:r,enterEditMode:l,leaveEditMode:a,setValue:u}=Gg(ls(t,"intf"));function c(){const d=parseFloat((t.intf.value+.1).toFixed(3));u(d)}function f(){const d=parseFloat((t.intf.value-.1).toFixed(3));u(d)}return(d,p)=>(P(),V("div",jg,[I("div",{class:"__button --dec",onClick:f},[J(wi)]),N(n)?(P(),V("div",zg,[_s(I("input",{ref_key:"inputEl",ref:i,"onUpdate:modelValue":p[1]||(p[1]=g=>ke(o)?o.value=g:null),type:"number",class:Fe(["baklava-input",{"--invalid":N(s)}]),style:{"text-align":"right"},onBlur:p[2]||(p[2]=(...g)=>N(a)&&N(a)(...g)),onKeydown:p[3]||(p[3]=hi((...g)=>N(a)&&N(a)(...g),["enter"]))},null,34),[[Yi,N(o)]])])):(P(),V("div",{key:0,class:"__content",onClick:p[0]||(p[0]=(...g)=>N(l)&&N(l)(...g))},[I("div",{class:"__label",title:d.intf.name},fe(d.intf.name),9,Wg),I("div",Kg,fe(N(r)),1)])),I("div",{class:"__button --inc",onClick:c},[J(wi)])]))}});class kl extends Lg{constructor(){super(...arguments),this.component=ys(qg)}}const Yg=Ne({components:{"i-arrow":wi},props:{intf:{type:Object,required:!0}},setup(e){const t=U(null),n=U(!1),s=q(()=>e.intf.items.find(r=>typeof r=="string"?r===e.intf.value:r.value===e.intf.value)),o=q(()=>s.value?typeof s.value=="string"?s.value:s.value.text:""),i=r=>{e.intf.value=typeof r=="string"?r:r.value};return Vc(t,()=>{n.value=!1}),{el:t,open:n,selectedItem:s,selectedText:o,setSelected:i}}}),Xg=["title"],Jg={class:"__selected"},Qg={class:"__text"},Zg={class:"__icon"},ev={class:"__dropdown"},tv={class:"item --header"},nv=["onClick"];function sv(e,t,n,s,o,i){const r=mn("i-arrow");return P(),V("div",{ref:"el",class:Fe(["baklava-select",{"--open":e.open}]),title:e.intf.name,onClick:t[0]||(t[0]=l=>e.open=!e.open)},[I("div",Jg,[I("div",Qg,fe(e.selectedText),1),I("div",Zg,[J(r)])]),J(Un,{name:"slide-fade"},{default:ze(()=>[_s(I("div",ev,[I("div",tv,fe(e.intf.name),1),(P(!0),V(de,null,Je(e.intf.items,(l,a)=>(P(),V("div",{key:a,class:Fe(["item",{"--active":l===e.selectedItem}]),onClick:u=>e.setSelected(l)},fe(typeof l=="string"?l:l.text),11,nv))),128))],512),[[sc,e.open]])]),_:1})],10,Xg)}const ov=$e(Yg,[["render",sv]]);class iv extends Ye{constructor(t,n,s){super(t,n),this.component=ys(ov),this.items=s}}const rv=Ne({props:{intf:{type:Object,required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){return{v:q({get:()=>e.modelValue,set:s=>{t("update:modelValue",s)}})}}}),lv=["placeholder","title"];function av(e,t,n,s,o,i){return P(),V("div",null,[_s(I("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>e.v=r),type:"text",class:"baklava-input",placeholder:e.intf.name,title:e.intf.name},null,8,lv),[[Yi,e.v]])])}const cv=$e(rv,[["render",av]]);class Kc extends Ye{constructor(){super(...arguments),this.component=ys(cv)}}class zc extends kc{constructor(){super(...arguments),this._title="Subgraph Input",this.inputs={name:new Kc("Name","Input").setPort(!1)},this.outputs={placeholder:new Ye("Connection",void 0)}}}class qc extends Rc{constructor(){super(...arguments),this._title="Subgraph Output",this.inputs={name:new Kc("Name","Output").setPort(!1),placeholder:new Ye("Connection",void 0)},this.outputs={output:new Ye("Output",void 0).setHidden(!0)}}}const Yc="CREATE_SUBGRAPH",Rl=[Dn,Ln];function uv(e,t,n){const s=()=>e.value.selectedNodes.filter(i=>!Rl.includes(i.type)).length>0,o=()=>{const{viewModel:i}=mt(),r=e.value,l=e.value.editor;if(r.selectedNodes.length===0)return;const a=r.selectedNodes.filter(b=>!Rl.includes(b.type)),u=a.flatMap(b=>Object.values(b.inputs)),c=a.flatMap(b=>Object.values(b.outputs)),f=r.connections.filter(b=>!c.includes(b.from)&&u.includes(b.to)),d=r.connections.filter(b=>c.includes(b.from)&&!u.includes(b.to)),p=r.connections.filter(b=>c.includes(b.from)&&u.includes(b.to)),g=a.map(b=>b.save()),v=p.map(b=>({id:b.id,from:b.from.id,to:b.to.id})),w=new Map,{xLeft:E,xRight:y,yTop:C}=dv(a);console.log(E,y,C);for(const[b,k]of f.entries()){const G=new zc;G.inputs.name.value=k.to.name,g.push({...G.save(),position:{x:y-i.value.settings.nodes.defaultWidth-100,y:C+b*200}}),v.push({id:ro(),from:G.outputs.placeholder.id,to:k.to.id}),w.set(k.to.id,G.graphInterfaceId)}for(const[b,k]of d.entries()){const G=new qc;G.inputs.name.value=k.from.name,g.push({...G.save(),position:{x:E+100,y:C+b*200}}),v.push({id:ro(),from:k.from.id,to:G.inputs.placeholder.id}),w.set(k.from.id,G.graphInterfaceId)}const $=Be(new Oo({connections:v,nodes:g,inputs:[],outputs:[]},l));l.addGraphTemplate($);const F=l.nodeTypes.get(Gn($));if(!F)throw new Error("Unable to create subgraph: Could not find corresponding graph node type");const S=Be(new F.type);r.addNode(S);const O=Math.round(a.map(b=>b.position.x).reduce((b,k)=>b+k,0)/a.length),L=Math.round(a.map(b=>b.position.y).reduce((b,k)=>b+k,0)/a.length);S.position.x=O,S.position.y=L,f.forEach(b=>{r.removeConnection(b),r.addConnection(b.from,S.inputs[w.get(b.to.id)])}),d.forEach(b=>{r.removeConnection(b),r.addConnection(S.outputs[w.get(b.from.id)],b.to)}),a.forEach(b=>r.removeNode(b)),t.canExecuteCommand(ms)&&t.executeCommand(ms),n($),e.value.panning={...r.panning},e.value.scaling=r.scaling};t.registerCommand(Yc,{canExecute:s,execute:o})}function dv(e){const t=e.reduce((o,i)=>{const r=i.position.x;return r<o?r:o},1/0),n=e.reduce((o,i)=>{const r=i.position.y;return r<o?r:o},1/0);return{xLeft:e.reduce((o,i)=>{const r=i.position.x+i.width;return r>o?r:o},-1/0),xRight:t,yTop:n}}const Dl="DELETE_NODES";function fv(e,t){t.registerCommand(Dl,{canExecute:()=>e.value.selectedNodes.length>0,execute(){e.value.selectedNodes.forEach(n=>e.value.removeNode(n))}}),t.registerHotkey(["Delete"],Dl)}const Xc="SWITCH_TO_MAIN_GRAPH";function hv(e,t,n){t.registerCommand(Xc,{canExecute:()=>e.value!==e.value.editor.graph,execute:()=>{t.executeCommand(ms),n(e.value.editor.graph)}})}function pv(e,t,n){fv(e,t),uv(e,t,n),Rg(e,t),hv(e,t,n)}class Ll{constructor(t,n){this.type=t,t==="addNode"?this.nodeId=n:this.nodeState=n}undo(t){this.type==="addNode"?this.removeNode(t):this.addNode(t)}redo(t){this.type==="addNode"&&this.nodeState?this.addNode(t):this.type==="removeNode"&&this.nodeId&&this.removeNode(t)}addNode(t){const n=t.editor.nodeTypes.get(this.nodeState.type);if(!n)return;const s=new n.type;t.addNode(s),s.load(this.nodeState),this.nodeId=s.id}removeNode(t){const n=t.nodes.find(s=>s.id===this.nodeId);n&&(this.nodeState=n.save(),t.removeNode(n))}}class Gl{constructor(t,n){if(this.type=t,t==="addConnection")this.connectionId=n;else{const s=n;this.connectionState={id:s.id,from:s.from.id,to:s.to.id}}}undo(t){this.type==="addConnection"?this.removeConnection(t):this.addConnection(t)}redo(t){this.type==="addConnection"&&this.connectionState?this.addConnection(t):this.type==="removeConnection"&&this.connectionId&&this.removeConnection(t)}addConnection(t){const n=t.findNodeInterface(this.connectionState.from),s=t.findNodeInterface(this.connectionState.to);!n||!s||t.addConnection(n,s)}removeConnection(t){const n=t.connections.find(s=>s.id===this.connectionId);n&&(this.connectionState={id:n.id,from:n.from.id,to:n.to.id},t.removeConnection(n))}}class mv{constructor(t){if(this.type="transaction",t.length===0)throw new Error("Can't create a transaction with no steps");this.steps=t}undo(t){for(let n=this.steps.length-1;n>=0;n--)this.steps[n].undo(t)}redo(t){for(let n=0;n<this.steps.length;n++)this.steps[n].redo(t)}}const Ci="UNDO",Si="REDO",Jc="START_TRANSACTION",Qc="COMMIT_TRANSACTION";function gv(e,t){const n=Symbol("HistoryToken"),s=U(200),o=U([]),i=U(!1),r=U(-1),l=U(!1),a=U([]),u=w=>{if(!i.value)if(l.value)a.value.push(w);else for(r.value!==o.value.length-1&&(o.value=o.value.slice(0,r.value+1)),o.value.push(w),r.value++;o.value.length>s.value;)o.value.shift()},c=()=>{l.value=!0},f=()=>{l.value=!1,a.value.length>0&&(u(new mv(a.value)),a.value=[])},d=()=>o.value.length!==0&&r.value!==-1,p=()=>{d()&&(i.value=!0,o.value[r.value--].undo(e.value),i.value=!1)},g=()=>o.value.length!==0&&r.value<o.value.length-1,v=()=>{g()&&(i.value=!0,o.value[++r.value].redo(e.value),i.value=!1)};return xe(e,(w,E)=>{E&&(E.events.addNode.unsubscribe(n),E.events.removeNode.unsubscribe(n),E.events.addConnection.unsubscribe(n),E.events.removeConnection.unsubscribe(n)),w&&(w.events.addNode.subscribe(n,y=>{u(new Ll("addNode",y.id))}),w.events.removeNode.subscribe(n,y=>{u(new Ll("removeNode",y.save()))}),w.events.addConnection.subscribe(n,y=>{u(new Gl("addConnection",y.id))}),w.events.removeConnection.subscribe(n,y=>{u(new Gl("removeConnection",y))}))},{immediate:!0}),t.registerCommand(Ci,{canExecute:d,execute:p}),t.registerCommand(Si,{canExecute:g,execute:v}),t.registerCommand(Jc,{canExecute:()=>!l.value,execute:c}),t.registerCommand(Qc,{canExecute:()=>l.value,execute:f}),t.registerHotkey(["Control","z"],Ci),t.registerHotkey(["Control","y"],Si),Be({maxSteps:s})}const xi="COPY",Ei="PASTE",vv="CLEAR_CLIPBOARD";function yv(e,t,n){const s=Symbol("ClipboardToken"),o=U(""),i=U(""),r=q(()=>!o.value),l=()=>{o.value="",i.value=""},a=()=>{const f=e.value.selectedNodes.flatMap(p=>[...Object.values(p.inputs),...Object.values(p.outputs)]),d=e.value.connections.filter(p=>f.includes(p.from)||f.includes(p.to)).map(p=>({from:p.from.id,to:p.to.id}));i.value=JSON.stringify(d),o.value=JSON.stringify(e.value.selectedNodes.map(p=>p.save()))},u=(f,d,p)=>{for(const g of f){let v;if((!p||p==="input")&&(v=Object.values(g.inputs).find(w=>w.id===d)),!v&&(!p||p==="output")&&(v=Object.values(g.outputs).find(w=>w.id===d)),v)return v}},c=()=>{if(r.value)return;const f=new Map,d=JSON.parse(o.value),p=JSON.parse(i.value),g=[],v=[],w=e.value;n.executeCommand(Jc);for(const E of d){const y=t.value.nodeTypes.get(E.type);if(!y){console.warn(`Node type ${E.type} not registered`);return}const C=new y.type,$=C.id;g.push(C),C.hooks.beforeLoad.subscribe(s,F=>{const S=F;return S.position&&(S.position.x+=100,S.position.y+=100),C.hooks.beforeLoad.unsubscribe(s),S}),w.addNode(C),C.load({...E,id:$}),C.id=$,f.set(E.id,$);for(const F of Object.values(C.inputs)){const S=ro();f.set(F.id,S),F.id=S}for(const F of Object.values(C.outputs)){const S=ro();f.set(F.id,S),F.id=S}}for(const E of p){const y=u(g,f.get(E.from),"output"),C=u(g,f.get(E.to),"input");if(!y||!C)continue;const $=w.addConnection(y,C);$&&v.push($)}return e.value.selectedNodes=g,n.executeCommand(Qc),{newNodes:g,newConnections:v}};return n.registerCommand(xi,{canExecute:()=>e.value.selectedNodes.length>0,execute:a}),n.registerHotkey(["Control","c"],xi),n.registerCommand(Ei,{canExecute:()=>!r.value,execute:c}),n.registerHotkey(["Control","v"],Ei),n.registerCommand(vv,{canExecute:()=>!0,execute:l}),Be({isEmpty:r})}const _v="OPEN_SIDEBAR";function bv(e,t){t.registerCommand(_v,{execute:n=>{e.value.sidebar.nodeId=n,e.value.sidebar.visible=!0},canExecute:()=>!0})}function wv(e,t){bv(e,t)}const Cv={},Sv={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},xv=I("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Ev=I("path",{d:"M9 13l-4 -4l4 -4m-4 4h11a4 4 0 0 1 0 8h-1"},null,-1),Tv=[xv,Ev];function Iv(e,t){return P(),V("svg",Sv,Tv)}const Mv=$e(Cv,[["render",Iv]]),Nv={},$v={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Ov=I("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Av=I("path",{d:"M15 13l4 -4l-4 -4m4 4h-11a4 4 0 0 0 0 8h1"},null,-1),Pv=[Ov,Av];function kv(e,t){return P(),V("svg",$v,Pv)}const Rv=$e(Nv,[["render",kv]]),Dv={},Lv={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Gv=I("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Hv=I("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1),Fv=I("line",{x1:"5",y1:"12",x2:"11",y2:"18"},null,-1),Bv=I("line",{x1:"5",y1:"12",x2:"11",y2:"6"},null,-1),Vv=[Gv,Hv,Fv,Bv];function Uv(e,t){return P(),V("svg",Lv,Vv)}const jv=$e(Dv,[["render",Uv]]),Wv={},Kv={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},zv=I("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),qv=I("path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"},null,-1),Yv=I("rect",{x:"9",y:"3",width:"6",height:"4",rx:"2"},null,-1),Xv=[zv,qv,Yv];function Jv(e,t){return P(),V("svg",Kv,Xv)}const Qv=$e(Wv,[["render",Jv]]),Zv={},e0={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},t0=I("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),n0=I("rect",{x:"8",y:"8",width:"12",height:"12",rx:"2"},null,-1),s0=I("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"},null,-1),o0=[t0,n0,s0];function i0(e,t){return P(),V("svg",e0,o0)}const r0=$e(Zv,[["render",i0]]),l0={},a0={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c0=I("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),u0=I("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"},null,-1),d0=I("circle",{cx:"12",cy:"14",r:"2"},null,-1),f0=I("polyline",{points:"14 4 14 8 8 8 8 4"},null,-1),h0=[c0,u0,d0,f0];function p0(e,t){return P(),V("svg",a0,h0)}const m0=$e(l0,[["render",p0]]),g0={},v0={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},y0=ef('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 3h4v4h-4z"></path><path d="M3 17h4v4h-4z"></path><path d="M17 17h4v4h-4z"></path><path d="M7 17l5 -4l5 4"></path><line x1="12" y1="7" x2="12" y2="13"></line>',6),_0=[y0];function b0(e,t){return P(),V("svg",v0,_0)}const w0=$e(g0,[["render",b0]]),C0=Ne({props:{command:{type:String,required:!0},title:{type:String,required:!0},icon:{type:Object,required:!1,default:void 0}},setup(){const{viewModel:e}=mt();return{viewModel:e}}}),S0=["disabled","title"];function x0(e,t,n,s,o,i){return P(),V("button",{class:"baklava-toolbar-entry baklava-toolbar-button",disabled:!e.viewModel.commandHandler.canExecuteCommand(e.command),title:e.title,onClick:t[0]||(t[0]=r=>e.viewModel.commandHandler.executeCommand(e.command))},[e.icon?(P(),He(bo(e.icon),{key:0})):(P(),V(de,{key:1},[Mt(fe(e.title),1)],64))],8,S0)}const E0=$e(C0,[["render",x0]]),T0=Ne({components:{ToolbarButton:E0},setup(){const{viewModel:e}=mt();return{isSubgraph:q(()=>e.value.displayedGraph!==e.value.editor.graph),commands:[{command:xi,title:"Copy",icon:r0},{command:Ei,title:"Paste",icon:Qv},{command:Ci,title:"Undo",icon:Mv},{command:Si,title:"Redo",icon:Rv},{command:Yc,title:"Create Subgraph",icon:w0}],subgraphCommands:[{command:ms,title:"Save Subgraph",icon:m0},{command:Xc,title:"Back to Main Graph",icon:jv}]}}}),I0={class:"baklava-toolbar"};function M0(e,t,n,s,o,i){const r=mn("toolbar-button");return P(),V("div",I0,[(P(!0),V(de,null,Je(e.commands,l=>(P(),He(r,{key:l.command,command:l.command,title:l.title,icon:l.icon},null,8,["command","title","icon"]))),128)),e.isSubgraph?(P(!0),V(de,{key:0},Je(e.subgraphCommands,l=>(P(),He(r,{key:l.command,command:l.command,title:l.title,icon:l.icon},null,8,["command","title","icon"]))),128)):nt("",!0)])}const N0=$e(T0,[["render",M0]]),$0={class:"connections-container"},O0=Ne({__name:"Editor",props:{viewModel:{}},setup(e){const t=e,n=Symbol("EditorToken"),s=ls(t,"viewModel");Cm(s);const o=U(null);On("editorEl",o);const i=q(()=>t.viewModel.displayedGraph.nodes),r=q(()=>t.viewModel.displayedGraph.nodes.map(O=>Dc(ls(O,"position")))),l=q(()=>t.viewModel.displayedGraph.connections),a=q(()=>t.viewModel.displayedGraph.selectedNodes),u=Sm(),c=xm(),f=Em(s),d=q(()=>({...u.styles.value})),p=U(0);t.viewModel.editor.hooks.load.subscribe(n,O=>(p.value++,O));const g=O=>{u.onPointerMove(O),c.onMouseMove(O)},v=O=>{O.button===0&&(O.target===o.value&&($(),u.onPointerDown(O)),c.onMouseDown())},w=O=>{u.onPointerUp(O),c.onMouseUp()},E=O=>{O.key==="Tab"&&O.preventDefault(),t.viewModel.commandHandler.handleKeyDown(O)},y=O=>{t.viewModel.commandHandler.handleKeyUp(O)},C=O=>{["Control","Shift"].some(L=>t.viewModel.commandHandler.pressedKeys.includes(L))||$(),t.viewModel.displayedGraph.selectedNodes.push(O)},$=()=>{t.viewModel.displayedGraph.selectedNodes=[]},F=O=>{for(const L of t.viewModel.displayedGraph.selectedNodes){const b=i.value.indexOf(L),k=r.value[b];k.onPointerDown(O),document.addEventListener("pointermove",k.onPointerMove)}document.addEventListener("pointerup",S)},S=()=>{for(const O of t.viewModel.displayedGraph.selectedNodes){const L=i.value.indexOf(O),b=r.value[L];b.onPointerUp(),document.removeEventListener("pointermove",b.onPointerMove)}document.removeEventListener("pointerup",S)};return(O,L)=>(P(),V("div",{ref_key:"el",ref:o,tabindex:"-1",class:Fe(["baklava-editor",{"baklava-ignore-mouse":!!N(c).temporaryConnection.value||N(u).dragging.value,"--temporary-connection":!!N(c).temporaryConnection.value}]),onPointermove:st(g,["self"]),onPointerdown:v,onPointerup:w,onWheel:L[1]||(L[1]=st((...b)=>N(u).onMouseWheel&&N(u).onMouseWheel(...b),["self"])),onKeydown:E,onKeyup:y,onContextmenu:L[2]||(L[2]=st((...b)=>N(f).open&&N(f).open(...b),["self","prevent"]))},[Ue(O.$slots,"background",{},()=>[J(Mm)]),Ue(O.$slots,"toolbar",{},()=>[J(N0)]),Ue(O.$slots,"palette",{},()=>[J($g)]),(P(),V("svg",$0,[(P(!0),V(de,null,Je(l.value,b=>(P(),V("g",{key:b.id+p.value.toString()},[Ue(O.$slots,"connection",{connection:b},()=>[J(fg,{connection:b},null,8,["connection"])])]))),128)),Ue(O.$slots,"temporaryConnection",{temporaryConnection:N(c).temporaryConnection.value},()=>[N(c).temporaryConnection.value?(P(),He(mg,{key:0,connection:N(c).temporaryConnection.value},null,8,["connection"])):nt("",!0)])])),I("div",{class:"node-container",style:ue(d.value)},[J(kf,{name:"fade"},{default:ze(()=>[(P(!0),V(de,null,Je(i.value,(b,k)=>Ue(O.$slots,"node",{key:b.id+p.value.toString(),node:b,selected:a.value.includes(b),dragging:r.value[k].dragging.value,onSelect:G=>C(b),onStartDrag:F},()=>[J(ig,{node:b,selected:a.value.includes(b),dragging:r.value[k].dragging.value,onSelect:G=>C(b),onStartDrag:F},null,8,["node","selected","dragging","onSelect"])])),128))]),_:3})],4),Ue(O.$slots,"sidebar",{},()=>[J(bg)]),Ue(O.$slots,"minimap",{},()=>[O.viewModel.settings.enableMinimap?(P(),He(wg,{key:0})):nt("",!0)]),Ue(O.$slots,"contextMenu",{contextMenu:N(f)},()=>[O.viewModel.settings.contextMenu.enabled?(P(),He(ir,{key:0,modelValue:N(f).show.value,"onUpdate:modelValue":L[0]||(L[0]=b=>N(f).show.value=b),items:N(f).items.value,x:N(f).x.value,y:N(f).y.value,onClick:N(f).onClick},null,8,["modelValue","items","x","y","onClick"])):nt("",!0)])],34))}}),A0=["INPUT","TEXTAREA","SELECT"];function P0(e){const t=U([]),n=U([]);return{pressedKeys:t,handleKeyDown:r=>{var l;t.value.includes(r.key)||t.value.push(r.key),!A0.includes(((l=document.activeElement)==null?void 0:l.tagName)??"")&&n.value.forEach(a=>{a.keys.every(u=>t.value.includes(u))&&e(a.commandName)})},handleKeyUp:r=>{const l=t.value.indexOf(r.key);l>=0&&t.value.splice(l,1)},registerHotkey:(r,l)=>{n.value.push({keys:r,commandName:l})}}}const k0=()=>{const e=U(new Map),t=(i,r)=>{if(e.value.has(i))throw new Error(`Command "${i}" already exists`);e.value.set(i,r)},n=(i,r=!1,...l)=>{if(!e.value.has(i)){if(r)throw new Error(`[CommandHandler] Command ${i} not registered`);return}return e.value.get(i).execute(...l)},s=(i,r=!1,...l)=>{if(!e.value.has(i)){if(r)throw new Error(`[CommandHandler] Command ${i} not registered`);return!1}return e.value.get(i).canExecute(l)},o=P0(n);return Be({registerCommand:t,executeCommand:n,canExecuteCommand:s,...o})},R0=e=>!(e instanceof $o);function D0(e,t){return{switchGraph:s=>{let o;if(R0(s))o=new $o(e.value),s.createGraph(o);else{if(s!==e.value.graph)throw new Error("Can only switch using 'Graph' instance when it is the root graph. Otherwise a 'GraphTemplate' must be used.");o=s}t.value&&t.value!==e.value.graph&&t.value.destroy(),o.panning=o.panning??s.panning??{x:0,y:0},o.scaling=o.scaling??s.scaling??1,o.selectedNodes=o.selectedNodes??[],o.sidebar=o.sidebar??{visible:!1,nodeId:"",optionName:""},t.value=o}}}function L0(e,t){e.position=e.position??{x:0,y:0},e.disablePointerEvents=!1,e.twoColumn=e.twoColumn??!1,e.width=e.width??t.defaultWidth}const G0=()=>({useStraightConnections:!1,enableMinimap:!1,background:{gridSize:100,gridDivision:5,subGridVisibleThreshold:.6},sidebar:{width:300,resizable:!0},displayValueOnHover:!1,nodes:{defaultWidth:200,maxWidth:320,minWidth:150,resizable:!1},contextMenu:{enabled:!0,additionalItems:[]}});function H0(e){const t=U(e??new wm),n=Symbol("ViewModelToken"),s=U(null),o=Yu(s),{switchGraph:i}=D0(t,s),r=q(()=>o.value&&o.value!==t.value.graph),l=Be(G0()),a=k0(),u=gv(o,a),c=yv(o,t,a),f={renderNode:new pt(null),renderInterface:new pt(null)};return pv(o,a,i),wv(o,a),xe(t,(d,p)=>{p&&(p.events.registerGraph.unsubscribe(n),p.graphEvents.beforeAddNode.unsubscribe(n),d.nodeHooks.beforeLoad.unsubscribe(n),d.nodeHooks.afterSave.unsubscribe(n),d.graphTemplateHooks.beforeLoad.unsubscribe(n),d.graphTemplateHooks.afterSave.unsubscribe(n),d.graph.hooks.load.unsubscribe(n),d.graph.hooks.save.unsubscribe(n)),d&&(d.nodeHooks.beforeLoad.subscribe(n,(g,v)=>(v.position=g.position??{x:0,y:0},v.width=g.width??l.nodes.defaultWidth,v.twoColumn=g.twoColumn??!1,g)),d.nodeHooks.afterSave.subscribe(n,(g,v)=>(g.position=v.position,g.width=v.width,g.twoColumn=v.twoColumn,g)),d.graphTemplateHooks.beforeLoad.subscribe(n,(g,v)=>(v.panning=g.panning,v.scaling=g.scaling,g)),d.graphTemplateHooks.afterSave.subscribe(n,(g,v)=>(g.panning=v.panning,g.scaling=v.scaling,g)),d.graph.hooks.load.subscribe(n,(g,v)=>(v.panning=g.panning,v.scaling=g.scaling,g)),d.graph.hooks.save.subscribe(n,(g,v)=>(g.panning=v.panning,g.scaling=v.scaling,g)),d.graphEvents.beforeAddNode.subscribe(n,g=>L0(g,{defaultWidth:l.nodes.defaultWidth})),t.value.registerNodeType(zc,{category:"Subgraphs"}),t.value.registerNodeType(qc,{category:"Subgraphs"}),i(d.graph))},{immediate:!0}),Be({editor:t,displayedGraph:o,isSubgraph:r,settings:l,commandHandler:a,history:u,clipboard:c,hooks:f,switchGraph:i})}const F0={class:"h-100dvh"},B0={__name:"PageNode",setup(e){const t=_m({type:"MyNode",inputs:{number1:()=>new kl("Number",1),number2:()=>new kl("Number",10),operation:()=>new iv("Operation","Add",["Add","Subtract"]).setPort(!1)},outputs:{output:()=>new Ye("Output",0)}}),n=H0();return n.editor.registerNodeType(t),(s,o)=>(P(),V("div",F0,[J(N(O0),{"view-model":N(n)},null,8,["view-model"])]))}};function V0(){try{return"constructor"in GestureEvent}catch{return!1}}function Zc(){return typeof window<"u"&&"ontouchstart"in window}function eu(e){return"pointerId"in e?null:e.type==="touchend"?e.changedTouches:e.targetTouches}function rr(e){return Array.from(eu(e)).map(t=>t.identifier)}function at(e){const t="buttons"in e?e.buttons:0,{shiftKey:n,altKey:s,metaKey:o,ctrlKey:i}=e;return{buttons:t,shiftKey:n,altKey:s,metaKey:o,ctrlKey:i}}const xs=e=>e;function Sn(e,t=xs){const n=eu(e),{clientX:s,clientY:o}=n?n[0]:e;return t([s,o])}function Hl(e,t,n=xs){const[s,o]=Array.from(e.touches).filter(p=>t.includes(p.identifier));if(!s||!o)throw Error("The event doesn't have two pointers matching the pointerIds");const i=o.clientX-s.clientX,r=o.clientY-s.clientY,l=(o.clientX+s.clientX)/2,a=(o.clientY+s.clientY)/2,u=Math.hypot(i,r),c=-(Math.atan2(i,r)*180)/Math.PI,f=n([u,c]),d=n([l,a]);return{values:f,origin:d}}function U0(e,t=xs){const{scrollX:n,scrollY:s,scrollLeft:o,scrollTop:i}=e.currentTarget;return t([n||o||0,s||i||0])}const Fl=40,Bl=800;function tu(e,t=xs){let{deltaX:n,deltaY:s,deltaMode:o}=e;return o===1?(n*=Fl,s*=Fl):o===2&&(n*=Bl,s*=Bl),t([n,s])}function Vl(e,t=xs){return t([e.scale,e.rotation])}function nu(){}function su(...e){return e.length===0?nu:e.length===1?e[0]:function(){var t;for(let n of e)t=n.apply(this,arguments)||t;return t}}function en(e,t){if(e===void 0){if(t===void 0)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function Ul(e,t){return Object.assign({},t,e||{})}function lo(e,...t){return typeof e=="function"?e(...t):e}function Yn(e){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:nu,canceled:!1,memo:void 0,args:void 0,...e}}function ou(){const e={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},t=Yn({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),n=Yn({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),s=Yn({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),o=Yn({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=Yn({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:e,drag:t,pinch:n,wheel:s,move:o,scroll:i}}class j0{constructor(t){this.classes=t,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=Zc(),this.supportsGestureEvents=V0(),this.bind=(...n)=>{const s={};for(let o of this.classes)new o(this,n).addBindings(s);for(let o in this.nativeRefs)Se(s,o,i=>this.nativeRefs[o]({...this.state.shared,event:i,args:n}));return this.config.domTarget?q0(this,s):Y0(this,s)},this.clean=()=>{const{eventOptions:n,domTarget:s}=this.config,o=N(s);o&&Es(o,lu(this.domListeners),n),Object.values(this.timeouts).forEach(clearTimeout),W0(this)},this.classes=t,this.state=ou(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function iu(e,t){"pointerId"in t?e.pointerIds.add(t.pointerId):e.touchIds=new Set(rr(t))}function ru(e,t){"pointerId"in t?e.pointerIds.delete(t.pointerId):rr(t).forEach(n=>e.touchIds.delete(n))}function W0(e){const{config:{window:t,eventOptions:n},windowListeners:s}=e,o=N(t);if(o){for(let i in s){const r=s[i];Es(o,r,n)}e.windowListeners={}}}function K0({config:e,windowListeners:t},n,s=e.eventOptions){const o=N(e.window);o&&(Es(o,t[n],s),delete t[n])}function z0({config:e,windowListeners:t},n,s=[],o=e.eventOptions){const i=N(e.window);i&&(Es(i,t[n],o),au(i,t[n]=s,o))}function q0({config:e,domListeners:t},n){const{eventOptions:s,domTarget:o}=e,i=N(o);if(!i)throw new Error("domTarget must be defined");Es(i,lu(t),s);for(let[r,l]of Object.entries(n)){const a=r.slice(2).toLowerCase();t.push([a,su(...l)])}au(i,t,s)}function Y0({config:e},t){const n={},s=e.eventOptions.capture?"Capture":"";for(let[o,i]of Object.entries(t)){const r=Array.isArray(i)?i:[i],l=o+s;n[l]=su(...r)}return n}function lu(e=[]){return e.splice(0,e.length)}function Se(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function au(e,t=[],n={}){if(e)for(let[s,o]of t)e.addEventListener(s,o,n)}function Es(e,t=[],n={}){if(e)for(let[s,o]of t)e.removeEventListener(s,o,n)}function ao(e,t){return e.map((n,s)=>n+t[s])}function lr(e,t){return e.map((n,s)=>n-t[s])}function gs(e){return Math.hypot(...e)}function cu(e,t=e){const n=gs(t),s=n===0?0:1/n,o=t.map(r=>s*r);return{distance:gs(e),direction:o}}function uu(e,t,n){const s=gs(t),o=s===0?0:1/s,i=n===0?0:1/n,r=i*s,l=t.map(c=>i*c),a=t.map(c=>o*c),u=gs(e);return{velocities:l,velocity:r,distance:u,direction:a}}function co(e){return Math.sign?Math.sign(e):+(e>0)-+(e<0)||+e}function X0(e,t,n){return Math.max(t,Math.min(e,n))}function J0(e,t){return Math.pow(e,t*5)}function jl(e,t,n){return t===0||Math.abs(t)===1/0?J0(e,n):e*t*n/(t+n*e)}function Wl(e,t,n,s=.15){return s===0?X0(e,t,n):e<t?-jl(t-e,n-t,s)+t:e>n?+jl(e-n,n-t,s)+n:e}const ct=new Map,Q0=e=>e;class du{constructor(t,n=[]){this.controller=t,this.args=n,this.debounced=!0,this.setTimeout=(s,o=140,...i)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(s,o,...i)},this.clearTimeout=()=>{clearTimeout(this.controller.timeouts[this.stateKey])},this.fireGestureHandler=(s=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!s&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const a=this.state.active,u=this.state._active;this.state.active=u,this.state.first=u&&!a,this.state.last=a&&!u,this.controller.state.shared[this.ingKey]=u}const o=this.controller.pointerIds.size||this.controller.touchIds.size,i=this.controller.state.shared.buttons>0||o>0,r={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:o,down:i},l=this.handler(r);return this.state.memo=l!==void 0?l:this.state.memo,r},this.controller=t,this.args=n}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||Q0}updateSharedState(t){Object.assign(this.controller.state.shared,t)}updateGestureState(t){Object.assign(this.state,t)}checkIntentionality(t,n){return{_intentional:t,_blocked:!1}}getMovement(t){const{rubberband:n,threshold:s}=this.config,{_bounds:o,_initial:i,_active:r,_intentional:l,lastOffset:a,movement:u}=this.state,c=this.getInternalMovement(t,this.state),f=this.transform(s).map(Math.abs),d=l[0]===!1?Kl(c[0],f[0]):l[0],p=l[1]===!1?Kl(c[1],f[1]):l[1],g=this.checkIntentionality([d,p],c);if(g._blocked)return{...g,_movement:c,delta:[0,0]};const v=g._intentional,w=c;let E=[v[0]!==!1?c[0]-v[0]:0,v[1]!==!1?c[1]-v[1]:0];const y=ao(E,a),C=r?n:[0,0];return E=zl(o,ao(E,i),C),{...g,intentional:v[0]!==!1||v[1]!==!1,_initial:i,_movement:w,movement:E,values:t,offset:zl(o,y,C),delta:lr(E,u)}}clean(){this.clearTimeout()}}function Kl(e,t){return Math.abs(e)>=t?co(e)*t:!1}function zl(e,[t,n],[s,o]){const[[i,r],[l,a]]=e;return[Wl(t,i,r,s),Wl(n,l,a,o)]}function Ie({state:e},t,n){const{timeStamp:s,type:o}=t,i=e.values,r=n?0:s-e.startTime;return{_lastEventType:o,event:t,timeStamp:s,elapsedTime:r,previous:i}}function hn({state:e,config:t,stateKey:n,args:s},o,i){const r=e.offset,l=i.timeStamp,{initial:a,bounds:u}=t,c={...ou()[n],_active:!0,args:s,values:o,initial:o,offset:r,lastOffset:r,startTime:l};return{...c,_initial:lo(a,c),_bounds:lo(u,c)}}class Ao extends du{getInternalMovement(t,n){return lr(t,n.initial)}checkIntentionality(t,n){if(t[0]===!1&&t[1]===!1)return{_intentional:t,axis:this.state.axis};const[s,o]=n.map(Math.abs),i=this.state.axis||(s>o?"x":s<o?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:t,_blocked:!1,axis:i}:i?this.config.axis&&i!==this.config.axis?{_intentional:t,_blocked:!0,axis:i}:(t[i==="x"?1:0]=!1,{_intentional:t,_blocked:!1,axis:i}):{_intentional:[!1,!1],_blocked:!1,axis:i}}getKinematics(t,n){const s=this.getMovement(t);if(!s._blocked){const o=n.timeStamp-this.state.timeStamp;Object.assign(s,uu(s.movement,s.delta,o))}return s}mapStateValues(t){return{xy:t.values,vxvy:t.velocities}}}const Z0=3;function ql(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}class ey extends Ao{constructor(){super(...arguments),this.ingKey="dragging",this.stateKey="drag",this.setPointerCapture=t=>{if(this.config.useTouch||document.pointerLockElement)return;const{target:n,pointerId:s}=t;n&&"setPointerCapture"in n&&n.setPointerCapture(s),this.updateGestureState({_dragTarget:n,_dragPointerId:s})},this.releasePointerCapture=()=>{if(this.config.useTouch||document.pointerLockElement)return;const{_dragTarget:t,_dragPointerId:n}=this.state;if(n&&t&&"releasePointerCapture"in t&&(!("hasPointerCapture"in t)||t.hasPointerCapture(n)))try{t.releasePointerCapture(n)}catch{}},this.preventScroll=t=>{this.state._dragPreventScroll&&t.cancelable&&t.preventDefault()},this.getEventId=t=>this.config.useTouch?t.changedTouches[0].identifier:t.pointerId,this.isValidEvent=t=>this.state._pointerId===this.getEventId(t),this.shouldPreventWindowScrollY=this.config.preventWindowScrollY&&this.controller.supportsTouchEvents,this.setUpWindowScrollDetection=t=>{ql(t),z0(this.controller,this.stateKey,[["touchmove",this.preventScroll],["touchend",this.clean.bind(this)],["touchcancel",this.clean.bind(this)]],{passive:!1}),this.setTimeout(this.startDrag.bind(this),250,t)},this.setUpDelayedDragTrigger=t=>{this.state._dragDelayed=!0,ql(t),this.setTimeout(this.startDrag.bind(this),this.config.delay,t)},this.setStartState=t=>{const n=Sn(t,this.transform);this.updateSharedState(at(t)),this.updateGestureState({...hn(this,n,t),...Ie(this,t,!0),_pointerId:this.getEventId(t)}),this.updateGestureState(this.getMovement(n))},this.onDragStart=t=>{iu(this.controller,t),!(!this.enabled||this.state._active)&&(this.setStartState(t),this.setPointerCapture(t),this.shouldPreventWindowScrollY?this.setUpWindowScrollDetection(t):this.config.delay>0?this.setUpDelayedDragTrigger(t):this.startDrag(t,!0))},this.onDragChange=t=>{if(this.state.canceled||!this.state._active||!this.isValidEvent(t)||this.state._lastEventType===t.type&&t.timeStamp===this.state.timeStamp)return;let n;if(document.pointerLockElement){const{movementX:a,movementY:u}=t;n=ao(this.transform([a,u]),this.state.values)}else n=Sn(t,this.transform);const s=this.getKinematics(n,t);if(!this.state._dragStarted){if(this.state._dragDelayed){this.startDrag(t);return}if(this.shouldPreventWindowScrollY)if(!this.state._dragPreventScroll&&s.axis)if(s.axis==="x")this.startDrag(t);else{this.state._active=!1;return}else return;else return}const o=at(t);this.updateSharedState(o);const i=Ie(this,t),r=gs(s._movement);let{_dragIsTap:l}=this.state;l&&r>=Z0&&(l=!1),this.updateGestureState({...i,...s,_dragIsTap:l}),this.fireGestureHandler()},this.onDragEnd=t=>{if(ru(this.controller,t),!this.isValidEvent(t)||(this.clean(),!this.state._active))return;this.state._active=!1;const n=this.state._dragIsTap,[s,o]=this.state.velocities,[i,r]=this.state.movement,[l,a]=this.state._intentional,[u,c]=this.config.swipeVelocity,[f,d]=this.config.swipeDistance,p=this.config.swipeDuration,g={...Ie(this,t),...this.getMovement(this.state.values)},v=[0,0];g.elapsedTime<p&&(l!==!1&&Math.abs(s)>u&&Math.abs(i)>f&&(v[0]=co(s)),a!==!1&&Math.abs(o)>c&&Math.abs(r)>d&&(v[1]=co(o))),this.updateSharedState({buttons:0}),this.updateGestureState({...g,tap:n,swipe:v}),this.fireGestureHandler(this.config.filterTaps&&n===!0)},this.clean=()=>{super.clean(),this.state._dragStarted=!1,this.releasePointerCapture(),K0(this.controller,this.stateKey)},this.onCancel=()=>{this.state.canceled||(this.updateGestureState({canceled:!0,_active:!1}),this.updateSharedState({buttons:0}),$t(this.fireGestureHandler))},this.onClick=t=>{this.state._dragIsTap||t.stopPropagation()}}startDrag(t,n=!1){!this.state._active||this.state._dragStarted||(n||this.setStartState(t),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())}addBindings(t){if(this.config.useTouch?(Se(t,"onTouchStart",this.onDragStart),Se(t,"onTouchMove",this.onDragChange),Se(t,"onTouchEnd",this.onDragEnd),Se(t,"onTouchCancel",this.onDragEnd)):(Se(t,"onPointerDown",this.onDragStart),Se(t,"onPointerMove",this.onDragChange),Se(t,"onPointerUp",this.onDragEnd),Se(t,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){const n=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";Se(t,n,this.onClick)}}}function Ts(e={},t){const n={};for(const[s,o]of Object.entries(t))switch(typeof o){case"function":n[s]=o.call(n,e[s],s,e);break;case"object":n[s]=Ts(e[s],o);break;case"boolean":o&&(n[s]=e[s]);break}return n}const ty=180,ny=.15,sy=.5,oy=50,iy=250,fu={threshold(e=0){return en(e)},rubberband(e=0){switch(e){case!0:return en(ny);case!1:return en(0);default:return en(e)}},enabled(e=!0){return e},triggerAllEvents(e=!1){return e},initial(e=0){return typeof e=="function"?e:en(e)},transform:!0},ar={...fu,axis:!0,lockDirection(e=!1){return e},bounds(e={}){if(typeof e=="function")return i=>ar.bounds(e(i));const{left:t=-1/0,right:n=1/0,top:s=-1/0,bottom:o=1/0}=e;return[[t,n],[s,o]]}},ry=typeof window<"u"&&window.document&&window.document.createElement,ly={enabled(e=!0){return e},domTarget:!0,window(e=ry?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform:!0},ay={...fu,bounds(e,t,{distanceBounds:n={},angleBounds:s={}}){const o=r=>{const l=Ul(lo(n,r),{min:-1/0,max:1/0});return[l.min,l.max]},i=r=>{const l=Ul(lo(s,r),{min:-1/0,max:1/0});return[l.min,l.max]};return typeof n!="function"&&typeof s!="function"?[o(),i()]:r=>[o(r),i(r)]}},cy={...ar,useTouch(e=!0){return e&&Zc()},preventWindowScrollY(e=!1){return e},threshold(e,t,{filterTaps:n=!1,lockDirection:s=!1,axis:o=void 0}){const i=en(e,n?3:s||o?1:0);return this.filterTaps=n,i},swipeVelocity(e=sy){return en(e)},swipeDistance(e=oy){return en(e)},swipeDuration(e=iy){return e},delay(e=0){switch(e){case!0:return ty;case!1:return 0;default:return e}}};function uy(e){return Ts(e,ly)}function Qo(e={}){return Ts(e,ar)}function dy(e={}){return Ts(e,ay)}function fy(e={}){return Ts(e,cy)}function hy(e,t=new Set){const{drag:n,wheel:s,move:o,scroll:i,pinch:r,hover:l,eventOptions:a,window:u,transform:c,domTarget:f,enabled:d}=e,p=uy({domTarget:f,eventOptions:a,transform:c,window:u,enabled:d});return t.has("onDrag")&&(p.drag=fy(n)),t.has("onWheel")&&(p.wheel=Qo(s)),t.has("onScroll")&&(p.scroll=Qo(i)),t.has("onMove")&&(p.move=Qo(o)),t.has("onPinch")&&(p.pinch=dy(r)),t.has("onHover")&&(p.hover={enabled:!0,...l}),p}function py(e,t,n={}){const s=my(e),o=new j0(s);return o.config=t,o.handlers=e,o.nativeRefs=n,Vn()&&!t.manual&&(Vt(o.bind),Ui(o.clean)),o}function my(e){const t=new Set;return e.drag&&t.add(ct.get("drag")),e.wheel&&t.add(ct.get("wheel")),e.scroll&&t.add(ct.get("scroll")),e.move&&t.add(ct.get("move")),e.pinch&&t.add(ct.get("pinch")),e.hover&&t.add(ct.get("hover")),t}class Yl extends Ao{constructor(){super(...arguments),this.ingKey="moving",this.stateKey="move",this.debounced=!0,this.onMove=t=>{this.enabled&&(this.setTimeout(this.onMoveEnd),this.state._active?this.onMoveChange(t):this.onMoveStart(t))},this.onMoveStart=t=>{this.updateSharedState(at(t));const n=Sn(t,this.transform);this.updateGestureState({...hn(this,n,t),...Ie(this,t,!0)}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()},this.onMoveChange=t=>{this.updateSharedState(at(t));const n=Sn(t,this.transform);this.updateGestureState({...Ie(this,t),...this.getKinematics(n,t)}),this.fireGestureHandler()},this.onMoveEnd=()=>{if(this.clean(),!this.state._active)return;const t=this.state.values;this.updateGestureState(this.getMovement(t)),this.updateGestureState({velocities:[0,0],velocity:0,_active:!1}),this.fireGestureHandler()},this.hoverTransform=()=>this.controller.config.hover.transform||this.controller.config.transform,this.onPointerEnter=t=>{if(this.controller.state.shared.hovering=!0,!!this.controller.config.enabled){if(this.controller.config.hover.enabled){const n=Sn(t,this.hoverTransform()),s={...this.controller.state.shared,...this.state,...Ie(this,t,!0),args:this.args,values:n,active:!0,hovering:!0};this.controller.handlers.hover({...s,...this.mapStateValues(s)})}"move"in this.controller.handlers&&this.onMoveStart(t)}},this.onPointerLeave=t=>{if(this.controller.state.shared.hovering=!1,"move"in this.controller.handlers&&this.onMoveEnd(),!this.controller.config.hover.enabled)return;const n=Sn(t,this.hoverTransform()),s={...this.controller.state.shared,...this.state,...Ie(this,t),args:this.args,values:n,active:!1};this.controller.handlers.hover({...s,...this.mapStateValues(s)})}}addBindings(t){"move"in this.controller.handlers&&Se(t,"onPointerMove",this.onMove),"hover"in this.controller.handlers&&(Se(t,"onPointerEnter",this.onPointerEnter),Se(t,"onPointerLeave",this.onPointerLeave))}}class gy extends du{getInternalMovement(t,n){const s=n.values[1];let[o,i=s]=t,r=i-s,l=n.turns;return Math.abs(r)>270&&(l+=co(r)),lr([o,i-360*l],n.initial)}getKinematics(t,n){const s=this.getMovement(t),o=(t[1]-s._movement[1]-this.state.initial[1])/360,i=n.timeStamp-this.state.timeStamp,{distance:r,velocity:l,...a}=uu(s.movement,s.delta,i);return{turns:o,...s,...a}}mapStateValues(t){return{da:t.values,vdva:t.velocities}}}const vy=7,yy=260;class _y extends gy{constructor(){super(...arguments),this.ingKey="pinching",this.stateKey="pinch",this.onPinchStart=t=>{iu(this.controller,t);const n=this.controller.touchIds;if(!this.enabled||this.state._active&&this.state._pointerIds.every(r=>n.has(r))||n.size<2)return;const s=Array.from(n).slice(0,2),{values:o,origin:i}=Hl(t,s,this.transform);this.updateSharedState(at(t)),this.updateGestureState({...hn(this,o,t),...Ie(this,t,!0),_pointerIds:s,cancel:this.onCancel,origin:i}),this.updateGestureState(this.getMovement(o)),this.fireGestureHandler()},this.onPinchChange=t=>{const{canceled:n,_active:s}=this.state;if(n||!s||t.timeStamp===this.state.timeStamp)return;const o=at(t);this.updateSharedState(o);try{const{values:i,origin:r}=Hl(t,this.state._pointerIds,this.transform),l=this.getKinematics(i,t);this.updateGestureState({...Ie(this,t),...l,origin:r}),this.fireGestureHandler()}catch{this.onPinchEnd(t)}},this.onPinchEnd=t=>{ru(this.controller,t);const n=rr(t);this.state._pointerIds.every(s=>!n.includes(s))||(this.clean(),this.state._active&&(this.updateGestureState({...Ie(this,t),...this.getMovement(this.state.values),_active:!1}),this.fireGestureHandler()))},this.onCancel=()=>{this.state.canceled||(this.updateGestureState({_active:!1,canceled:!0}),this.fireGestureHandler())},this.onGestureStart=t=>{if(!this.enabled)return;t.preventDefault();const n=Vl(t,this.transform);this.updateSharedState(at(t)),this.updateGestureState({...hn(this,n,t),...Ie(this,t,!0),origin:[t.clientX,t.clientY],cancel:this.onCancel}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()},this.onGestureChange=t=>{const{canceled:n,_active:s}=this.state;if(n||!s)return;t.preventDefault();const o=at(t);this.updateSharedState(o);const i=Vl(t,this.transform);i[0]=(i[0]-this.state.event.scale)*yy+this.state.values[0];const r=this.getKinematics(i,t);this.updateGestureState({...Ie(this,t),...r,origin:[t.clientX,t.clientY]}),this.fireGestureHandler()},this.onGestureEnd=t=>{this.clean(),this.state._active&&(this.updateGestureState({...Ie(this,t),...this.getMovement(this.state.values),_active:!1,origin:[t.clientX,t.clientY]}),this.fireGestureHandler())},this.wheelShouldRun=t=>this.enabled&&t.ctrlKey,this.getWheelValuesFromEvent=t=>{const[,n]=tu(t,this.transform),{values:[s,o]}=this.state;return{values:[s-n*vy,o!==void 0?o:0],origin:[t.clientX,t.clientY],delta:[0,n]}},this.onWheel=t=>{this.wheelShouldRun(t)&&(this.setTimeout(this.onWheelEnd),this.state._active?this.onWheelChange(t):this.onWheelStart(t))},this.onWheelStart=t=>{const{values:n,delta:s,origin:o}=this.getWheelValuesFromEvent(t);t.cancelable&&t.preventDefault(),this.updateSharedState(at(t)),this.updateGestureState({...hn(this,n,t),...Ie(this,t,!0),initial:this.state.values,offset:n,delta:s,origin:o}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()},this.onWheelChange=t=>{t.cancelable&&t.preventDefault(),this.updateSharedState(at(t));const{values:n,origin:s,delta:o}=this.getWheelValuesFromEvent(t);this.updateGestureState({...Ie(this,t),...this.getKinematics(n,t),origin:s,delta:o}),this.fireGestureHandler()},this.onWheelEnd=()=>{this.clean(),this.state._active&&(this.state._active=!1,this.updateGestureState(this.getMovement(this.state.values)),this.fireGestureHandler())}}addBindings(t){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(Se(t,"onGestureStart",this.onGestureStart),Se(t,"onGestureChange",this.onGestureChange),Se(t,"onGestureEnd",this.onGestureEnd)):(Se(t,"onTouchStart",this.onPinchStart),Se(t,"onTouchMove",this.onPinchChange),Se(t,"onTouchEnd",this.onPinchEnd),Se(t,"onTouchCancel",this.onPinchEnd),Se(t,"onWheel",this.onWheel))}}class by extends Ao{constructor(){super(...arguments),this.ingKey="scrolling",this.stateKey="scroll",this.debounced=!0,this.handleEvent=t=>{if(!this.enabled)return;this.clearTimeout(),this.setTimeout(this.onEnd);const n=U0(t,this.transform);if(this.updateSharedState(at(t)),this.state._active)this.updateGestureState({...Ie(this,t),...this.getKinematics(n,t)});else{this.updateGestureState({...hn(this,n,t),...Ie(this,t,!0),initial:this.state.values});const s=this.getMovement(n),o=cu(s.delta);this.updateGestureState(s),this.updateGestureState(o)}this.fireGestureHandler()},this.onEnd=()=>{this.clean(),this.state._active&&(this.updateGestureState({...this.getMovement(this.state.values),_active:!1,velocities:[0,0],velocity:0}),this.fireGestureHandler())}}addBindings(t){Se(t,"onScroll",this.handleEvent)}}class wy extends Ao{constructor(){super(...arguments),this.ingKey="wheeling",this.stateKey="wheel",this.debounced=!0,this.handleEvent=t=>{if(t.ctrlKey&&"pinch"in this.controller.handlers||!this.enabled)return;this.setTimeout(this.onEnd),this.updateSharedState(at(t));const n=ao(tu(t,this.transform),this.state.values);if(this.state._active)this.updateGestureState({...Ie(this,t),...this.getKinematics(n,t)});else{this.updateGestureState({...hn(this,n,t),...Ie(this,t,!0),initial:this.state.values});const s=this.getMovement(n),o=cu(s.delta);this.updateGestureState(s),this.updateGestureState(o)}this.fireGestureHandler()},this.onEnd=()=>{if(this.clean(),!this.state._active)return;const t=this.getMovement(this.state.values);this.updateGestureState(t),this.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),this.fireGestureHandler()}}addBindings(t){Se(t,"onWheel",this.handleEvent)}}const Cy=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Sy(e){const t={},n={},s=new Set;for(let o in e)Cy.test(o)?(s.add(RegExp.lastMatch),n[o]=e[o]):t[o]=e[o];return[n,t,s]}function xn(e,t){const[n,s,o]=Sy(e);ct.set("drag",ey),ct.set("hover",Yl),ct.set("move",Yl),ct.set("pinch",_y),ct.set("scroll",by),ct.set("wheel",wy);const i=hy(t,o),r={};return o.has("onDrag")&&(r.drag=Xn(n,"onDrag")),o.has("onWheel")&&(r.wheel=Xn(n,"onWheel")),o.has("onScroll")&&(r.scroll=Xn(n,"onScroll")),o.has("onMove")&&(r.move=Xn(n,"onMove")),o.has("onPinch")&&(r.pinch=Xn(n,"onPinch")),o.has("onHover")&&(r.hover=n.onHover),py(r,i,s)}function Xn(e,t){const n=t+"Start",s=t+"End";return i=>{let r;return i.first&&n in e&&e[n](i),t in e&&(r=e[t](i)),i.last&&s in e&&e[s](i),r}}const Po=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},xy={class:"param z-20"},Ey={__name:"ControlSlider",props:Ha({min:{type:Number,default:0},max:{type:Number,default:100},units:{type:String,default:"%"},vertical:{type:Boolean,default:!1}},{modelValue:{local:!0,default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=di(e,"modelValue"),n=e,s=U(),o=(i,r,l)=>Math.max(r,Math.min(l,i));return xn({onDrag(i){i.event.preventDefault(),t.value=o(t.value+i.delta[n.vertical?1:0]/10,n.min,n.max)},onWheel(i){i.event.preventDefault(),t.value=o(t.value-i.velocities[n.vertical?1:0],n.min,n.max)}},{domTarget:s,eventOptions:{passive:!1}}),(i,r)=>(P(),V("div",{class:"control",ref_key:"domTarget",ref:s},[I("div",xy,[Ue(i.$slots,"default",{},()=>[Mt("PARAM ")],!0)]),I("div",{class:"rect absolute bottom-0 left-0 w-full h-full bg-light-400 bg-opacity-50",style:ue({width:`${100*(t.value-e.min)/(e.max-e.min)}%`})},null,4),I("div",{class:"line",style:ue({left:`${100*(t.value-e.min)/(e.max-e.min)}%`})},[I("div",{class:"px-2",style:ue({marginLeft:`${(t.value-e.min)/(e.max-e.min)>.8?-60:0}px`})},fe(t.value.toFixed(0))+fe(e.units),5)],4)],512))}},zs=Po(Ey,[["__scopeId","data-v-c1d595ea"]]),cr=e=>(cd("data-v-65edc97b"),e=e(),ud(),e),Ty={class:"grid grid-cols-2 gap-4 w-full h-full"},Iy=cr(()=>I("div",{class:"param"},"HUE",-1)),My=cr(()=>I("div",{class:"param"},"SAT",-1)),Ny=cr(()=>I("div",{class:"param"},"VAL",-1)),$y={__name:"ControlColors",setup(e){const{color:t,hsl:n,bytes:s}=Io(),{config:o}=Cs();xe(s,c=>{o.leds.baseColor=c});const i=U(),r=U(),l=U();xn({onDrag(c){c.event.preventDefault(),t.h+=c.delta[0]/2},onWheel(c){c.event.preventDefault(),t.h-=c.velocities[0]}},{domTarget:i,eventOptions:{passive:!1}}),xn({onDrag(c){c.event.preventDefault(),t.s+=c.delta[0]/10},onWheel(c){c.event.preventDefault(),t.s-=c.velocities[0]}},{domTarget:r,eventOptions:{passive:!1}}),xn({onDrag(c){c.event.preventDefault(),t.v+=c.delta[0]/10},onWheel(c){c.event.preventDefault(),t.v-=c.velocities[0]}},{domTarget:l,eventOptions:{passive:!1}});const a=q(()=>{let c="linear-gradient(to right";for(let f=0;f<=360;f+=1)c+=`, hsl(${f}, ${t.s}%, ${t.v}%)`;return c+=")",c}),u=U();return xn({onDrag(c){c.event.preventDefault()}},{domTarget:u,eventOptions:{passive:!1}}),(c,f)=>(P(),V("section",{class:"h-full select-none",ref_key:"demo",ref:u},[I("div",Ty,[I("div",{class:"control col-span-2",ref_key:"controlH",ref:i,style:ue({background:a.value})},[Iy,I("div",{class:"line",style:ue({left:`${N(t).h/3.6}%`})},[I("div",{class:"px-2",style:ue({marginLeft:`${N(t).h>310?-50:0}px`})},fe(N(t).h.toFixed(0))+"°",5)],4)],4),I("div",{class:"control",ref_key:"controlS",ref:r,style:ue({background:`linear-gradient(90deg, hsl(${N(t).h}deg,0%, ${N(t).v}%), hsl(${N(t).h}deg,50%, ${N(t).v/2}%))`})},[My,I("div",{class:"line",style:ue({left:`${N(t).s}%`})},[I("div",{class:"px-2",style:ue({marginLeft:`${N(t).s>60?-50:0}px`})},fe(N(t).s.toFixed(0))+"%",5)],4)],4),I("div",{class:"control",ref_key:"controlV",ref:l,style:ue({background:`linear-gradient(90deg, hsl(${N(t).h}deg,${N(t).s}%, 0%),hsl(${N(t).h}deg,${N(t).s}%, 50%))`})},[Ny,I("div",{class:"line",style:ue({left:`${N(t).v}%`})},[I("div",{class:"px-2",style:ue({marginLeft:`${N(t).v>60?-50:0}px`})},fe(N(t).v.toFixed(0))+"%",5)],4)],4),J(zs,{class:"col-span-2",modelValue:N(o).leds.brightness_max,"onUpdate:modelValue":f[0]||(f[0]=d=>N(o).leds.brightness_max=d)},{default:ze(()=>[Mt("Max Brightness")]),_:1},8,["modelValue"])])],512))}},Oy=Po($y,[["__scopeId","data-v-65edc97b"]]),Ay={class:"flex flex-wrap items-center gap-4 p-2"},Py=I("div",{class:"text-lg"},"Sound",-1),ky={__name:"ControlSound",setup(e){const{config:t}=Cs();return(n,s)=>(P(),V("section",Ay,[Py,J(zs,{class:"flex-auto",modelValue:N(t).audio.lightOnVolumePCT,"onUpdate:modelValue":s[0]||(s[0]=o=>N(t).audio.lightOnVolumePCT=o)},{default:ze(()=>[Mt("Light On Volume")]),_:1},8,["modelValue"]),J(zs,{class:"flex-auto",modelValue:N(t).audio.lightOffVolumePCT,"onUpdate:modelValue":s[1]||(s[1]=o=>N(t).audio.lightOffVolumePCT=o)},{default:ze(()=>[Mt("Light Off Volume")]),_:1},8,["modelValue"]),J(zs,{class:"flex-auto",modelValue:N(t).audio.actionVolumePCT,"onUpdate:modelValue":s[2]||(s[2]=o=>N(t).audio.actionVolumePCT=o)},{default:ze(()=>[Mt("Action Volume")]),_:1},8,["modelValue"])]))}},Ry={class:"param z-20"},Dy={__name:"ControlPad",props:Ha({minX:{type:Number,default:0},maxX:{type:Number,default:100},minY:{type:Number,default:0},maxY:{type:Number,default:100},unitsX:{type:String,default:"Hz"},unitsY:{type:String,default:"%"}},{x:{local:!0,default:0},xModifiers:{},y:{local:!0,default:0},yModifiers:{}}),emits:["update:x","update:y"],setup(e){const t=di(e,"x"),n=di(e,"y"),s=e,o=U(),i=(r,l,a)=>Math.max(l,Math.min(a,r));return xn({onDrag(r){r.event.preventDefault(),t.value=i(t.value+r.delta[0]/10,s.minX,s.maxX),n.value=i(n.value-r.delta[1]/10,s.minY,s.maxY)},onWheel(r){r.event.preventDefault(),t.value=i(t.value-r.velocities[0],s.minX,s.maxX),n.value=i(n.value+r.velocities[1],s.minY,s.maxY)}},{domTarget:o,eventOptions:{passive:!1}}),(r,l)=>(P(),V("div",{class:"control",ref_key:"domTarget",ref:o},[I("div",Ry,[Ue(r.$slots,"default",{},()=>[Mt("PARAM ")],!0)]),I("div",{class:"rect absolute bottom-0 left-0 w-full h-full bg-light-200 bg-opacity-24",style:ue({width:`${100*(t.value-e.minX)/(e.maxX-e.minX)}%`})},null,4),I("div",{class:"rect absolute bottom-0 left-0 w-full h-full bg-light-200 bg-opacity-24",style:ue({height:`${100*(n.value-e.minY)/(e.maxY-e.minY)}%`})},null,4),I("div",{class:"line",style:ue({left:`${100*(t.value-e.minX)/(e.maxX-e.minX)}%`,backgroundColor:e.unitsX=="Hz"?N(fh)(t.value):"#eee8"})},[I("div",{class:"px-2",style:ue({marginLeft:`${(t.value-e.minX)/(e.maxX-e.minX)>.8?-60:0}px`})},fe(t.value.toFixed(0))+fe(e.unitsX),5)],4),I("div",{class:"mix-blend-difference absolute left-0 right-0 h-1 bg-white pl-2px",style:ue({bottom:`${100*(n.value-e.minY)/(e.maxY-e.minY)}%`})},[I("div",{class:"px-2 right-2 absolute top-1",style:ue({top:`${(n.value-e.minY)/(e.maxY-e.minY)<.3?-20:0}px`})},fe(n.value.toFixed(0))+fe(e.unitsY),5)],4)],512))}},Ly=Po(Dy,[["__scopeId","data-v-23c2c051"]]),Gy={class:"flex flex-wrap gap-4"},Hy={__name:"ControlHum",setup(e){const{config:t}=Cs();function n(){t.hum.humSynthesizer=t.hum.humSynthesizer?0:1,console.log(t.hum.humSynthesizer)}return(s,o)=>(P(),V("section",Gy,[I("button",{class:"flex-1",onPointerdown:n},fe(N(t).hum.humSynthesizer?"Synth":"Sample")+" Hum",33),(P(),V(de,null,Je(5,i=>J(Ly,{class:"min-w-30 min-h-16 transition",style:ue([{opacity:N(t).hum.humSynthesizer?1:.5},{flex:"1 1 auto"}]),key:i,x:N(t).hum[`hum${i}Freq`],"onUpdate:x":r=>N(t).hum[`hum${i}Freq`]=r,minX:50,maxX:500,y:N(t).hum[`hum${i}VolumePCT`],"onUpdate:y":r=>N(t).hum[`hum${i}VolumePCT`]=r},{default:ze(()=>[Mt("HUM"+fe(i),1)]),_:2},1032,["style","x","onUpdate:x","y","onUpdate:y"])),64))]))}},Fy={class:"flex flex-auto pt-8"},By={class:"grid sm-grid-cols-2 xl-grid-cols-3 2xl-grid-cols-4 gap-8 mx-2 flex-1 p-4 bg-dark-200 rounded-lg",ref:"demo"},Vy={class:"flex flex-wrap gap-2 w-full"},Uy=["onPointerdown"],jy={__name:"PageMain",setup(e){const{config:t,inConfig:n,outConfig:s}=Cs(),{color:o,hsl:i}=Io(),{state:r,toggleLightState:l,calibrateIMU:a}=Ss();return(u,c)=>(P(),V("article",Fy,[I("aside",{class:"flex-0 w-4 ml-4 mr-2 sm-mx-6 transition-transform duration-700 origin-center-bottom rounded-lg border-5",style:ue({transform:`scaleY(${N(r).lightState?1:0})`,background:`hsla(0deg,0%,100%,${N(o).v/50})`,borderColor:N(i),boxShadow:`0px 0px 40px 10px ${N(i)}`})},null,4),I("div",By,[I("div",Vy,[(P(),V(de,null,Je(4,(f,d)=>I("button",{class:Fe(["p-2 flex-1 w-full",{active:d==N(t).sabreMode.mode}]),key:d,onPointerdown:p=>N(t).sabreMode.mode=d},fe(N(ph)(N(uc),d).slice(5)),43,Uy)),64))]),J(Oy,{class:"flex-1 min-w-70"}),J(ky),J(Hy)],512)]))}},Wy={class:"flex flex-col p-0 text-xs bg-dark-100 overflow-scroll opacity-60 max-h-120"},Ky={class:"flex flex-col bg-dark-700 font-mono text-xs gap-2 p-4 sticky top-0"},zy={class:"bg-dark-900 p-2"},qy={__name:"ControlConfig",setup(e){const{config:t,inConfig:n,outConfig:s,readConfig:o,configReady:i}=Cs(),{configCharacteristic:r,isConnected:l}=Ji();async function a(){let u=o();await r.value?.writeValue(u),n.value=new Uint8Array((await r.value.readValue()).buffer)}return xe(()=>r.value,async()=>{a()}),xe(l,u=>{u.valueOf()==!0?(console.log("Device connected!"),n.value=a()):console.log("Device disconnected!")}),oh(s,async u=>{if(!n.value||i.valueOf()==!1)return;let c=await r.value.writeValueWithResponse(u.buffer);c&&console.log(c),console.log("config sent")},{throttle:200}),(u,c)=>(P(),V("section",Wy,[I("div",Ky,[I("button",{class:"flex-1",onClick:c[0]||(c[0]=f=>a())},"Receive Config"),I("p",null,"IN "+fe(N(n)?.join(" ")),1),I("p",null,"OUT "+fe(N(s)?.join(" ")),1)]),I("pre",zy,fe(N(t))+" ",1)]))}},Yy={__name:"SabreBlade",setup(e){const{state:t}=Ss(),{color:n,hsl:s}=Io();return(o,i)=>(P(),V("div",{class:"flex-0 h-60 mx-0 transition-transform duration-700 origin-center-bottom rounded-lg m-0 border-5",style:ue({transform:`scaleY(${N(t).lightState?1:0})`,background:`hsla(0deg,0%,100%,${N(n).v/50})`,borderColor:N(s),boxShadow:`0px 0px 40px 10px ${N(s)}`})},null,4))}},Xy={class:"flex flex-col gap-2 items-center w-full"},Jy={class:"flex flex-wrap relative font-mono text-xs"},Qy={class:"p-1 text-center w-20",style:{flex:"0 1 80px"}},Zy={class:"p-0"},e_={__name:"ControlState",setup(e){const{state:t,inState:n,outState:s,timestamp:o}=Ss(),{stateCharacteristic:i}=Ji();sh(i,()=>{i.value.addEventListener("characteristicvaluechanged",l=>{n.value=new Uint8Array(l.target.value.buffer)}),i.value.startNotifications(),xe(s,l=>{i.value.writeValue(l)})});const r=q(()=>({roll:t.rollCentiDeg/100,pitch:t.pitchCentiDeg/100,yaw:t.yawCentiDeg/100}));return(l,a)=>(P(),V("section",Xy,[I("div",Jy,[(P(!0),V(de,null,Je(r.value,(u,c)=>(P(),V("div",Qy,[Mt(fe(c)+" ",1),I("div",Zy,fe(u.toFixed())+"°",1)]))),256)),I("div",{class:"p-8 absolute right-20 -top-30 pointer-events-none",style:ue({transform:`rotateX(${r.value.roll}deg) rotateY(${r.value.pitch}deg) rotateZ(${r.value.yaw}deg)`})},[J(Yy)],4)])]))}},t_=Po(e_,[["__scopeId","data-v-0ce29503"]]),n_={class:"grid p-8 sm-grid-cols-2 md-grid-cols-3 gap-8"},s_=I("div",{class:"i-carbon-calibrate"},null,-1),o_=I("div",{class:"p-0"},"Calibrate IMU",-1),i_=[s_,o_],r_={__name:"PageDebug",setup(e){const{state:t,toggleLightState:n,calibrateIMU:s}=Ss();return(o,i)=>(P(),V("article",n_,[J(t_,{class:"flex-0"}),I("button",{class:"opacity-50 hover-opacity-100 flex gap-4 items-center",onClick:i[0]||(i[0]=r=>N(s)()),title:"Calibrate IMU"},i_),J(qy)]))}},l_=[{path:"/",component:jy},{path:"/nodes/",component:B0},{path:"/debug/",component:r_}],a_=zp({history:dp(),routes:l_}),hu=Wf(dm);hu.use(a_);hu.mount("#app");

</script>
  <style>
a.router-link-active{opacity:1!important}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:var(--un-default-border-color, #e5e7eb)}:before,:after{--un-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgb(0 0 0 / 0);--un-ring-shadow:0 0 rgb(0 0 0 / 0);--un-shadow-inset: ;--un-shadow:0 0 rgb(0 0 0 / 0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgb(147 197 253 / .5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }::backdrop{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgb(0 0 0 / 0);--un-ring-shadow:0 0 rgb(0 0 0 / 0);--un-shadow-inset: ;--un-shadow:0 0 rgb(0 0 0 / 0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgb(147 197 253 / .5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }.i-carbon-calibrate{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 32 32' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M28.83 21.17L25 17.37l.67-.67a1 1 0 0 0 0-1.41l-6-6a1 1 0 0 0-1.41 0l-.79.79l-6.76-6.79a1 1 0 0 0-1.41 0l-4 4l-.12.15l-4 6a1 1 0 0 0 .12 1.26l3 3a1 1 0 0 0 1.42 0L10 13.41l2.09 2.09l-4.8 4.79a1 1 0 0 0 0 1.41l2 2a1 1 0 0 0 .71.3a1 1 0 0 0 .52-.15l4.33-2.6l2.44 2.45a1 1 0 0 0 1.41 0l.67-.7l3.79 3.83a4 4 0 0 0 5.66-5.66ZM10 10.58l-5 5l-1.71-1.71l3.49-5.24L10 5.41l6.09 6.09l-2.59 2.58Zm8 11l-2.84-2.84l-5 3l-.74-.74L19 11.41L23.59 16Zm9.42 3.83a2 2 0 0 1-2.83 0l-3.8-3.79l2.83-2.83l3.8 3.79a2 2 0 0 1 0 2.83'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-fa6-solid-jedi{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 576 512' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='m246 315.7l-21.2-31.9c-2.1-3.2-1.7-7.4 1-10.1s6.9-3.1 10.1-1l29.5 19.7c2.1 1.4 4.9 0 5-2.6L279.7 8c.1-4.5 3.8-8 8.3-8s8.1 3.5 8.3 8l9.4 281.9c.1 2.5 2.9 3.9 5 2.6l29.5-19.7c3.2-2.1 7.4-1.7 10.1 1s3.1 6.9 1 10.1L330 315.7c-1.3 1.9-.2 4.5 2 4.9l37.6 7.5c3.7.7 6.4 4 6.4 7.8s-2.7 7.1-6.4 7.8l-37.6 7.7c-2.2.4-3.3 3-2 4.9l21.2 31.9c2.1 3.2 1.7 7.4-1 10.1s-6.9 3.1-10.1 1l-26.3-17.6c-2.2-1.4-5.1.2-5 2.8l2.1 61.5C370.6 435.2 416 382.9 416 320c0-37-15.7-70.4-40.8-93.7c-7-6.5-6.5-18.6 1-24.4C410.1 175.5 432 134.3 432 88c0-16.8-2.9-33-8.2-48c-4.6-13 10.2-30 21.4-22c53.5 38 92.7 94.8 107.8 160.7c.5 2.1-.2 4.3-1.7 5.9L522.9 213c-4 4-1.2 10.9 4.5 10.9h26c3.4 0 6.2 2.6 6.3 6c.1 3.3.2 6.6.2 10c0 17.5-1.7 34.7-4.8 51.3c-.2 1.2-.9 2.4-1.7 3.3L506.9 341c-4 4-1.2 10.9 4.5 10.9H526c4.6 0 7.7 4.8 5.7 9C487.2 450.5 394.8 512 288 512S88.8 450.5 44.3 361c-2.1-4.2 1-9 5.7-9h14.5c5.7 0 8.6-6.9 4.5-10.9l-46.4-46.5c-.9-.9-1.5-2-1.7-3.3c-3.2-16.6-4.9-33.8-4.9-51.3c0-3.3.1-6.7.2-10c.1-3.4 2.9-6 6.3-6h26c5.7 0 8.6-6.9 4.5-10.9l-28.4-28.5c-1.5-1.5-2.2-3.8-1.7-5.9C38.1 112.8 77.3 56 130.8 18c11.3-8 26 8.9 21.4 22c-5.3 15-8.2 31.2-8.2 48c0 46.3 21.9 87.5 55.8 113.9c7.5 5.8 8 17.9 1 24.4C175.7 249.6 160 283 160 320c0 62.9 45.4 115.2 105.1 126l2.1-61.5c.1-2.6-2.8-4.2-5-2.8l-26.3 17.6c-3.2 2.1-7.4 1.7-10.1-1s-3.1-6.9-1-10.1l21.2-31.9c1.3-1.9.2-4.5-2-4.9l-37.6-7.5c-3.7-.7-6.4-4-6.4-7.8s2.7-7.1 6.4-7.8l37.6-7.5c2.2-.4 3.3-3 2-4.9z'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-la-home{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 32 32' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='m16 2.594l-.719.687l-13 13L3.72 17.72L5 16.437V28h9V18h4v10h9V16.437l1.281 1.282l1.438-1.438l-13-13zm0 2.844l9 9V26h-5V16h-8v10H7V14.437z'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-ph-bluetooth{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 256 256' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M188.8 169.6L133.33 128l55.47-41.6a8 8 0 0 0 0-12.8l-64-48A8 8 0 0 0 112 32v80L60.8 73.6a8 8 0 0 0-9.6 12.8l55.47 41.6l-55.47 41.6a8 8 0 1 0 9.6 12.8L112 144v80a8 8 0 0 0 12.8 6.4l64-48a8 8 0 0 0 0-12.8M128 48l42.67 32L128 112Zm0 160v-64l42.67 32Z'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-ph-bluetooth-slash{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 256 256' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='m213.92 210.62l-160-176a8 8 0 1 0-11.84 10.76l70.84 77.93L51.2 169.6a8 8 0 1 0 9.6 12.8L112 144v80a8 8 0 0 0 12.8 6.4l50.83-38.12l26.45 29.1a8 8 0 1 0 11.84-10.76M128 208v-64l11.73 8.8l25.08 27.59ZM112 71.63V32a8 8 0 0 1 12.8-6.4l64 48a8 8 0 0 1 0 12.8l-33.53 25.15a8 8 0 0 1-9.6-12.8l25-18.75L128 48v23.63a8 8 0 0 1-16 0'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-ph-graph{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 256 256' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M200 152a31.84 31.84 0 0 0-19.53 6.68l-23.11-18A31.65 31.65 0 0 0 160 128c0-.74 0-1.48-.08-2.21l13.23-4.41A32 32 0 1 0 168 104c0 .74 0 1.48.08 2.21l-13.23 4.41A32 32 0 0 0 128 96a32.59 32.59 0 0 0-5.27.44L115.89 81A32 32 0 1 0 96 88a32.59 32.59 0 0 0 5.27-.44l6.84 15.4a31.92 31.92 0 0 0-8.57 39.64l-25.71 22.84a32.06 32.06 0 1 0 10.63 12l25.71-22.84a31.91 31.91 0 0 0 37.36-1.24l23.11 18A31.65 31.65 0 0 0 168 184a32 32 0 1 0 32-32m0-64a16 16 0 1 1-16 16a16 16 0 0 1 16-16M80 56a16 16 0 1 1 16 16a16 16 0 0 1-16-16M56 208a16 16 0 1 1 16-16a16 16 0 0 1-16 16m56-80a16 16 0 1 1 16 16a16 16 0 0 1-16-16m88 72a16 16 0 1 1 16-16a16 16 0 0 1-16 16'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.pointer-events-none{pointer-events:none}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.-top-30{top:-7.5rem}.bottom-0{bottom:0}.left-0{left:0}.right-0{right:0}.right-2{right:.5rem}.right-20{right:5rem}.top-0{top:0}.top-1{top:.25rem}.z-100{z-index:100}.z-20{z-index:20}.grid{display:grid}.col-span-2{grid-column:span 2/span 2}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.m-0{margin:0}.mx-0{margin-left:0;margin-right:0}.mx-2{margin-left:.5rem;margin-right:.5rem}.ml-4{margin-left:1rem}.mr-2{margin-right:.5rem}.h-1{height:.25rem}.h-100dvh{height:100dvh}.h-60{height:15rem}.h-full{height:100%}.max-h-120{max-height:30rem}.min-h-100svh{min-height:100svh}.min-h-16{min-height:4rem}.min-w-30{min-width:7.5rem}.min-w-70{min-width:17.5rem}.w-1{width:.25rem}.w-20{width:5rem}.w-4{width:1rem}.w-full{width:100%}.flex{display:flex}.flex-1{flex:1 1 0%}.flex-auto{flex:1 1 auto}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.origin-center-bottom{transform-origin:center bottom}.scale-150{--un-scale-x:1.5;--un-scale-y:1.5;transform:translate(var(--un-translate-x)) translateY(var(--un-translate-y)) translateZ(var(--un-translate-z)) rotate(var(--un-rotate)) rotateX(var(--un-rotate-x)) rotateY(var(--un-rotate-y)) rotate(var(--un-rotate-z)) skew(var(--un-skew-x)) skewY(var(--un-skew-y)) scaleX(var(--un-scale-x)) scaleY(var(--un-scale-y)) scaleZ(var(--un-scale-z))}.transform{transform:translate(var(--un-translate-x)) translateY(var(--un-translate-y)) translateZ(var(--un-translate-z)) rotate(var(--un-rotate)) rotateX(var(--un-rotate-x)) rotateY(var(--un-rotate-y)) rotate(var(--un-rotate-z)) skew(var(--un-skew-x)) skewY(var(--un-skew-y)) scaleX(var(--un-scale-x)) scaleY(var(--un-scale-y)) scaleZ(var(--un-scale-z))}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}.cursor-pointer{cursor:pointer}.cursor-grab{cursor:grab}.active-cursor-grabbing:active{cursor:grabbing}.select-none{-webkit-user-select:none;user-select:none}.items-end{align-items:flex-end}.items-center{align-items:center}.gap-0{gap:0}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.overflow-hidden{overflow:hidden}.overflow-scroll{overflow:scroll}.border-1{border-width:1px}.border-5{border-width:5px}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-xl{border-radius:.75rem}.bg-dark-100{--un-bg-opacity:1;background-color:rgb(60 60 60 / var(--un-bg-opacity))}.bg-dark-200{--un-bg-opacity:1;background-color:rgb(50 50 50 / var(--un-bg-opacity))}.bg-dark-400{--un-bg-opacity:1;background-color:rgb(34 34 34 / var(--un-bg-opacity))}.bg-dark-700{--un-bg-opacity:1;background-color:rgb(27 27 27 / var(--un-bg-opacity))}.bg-dark-900{--un-bg-opacity:1;background-color:rgb(15 15 15 / var(--un-bg-opacity))}.bg-gray{--un-bg-opacity:1;background-color:rgb(156 163 175 / var(--un-bg-opacity))}.bg-light-200{--un-bg-opacity:1;background-color:rgb(250 250 250 / var(--un-bg-opacity))}.bg-light-400{--un-bg-opacity:1;background-color:rgb(246 246 246 / var(--un-bg-opacity))}.bg-white{--un-bg-opacity:1;background-color:rgb(255 255 255 / var(--un-bg-opacity))}.hover-bg-dark-100:hover{--un-bg-opacity:1;background-color:rgb(60 60 60 / var(--un-bg-opacity))}.active-bg-dark-500:active{--un-bg-opacity:1;background-color:rgb(31 31 31 / var(--un-bg-opacity))}.bg-opacity-24{--un-bg-opacity:.24}.bg-opacity-40{--un-bg-opacity:.4}.bg-opacity-50{--un-bg-opacity:.5}.p-0{padding:0}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.p-8{padding:2rem}.px{padding-left:1rem;padding-right:1rem}.px-2{padding-left:.5rem;padding-right:.5rem}.pl-2px{padding-left:2px}.pt-2px{padding-top:2px}.pt-5{padding-top:1.25rem}.pt-8{padding-top:2rem}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.text-light-300{--un-text-opacity:1;color:rgb(248 249 250 / var(--un-text-opacity))}.text-white{--un-text-opacity:1;color:rgb(255 255 255 / var(--un-text-opacity))}.font-bold{font-weight:700}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.\!opacity-100{opacity:1!important}.op-40{opacity:.4}.op-70{opacity:.7}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-80{opacity:.8}.hover-opacity-100:hover{opacity:1}.mix-blend-difference{mix-blend-mode:difference}.shadow-sm{--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.hover-shadow-lg:hover{--un-shadow:var(--un-shadow-inset) 0 10px 15px -3px var(--un-shadow-color, rgb(0 0 0 / .1)),var(--un-shadow-inset) 0 4px 6px -4px var(--un-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.active-shadow-sm:active{--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.backdrop-blur-lg{--un-backdrop-blur:blur(16px);-webkit-backdrop-filter:var(--un-backdrop-blur) var(--un-backdrop-brightness) var(--un-backdrop-contrast) var(--un-backdrop-grayscale) var(--un-backdrop-hue-rotate) var(--un-backdrop-invert) var(--un-backdrop-opacity) var(--un-backdrop-saturate) var(--un-backdrop-sepia);backdrop-filter:var(--un-backdrop-blur) var(--un-backdrop-brightness) var(--un-backdrop-contrast) var(--un-backdrop-grayscale) var(--un-backdrop-hue-rotate) var(--un-backdrop-invert) var(--un-backdrop-opacity) var(--un-backdrop-saturate) var(--un-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-700{transition-duration:.7s}@media (min-width: 640px){.sm-grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm-mx-6{margin-left:1.5rem;margin-right:1.5rem}.sm-text-3xl{font-size:1.875rem;line-height:2.25rem}}@media (min-width: 768px){.md-grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 1280px){.xl-grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 1536px){.\32xl-grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}:root{--baklava-control-color-primary: #e28b46;--baklava-control-color-error: #d00000;--baklava-control-color-background: #2c3748;--baklava-control-color-foreground: white;--baklava-control-color-hover: #455670;--baklava-control-color-active: #556986;--baklava-control-color-disabled-foreground: #666c75;--baklava-control-border-radius: 3px;--baklava-sidebar-color-background: #1b202c;--baklava-sidebar-color-foreground: white;--baklava-node-color-background: #1b202c;--baklava-node-color-foreground: white;--baklava-node-color-hover: #e28c4677;--baklava-node-color-selected: var(--baklava-control-color-primary);--baklava-node-color-resize-handle: var(--baklava-control-color-background);--baklava-node-title-color-background: #151a24;--baklava-node-title-color-foreground: white;--baklava-group-node-title-color-background: #215636;--baklava-group-node-title-color-foreground: white;--baklava-node-interface-port-tooltip-color-foreground: var(--baklava-control-color-primary);--baklava-node-interface-port-tooltip-color-background: var(--baklava-editor-background-pattern-black);--baklava-node-border-radius: 6px;--baklava-color-connection-default: #737f96;--baklava-color-connection-allowed: #48bc79;--baklava-color-connection-forbidden: #bc4848;--baklava-editor-background-pattern-default: #202b3c;--baklava-editor-background-pattern-line: #263140;--baklava-editor-background-pattern-black: #263140;--baklava-context-menu-background: #1b202c;--baklava-context-menu-shadow: 0 0 8px rgba(0, 0, 0, .65);--baklava-toolbar-background: #1b202caa;--baklava-toolbar-foreground: white;--baklava-node-palette-background: #1b202caa;--baklava-node-palette-foreground: white;--baklava-visual-transition: .1s linear}.baklava-button{background-color:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);transition:background-color var(--baklava-visual-transition);border:none;padding:.45em .35em;border-radius:var(--baklava-control-border-radius);font-size:inherit;cursor:pointer;overflow-x:hidden}.baklava-button:hover{background-color:var(--baklava-control-color-hover)}.baklava-button:active{background-color:var(--baklava-control-color-primary)}.baklava-button.--block{width:100%}.baklava-checkbox{display:flex;padding:.35em 0;cursor:pointer;overflow-x:hidden;align-items:center}.baklava-checkbox .__checkmark-container{display:flex;background-color:var(--baklava-control-color-background);border-radius:var(--baklava-control-border-radius);transition:background-color var(--baklava-visual-transition);width:18px;height:18px}.baklava-checkbox:hover .__checkmark-container{background-color:var(--baklava-control-color-hover)}.baklava-checkbox:active .__checkmark-container{background-color:var(--baklava-control-color-active)}.baklava-checkbox .__checkmark{stroke-dasharray:15;stroke-dashoffset:15;stroke:var(--baklava-control-color-foreground);stroke-width:2px;fill:none;transition:stroke-dashoffset var(--baklava-visual-transition)}.baklava-checkbox.--checked .__checkmark{stroke-dashoffset:0}.baklava-checkbox.--checked .__checkmark-container{background-color:var(--baklava-control-color-primary)}.baklava-checkbox .__label{margin-left:.5rem}.baklava-context-menu{color:var(--baklava-control-color-foreground);position:absolute;display:inline-block;z-index:100;background-color:var(--baklava-context-menu-background);box-shadow:var(--baklava-context-menu-shadow);border-radius:0 0 var(--baklava-control-border-radius) var(--baklava-control-border-radius);min-width:6rem;width:max-content}.baklava-context-menu>.item{display:flex;align-items:center;padding:.35em 1em;transition:background .05s linear;position:relative}.baklava-context-menu>.item>.__label{flex:1 1 auto}.baklava-context-menu>.item>.__submenu-icon{margin-left:.75rem}.baklava-context-menu>.item.--disabled{color:var(--baklava-control-color-hover)}.baklava-context-menu>.item:not(.--header):not(.--active):not(.--disabled):hover{background:var(--baklava-control-color-primary)}.baklava-context-menu>.item.--active{background:var(--baklava-control-color-primary)}.baklava-context-menu.--nested{left:100%;top:0}.baklava-context-menu.--flipped-x.--nested{left:unset;right:100%}.baklava-context-menu.--flipped-y.--nested{top:unset;bottom:0}.baklava-context-menu>.divider{margin:.35em 0;height:1px;background-color:var(--baklava-control-color-hover)}.baklava-icon{display:block;height:100%}.baklava-icon.--clickable{cursor:pointer;transition:color var(--baklava-visual-transition)}.baklava-icon.--clickable:hover{color:var(--baklava-control-color-primary)}.baklava-input{background-color:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);caret-color:var(--baklava-control-color-primary);border:none;border-radius:var(--baklava-control-border-radius);padding:.45em .75em;width:100%;transition:background-color var(--baklava-visual-transition);font-size:inherit;font:inherit}.baklava-input:hover{background-color:var(--baklava-control-color-hover)}.baklava-input:active{background-color:var(--baklava-control-color-active)}.baklava-input:focus-visible{outline:1px solid var(--baklava-control-color-primary)}.baklava-input[type=number]::-webkit-inner-spin-button,.baklava-input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.baklava-input.--invalid{box-shadow:0 0 2px 2px var(--baklava-control-color-error)}.baklava-num-input{background:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);border-radius:var(--baklava-control-border-radius);width:100%;display:grid;grid-template-columns:20px 1fr 20px}.baklava-num-input>.__button{display:flex;flex:0 0 auto;width:20px;justify-content:center;align-items:center;transition:background var(--baklava-visual-transition);cursor:pointer}.baklava-num-input>.__button:hover{background-color:var(--baklava-control-color-hover)}.baklava-num-input>.__button:active{background-color:var(--baklava-control-color-active)}.baklava-num-input>.__button.--dec{grid-area:1/1/span 1/span 1}.baklava-num-input>.__button.--dec>svg{transform:rotate(90deg)}.baklava-num-input>.__button.--inc{grid-area:1/3/span 1/span 1}.baklava-num-input>.__button.--inc>svg{transform:rotate(-90deg)}.baklava-num-input>.__button path{stroke:var(--baklava-control-color-foreground);fill:var(--baklava-control-color-foreground)}.baklava-num-input>.__content{grid-area:1/2/span 1/span 1;display:inline-flex;cursor:pointer;max-width:100%;min-width:0;align-items:center;transition:background-color var(--baklava-visual-transition)}.baklava-num-input>.__content:hover{background-color:var(--baklava-control-color-hover)}.baklava-num-input>.__content:active{background-color:var(--baklava-control-color-active)}.baklava-num-input>.__content>.__label,.baklava-num-input>.__content>.__value{margin:.35em 0;padding:0 .5em}.baklava-num-input>.__content>.__label{flex:1;min-width:0;overflow:hidden}.baklava-num-input>.__content>.__value{text-align:right}.baklava-num-input>.__content>input{background-color:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);caret-color:var(--baklava-control-color-primary);padding:.35em;width:100%}.baklava-select{width:100%;position:relative;color:var(--baklava-control-color-foreground)}.baklava-select.--open>.__selected{border-bottom-left-radius:0;border-bottom-right-radius:0}.baklava-select.--open>.__selected>.__icon{transform:rotate(180deg)}.baklava-select>.__selected{background-color:var(--baklava-control-color-background);padding:.35em .75em;border-radius:var(--baklava-control-border-radius);transition:background var(--baklava-visual-transition);min-height:1.7em;display:flex;align-items:center;cursor:pointer}.baklava-select>.__selected:hover{background:var(--baklava-control-color-hover)}.baklava-select>.__selected:active{background:var(--baklava-control-color-active)}.baklava-select>.__selected>.__text{flex:1 0 auto;flex-basis:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.baklava-select>.__selected>.__icon{flex:0 0 auto;display:flex;justify-content:center;align-items:center;transition:transform .25s ease;width:18px;height:18px}.baklava-select>.__selected>.__icon path{stroke:var(--baklava-control-color-foreground);fill:var(--baklava-control-color-foreground)}.baklava-select>.__dropdown{position:absolute;top:100%;left:0;right:0;z-index:10;background-color:var(--baklava-context-menu-background);filter:drop-shadow(0 0 4px black);border-radius:0 0 var(--baklava-control-border-radius) var(--baklava-control-border-radius);max-height:15em;overflow-y:scroll}.baklava-select>.__dropdown::-webkit-scrollbar{width:0px;background:transparent}.baklava-select>.__dropdown>.item{padding:.35em .35em .35em 1em;transition:background .05s linear}.baklava-select>.__dropdown>.item:not(.--header):not(.--active){cursor:pointer}.baklava-select>.__dropdown>.item:not(.--header):not(.--active):hover{background:var(--baklava-control-color-hover)}.baklava-select>.__dropdown>.item.--active{background:var(--baklava-control-color-primary)}.baklava-select>.__dropdown>.item.--header{color:var(--baklava-control-color-disabled-foreground);border-bottom:1px solid var(--baklava-control-color-disabled-foreground);padding:.5em .35em .5em 1em}.baklava-slider{background:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);border-radius:var(--baklava-control-border-radius);position:relative;cursor:pointer}.baklava-slider>.__content{display:flex;position:relative}.baklava-slider>.__content>.__label,.baklava-slider>.__content>.__value{flex:1 1 auto;margin:.35em 0;padding:0 .5em;text-overflow:ellipsis}.baklava-slider>.__content>.__value{text-align:right}.baklava-slider>.__content>input{background-color:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);caret-color:var(--baklava-control-color-primary);padding:.35em;width:100%}.baklava-slider>.__slider{position:absolute;top:0;bottom:0;left:0;background-color:var(--baklava-control-color-primary);border-radius:var(--baklava-control-border-radius)}.baklava-connection{stroke:var(--baklava-color-connection-default);stroke-width:2px;fill:none}.baklava-connection.--temporary{stroke-width:4px;stroke-dasharray:5 5;stroke-dashoffset:0;animation:dash 1s linear infinite;transform:translateY(-1px)}@keyframes dash{to{stroke-dashoffset:20}}.baklava-connection.--allowed{stroke:var(--baklava-color-connection-allowed)}.baklava-connection.--forbidden{stroke:var(--baklava-color-connection-forbidden)}.baklava-minimap{position:absolute;height:15%;width:15%;min-width:150px;max-width:90%;top:20px;right:20px;z-index:900}.baklava-editor{width:100%;height:100%;position:relative;overflow:hidden;outline:none!important;font-family:Lato,Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:15px;touch-action:none}.baklava-editor .background{background-color:var(--baklava-editor-background-pattern-default);background-image:linear-gradient(var(--baklava-editor-background-pattern-black) 2px,transparent 2px),linear-gradient(90deg,var(--baklava-editor-background-pattern-black) 2px,transparent 2px),linear-gradient(var(--baklava-editor-background-pattern-line) 1px,transparent 1px),linear-gradient(90deg,var(--baklava-editor-background-pattern-line) 1px,transparent 1px);background-repeat:repeat;width:100%;height:100%;pointer-events:none!important}.baklava-editor *:not(input):not(textarea){user-select:none;-moz-user-select:none;-webkit-user-select:none;touch-action:none}.baklava-editor .input-user-select{user-select:auto;-moz-user-select:auto;-webkit-user-select:auto}.baklava-editor *,.baklava-editor *:after,.baklava-editor *:before{box-sizing:border-box}.baklava-editor.--temporary-connection{cursor:crosshair}.baklava-editor .connections-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none!important}.baklava-editor .node-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.baklava-editor .node-container *{pointer-events:all}.baklava-ignore-mouse *{pointer-events:none!important}.baklava-ignore-mouse .__port{pointer-events:all!important}.baklava-node-interface{padding:.25em 0;position:relative}.baklava-node-interface .__port{position:absolute;width:10px;height:10px;background:white;border-radius:50%;top:calc(50% - 5px);cursor:crosshair}.baklava-node-interface .__port.--selected{outline:2px var(--baklava-color-connection-default) solid;outline-offset:4px}.baklava-node-interface.--input{text-align:left;padding-left:.5em}.baklava-node-interface.--input .__port{left:-1.1em}.baklava-node-interface.--output{text-align:right;padding-right:.5em}.baklava-node-interface.--output .__port{right:-1.1em}.baklava-node-interface .__tooltip{position:absolute;left:5px;top:15px;transform:translate(-50%);background:var(--baklava-node-interface-port-tooltip-color-background);color:var(--baklava-node-interface-port-tooltip-color-foreground);padding:.25em .5em;text-align:center;z-index:2}.baklava-node-palette{position:absolute;left:0;top:60px;width:250px;height:calc(100% - 60px);z-index:3;padding:2rem;overflow-y:auto;background:var(--baklava-node-palette-background);color:var(--baklava-node-palette-foreground)}.baklava-node-palette h1{margin-top:2rem}.baklava-node.--palette{position:unset;margin:1rem 0;cursor:grab}.baklava-node.--palette:first-child{margin-top:0}.baklava-node.--palette .__title{padding:.5rem;border-radius:var(--baklava-node-border-radius)}.baklava-dragged-node{position:absolute;width:calc(250px - 4rem);height:40px;z-index:4;pointer-events:none}.baklava-node{background:var(--baklava-node-color-background);color:var(--baklava-node-color-foreground);border:1px solid transparent;border-radius:var(--baklava-node-border-radius);position:absolute;box-shadow:0 0 4px #000c;transition:border-color var(--baklava-visual-transition),box-shadow var(--baklava-visual-transition);width:var(--width)}.baklava-node:hover{border-color:var(--baklava-node-color-hover)}.baklava-node:hover .__resize-handle:after{opacity:1}.baklava-node.--selected{z-index:5;border-color:var(--baklava-node-color-selected)}.baklava-node.--dragging{box-shadow:0 0 12px #000c}.baklava-node.--dragging>.__title{cursor:grabbing}.baklava-node>.__title{display:flex;background:var(--baklava-node-title-color-background);color:var(--baklava-node-title-color-foreground);padding:.4em .75em;border-radius:var(--baklava-node-border-radius) var(--baklava-node-border-radius) 0 0;cursor:grab}.baklava-node>.__title>*:first-child{flex-grow:1}.baklava-node>.__title>.__title-label{pointer-events:none}.baklava-node>.__title>.__menu{position:relative;cursor:initial}.baklava-node[data-node-type^=__baklava_]>.__title{background:var(--baklava-group-node-title-color-background);color:var(--baklava-group-node-title-color-foreground)}.baklava-node>.__content{padding:.75em}.baklava-node>.__content>div>div{margin:.5em 0}.baklava-node.--two-column>.__content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto auto;grid-template-areas:". ." ". ."}.baklava-node.--two-column>.__content>.__inputs{grid-row:1;grid-column:1}.baklava-node.--two-column>.__content>.__outputs{grid-row:1;grid-column:2}.baklava-node .__resize-handle{position:absolute;right:0;bottom:0;width:1rem;height:1rem;transform:translate(50%);cursor:ew-resize}.baklava-node .__resize-handle:after{content:"";position:absolute;bottom:0;left:-.5rem;width:1rem;height:1rem;opacity:0;border-bottom-right-radius:var(--baklava-node-border-radius);transition:opacity var(--baklava-visual-transition);background:linear-gradient(-45deg,transparent 10%,var(--baklava-node-color-resize-handle) 10%,var(--baklava-node-color-resize-handle) 15%,transparent 15%,transparent 30%,var(--baklava-node-color-resize-handle) 30%,var(--baklava-node-color-resize-handle) 35%,transparent 35%,transparent 50%,var(--baklava-node-color-resize-handle) 50%,var(--baklava-node-color-resize-handle) 55%,transparent 55%)}.baklava-sidebar{position:absolute;height:100%;width:25%;min-width:300px;max-width:90%;top:0;right:0;z-index:1000;background-color:var(--baklava-sidebar-color-background);color:var(--baklava-sidebar-color-foreground);box-shadow:none;overflow-x:hidden;padding:1em;transform:translate(100%);transition:transform .5s;display:flex;flex-direction:column}.baklava-sidebar.--open{transform:translate(0);box-shadow:0 0 15px #000}.baklava-sidebar .__resizer{position:absolute;left:0;top:0;height:100%;width:4px;cursor:col-resize}.baklava-sidebar .__header{display:flex;align-items:center}.baklava-sidebar .__header .__node-name{margin-left:.5rem}.baklava-sidebar .__close{font-size:2em;border:none;background:none;color:inherit;cursor:pointer}.baklava-sidebar .__interface{margin:.5em 0}.baklava-toolbar{position:absolute;left:0;top:0;width:100%;height:60px;z-index:3;padding:.5rem 2rem;background:var(--baklava-toolbar-background);color:var(--baklava-toolbar-foreground);display:flex;align-items:center}.baklava-toolbar-entry{margin-left:.5rem;margin-right:.5rem}.baklava-toolbar-button{color:var(--baklava-toolbar-foreground);background:none;border:none;transition:color var(--baklava-visual-transition)}.baklava-toolbar-button:not([disabled]){cursor:pointer}.baklava-toolbar-button:hover:not([disabled]){color:var(--baklava-control-color-primary)}.baklava-toolbar-button[disabled]{color:var(--baklava-control-color-disabled-foreground)}.slide-fade-enter-active,.slide-fade-leave-active{transition:all .1s ease-out}.slide-fade-enter-from,.slide-fade-leave-to{transform:translateY(5px);opacity:0}.fade-enter-active,.fade-leave-active{transition:opacity .1s ease-out!important}.fade-enter-from,.fade-leave-to{opacity:0}.control[data-v-c1d595ea]{position:relative;display:flex;cursor:grab;align-items:flex-end;overflow:hidden;border-radius:.25rem;--un-bg-opacity:1;background-color:rgb(156 163 175 / var(--un-bg-opacity));padding:.25rem;.param[data-v-c1d595ea]{padding:0;padding-top:1.25rem;font-weight:700;mix-blend-mode:difference}.line[data-v-c1d595ea]{position:absolute;top:0;bottom:0;width:.25rem;--un-bg-opacity:1;background-color:rgb(255 255 255 / var(--un-bg-opacity));padding-top:2px;mix-blend-mode:difference}}.control[data-v-c1d595ea]:active{cursor:grabbing}.control[data-v-65edc97b]{position:relative;display:flex;cursor:grab;align-items:flex-end;border-radius:.25rem;--un-bg-opacity:1;background-color:rgb(156 163 175 / var(--un-bg-opacity));.param[data-v-65edc97b]{padding:.25rem;font-weight:700;mix-blend-mode:difference}.line[data-v-65edc97b]{position:absolute;top:0;bottom:0;width:.25rem;--un-bg-opacity:1;background-color:rgb(255 255 255 / var(--un-bg-opacity));mix-blend-mode:difference}}.control[data-v-65edc97b]:active{cursor:grabbing}.control[data-v-23c2c051]{position:relative;display:flex;cursor:grab;align-items:flex-end;overflow:hidden;border-radius:.75rem;--un-bg-opacity:1;background-color:rgb(156 163 175 / var(--un-bg-opacity));padding:.25rem;.param[data-v-23c2c051]{padding:0;padding-top:1.25rem;font-weight:700;mix-blend-mode:difference}.line[data-v-23c2c051]{position:absolute;top:0;bottom:0;width:.25rem;--un-bg-opacity:1;background-color:rgb(255 255 255 / var(--un-bg-opacity));padding-top:2px}}.control[data-v-23c2c051]:active{cursor:grabbing}button{border-width:1px;border-radius:.5rem;--un-bg-opacity:1;background-color:rgb(50 50 50 / var(--un-bg-opacity));padding:1rem;--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow);transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;&.active{--un-bg-opacity:1;background-color:rgb(15 15 15 / var(--un-bg-opacity));font-weight:700}}button:hover{--un-bg-opacity:1;background-color:rgb(60 60 60 / var(--un-bg-opacity));--un-shadow:var(--un-shadow-inset) 0 10px 15px -3px var(--un-shadow-color, rgb(0 0 0 / .1)),var(--un-shadow-inset) 0 4px 6px -4px var(--un-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}button:active{--un-bg-opacity:1;background-color:rgb(31 31 31 / var(--un-bg-opacity));--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}button[data-v-0ce29503]{border-width:1px;border-radius:.5rem;--un-bg-opacity:1;background-color:rgb(50 50 50 / var(--un-bg-opacity));padding:.5rem;--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow);transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}button[data-v-0ce29503]:hover{--un-bg-opacity:1;background-color:rgb(60 60 60 / var(--un-bg-opacity));--un-shadow:var(--un-shadow-inset) 0 10px 15px -3px var(--un-shadow-color, rgb(0 0 0 / .1)),var(--un-shadow-inset) 0 4px 6px -4px var(--un-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}button[data-v-0ce29503]:active{--un-bg-opacity:1;background-color:rgb(31 31 31 / var(--un-bg-opacity));--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}

</style>
</head>

<body style="background-color: black">
	<div id="app"></div>
</body>

</html>