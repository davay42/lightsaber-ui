<!DOCTYPE html>
<html lang="en">

<head>
	<title>LightSaber UI</title>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<meta name="description" content="Control your LED light saber with our single file app. Made at Pirate Bay Phuket.">
	<meta name="robots" content="index,follow">
	<meta property="og:title" content="LED Light Saber Control App - Pirate Bay Phuket">
	<meta property="og:description"
		content="Control your LED light saber with our single file app. Made at Pirate Bay Phuket.">
	<meta property="og:image" content="cover.jpeg">
	<meta property="og:url" content="https://davay42.github.io/lightsaber-ui/">
	<meta name="twitter:card" content="summary_large_image">
	<link rel="manifest" href="site.webmanifest">
	<link rel="icon" type="image/png" sizes="192x192" href="./android-chrome-192x192.png">
	<link rel="icon" type="image/png" sizes="512x512" href="./android-chrome-512x512.png">

  <script type="module">/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Gi(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const ve={},$n=[],mt=()=>{},Su=()=>!1,bo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Hi=e=>e.startsWith("onUpdate:"),Te=Object.assign,Fi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Eu=Object.prototype.hasOwnProperty,ce=(e,t)=>Eu.call(e,t),Q=Array.isArray,Nn=e=>$s(e)==="[object Map]",ua=e=>$s(e)==="[object Set]",Tu=e=>$s(e)==="[object RegExp]",se=e=>typeof e=="function",Ee=e=>typeof e=="string",jn=e=>typeof e=="symbol",_e=e=>e!==null&&typeof e=="object",da=e=>(_e(e)||se(e))&&se(e.then)&&se(e.catch),fa=Object.prototype.toString,$s=e=>fa.call(e),Iu=e=>$s(e).slice(8,-1),ha=e=>$s(e)==="[object Object]",Bi=e=>Ee(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,as=Gi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wo=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Mu=/-(\w)/g,Tt=wo(e=>e.replace(Mu,(t,n)=>n?n.toUpperCase():"")),$u=/\B([A-Z])/g,an=wo(e=>e.replace($u,"-$1").toLowerCase()),Co=wo(e=>e.charAt(0).toUpperCase()+e.slice(1)),jo=wo(e=>e?`on${Co(e)}`:""),Pt=(e,t)=>!Object.is(e,t),On=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ro=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ai=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Nu=e=>{const t=Ee(e)?Number(e):NaN;return isNaN(t)?e:t};let Mr;const pa=()=>Mr||(Mr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ue(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=Ee(s)?ku(s):ue(s);if(o)for(const i in o)t[i]=o[i]}return t}else if(Ee(e)||_e(e))return e}const Ou=/;(?![^(]*\))/g,Au=/:([^]+)/,Pu=/\/\*[^]*?\*\//g;function ku(e){const t={};return e.replace(Pu,"").split(Ou).forEach(n=>{if(n){const s=n.split(Au);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Oe(e){let t="";if(Ee(e))t=e;else if(Q(e))for(let n=0;n<e.length;n++){const s=Oe(e[n]);s&&(t+=s+" ")}else if(_e(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Ru="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Du=Gi(Ru);function ma(e){return!!e||e===""}const de=e=>Ee(e)?e:e==null?"":Q(e)||_e(e)&&(e.toString===fa||!se(e.toString))?JSON.stringify(e,ga,2):String(e),ga=(e,t)=>t&&t.__v_isRef?ga(e,t.value):Nn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],i)=>(n[Wo(s,i)+" =>"]=o,n),{})}:ua(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Wo(n))}:jn(t)?Wo(t):_e(t)&&!Q(t)&&!ha(t)?String(t):t,Wo=(e,t="")=>{var n;return jn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let it;class Lu{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=it,!t&&it&&(this.index=(it.scopes||(it.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=it;try{return it=this,t()}finally{it=n}}}on(){it=this}off(){it=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function Gu(e,t=it){t&&t.active&&t.effects.push(e)}function Vi(){return it}function va(e){it&&it.cleanups.push(e)}let pn;class Ui{constructor(t,n,s,o){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Gu(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,bn();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Hu(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),wn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=rn,n=pn;try{return rn=!0,pn=this,this._runnings++,$r(this),this.fn()}finally{Nr(this),this._runnings--,pn=n,rn=t}}stop(){var t;this.active&&($r(this),Nr(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Hu(e){return e.value}function $r(e){e._trackId++,e._depsLength=0}function Nr(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)_a(e.deps[t],e);e.deps.length=e._depsLength}}function _a(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let rn=!0,ci=0;const ya=[];function bn(){ya.push(rn),rn=!1}function wn(){const e=ya.pop();rn=e===void 0?!0:e}function ji(){ci++}function Wi(){for(ci--;!ci&&ui.length;)ui.shift()()}function ba(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&_a(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const ui=[];function wa(e,t,n){ji();for(const s of e.keys()){let o;s._dirtyLevel<t&&(o??(o=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(o??(o=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&ui.push(s.scheduler)))}Wi()}const Ca=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},lo=new WeakMap,mn=Symbol(""),di=Symbol("");function nt(e,t,n){if(rn&&pn){let s=lo.get(e);s||lo.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=Ca(()=>s.delete(n))),ba(pn,o)}}function Bt(e,t,n,s,o,i){const r=lo.get(e);if(!r)return;let l=[];if(t==="clear")l=[...r.values()];else if(n==="length"&&Q(e)){const a=Number(s);r.forEach((u,c)=>{(c==="length"||!jn(c)&&c>=a)&&l.push(u)})}else switch(n!==void 0&&l.push(r.get(n)),t){case"add":Q(e)?Bi(n)&&l.push(r.get("length")):(l.push(r.get(mn)),Nn(e)&&l.push(r.get(di)));break;case"delete":Q(e)||(l.push(r.get(mn)),Nn(e)&&l.push(r.get(di)));break;case"set":Nn(e)&&l.push(r.get(mn));break}ji();for(const a of l)a&&wa(a,4);Wi()}function Fu(e,t){var n;return(n=lo.get(e))==null?void 0:n.get(t)}const Bu=Gi("__proto__,__v_isRef,__isVue"),xa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(jn)),Or=Vu();function Vu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=le(this);for(let i=0,r=this.length;i<r;i++)nt(s,"get",i+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(le)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){bn(),ji();const s=le(this)[t].apply(this,n);return Wi(),wn(),s}}),e}function Uu(e){const t=le(this);return nt(t,"has",e),t.hasOwnProperty(e)}class Sa{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,s){const o=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(o?i?Na:$a:i?Ma:Ia).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const r=Q(t);if(!o){if(r&&ce(Or,n))return Reflect.get(Or,n,s);if(n==="hasOwnProperty")return Uu}const l=Reflect.get(t,n,s);return(jn(n)?xa.has(n):Bu(n))||(o||nt(t,"get",n),i)?l:Ae(l)?r&&Bi(n)?l:l.value:_e(l)?o?Ki(l):Le(l):l}}class Ea extends Sa{constructor(t=!1){super(!1,t)}set(t,n,s,o){let i=t[n];if(!this._shallow){const a=_n(i);if(!ao(s)&&!_n(s)&&(i=le(i),s=le(s)),!Q(t)&&Ae(i)&&!Ae(s))return a?!1:(i.value=s,!0)}const r=Q(t)&&Bi(n)?Number(n)<t.length:ce(t,n),l=Reflect.set(t,n,s,o);return t===le(o)&&(r?Pt(s,i)&&Bt(t,"set",n,s):Bt(t,"add",n,s)),l}deleteProperty(t,n){const s=ce(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&Bt(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!jn(n)||!xa.has(n))&&nt(t,"has",n),s}ownKeys(t){return nt(t,"iterate",Q(t)?"length":mn),Reflect.ownKeys(t)}}class Ta extends Sa{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ju=new Ea,Wu=new Ta,zu=new Ea(!0),Ku=new Ta(!0),zi=e=>e,xo=e=>Reflect.getPrototypeOf(e);function Hs(e,t,n=!1,s=!1){e=e.__v_raw;const o=le(e),i=le(t);n||(Pt(t,i)&&nt(o,"get",t),nt(o,"get",i));const{has:r}=xo(o),l=s?zi:n?qi:gs;if(r.call(o,t))return l(e.get(t));if(r.call(o,i))return l(e.get(i));e!==o&&e.get(t)}function Fs(e,t=!1){const n=this.__v_raw,s=le(n),o=le(e);return t||(Pt(e,o)&&nt(s,"has",e),nt(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Bs(e,t=!1){return e=e.__v_raw,!t&&nt(le(e),"iterate",mn),Reflect.get(e,"size",e)}function Ar(e){e=le(e);const t=le(this);return xo(t).has.call(t,e)||(t.add(e),Bt(t,"add",e,e)),this}function Pr(e,t){t=le(t);const n=le(this),{has:s,get:o}=xo(n);let i=s.call(n,e);i||(e=le(e),i=s.call(n,e));const r=o.call(n,e);return n.set(e,t),i?Pt(t,r)&&Bt(n,"set",e,t):Bt(n,"add",e,t),this}function kr(e){const t=le(this),{has:n,get:s}=xo(t);let o=n.call(t,e);o||(e=le(e),o=n.call(t,e)),s&&s.call(t,e);const i=t.delete(e);return o&&Bt(t,"delete",e,void 0),i}function Rr(){const e=le(this),t=e.size!==0,n=e.clear();return t&&Bt(e,"clear",void 0,void 0),n}function Vs(e,t){return function(s,o){const i=this,r=i.__v_raw,l=le(r),a=t?zi:e?qi:gs;return!e&&nt(l,"iterate",mn),r.forEach((u,c)=>s.call(o,a(u),a(c),i))}}function Us(e,t,n){return function(...s){const o=this.__v_raw,i=le(o),r=Nn(i),l=e==="entries"||e===Symbol.iterator&&r,a=e==="keys"&&r,u=o[e](...s),c=n?zi:t?qi:gs;return!t&&nt(i,"iterate",a?di:mn),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:l?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function Kt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function qu(){const e={get(i){return Hs(this,i)},get size(){return Bs(this)},has:Fs,add:Ar,set:Pr,delete:kr,clear:Rr,forEach:Vs(!1,!1)},t={get(i){return Hs(this,i,!1,!0)},get size(){return Bs(this)},has:Fs,add:Ar,set:Pr,delete:kr,clear:Rr,forEach:Vs(!1,!0)},n={get(i){return Hs(this,i,!0)},get size(){return Bs(this,!0)},has(i){return Fs.call(this,i,!0)},add:Kt("add"),set:Kt("set"),delete:Kt("delete"),clear:Kt("clear"),forEach:Vs(!0,!1)},s={get(i){return Hs(this,i,!0,!0)},get size(){return Bs(this,!0)},has(i){return Fs.call(this,i,!0)},add:Kt("add"),set:Kt("set"),delete:Kt("delete"),clear:Kt("clear"),forEach:Vs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Us(i,!1,!1),n[i]=Us(i,!0,!1),t[i]=Us(i,!1,!0),s[i]=Us(i,!0,!0)}),[e,n,t,s]}const[Yu,Xu,Ju,Qu]=qu();function So(e,t){const n=t?e?Qu:Ju:e?Xu:Yu;return(s,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(ce(n,o)&&o in s?n:s,o,i)}const Zu={get:So(!1,!1)},ed={get:So(!1,!0)},td={get:So(!0,!1)},nd={get:So(!0,!0)},Ia=new WeakMap,Ma=new WeakMap,$a=new WeakMap,Na=new WeakMap;function sd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function od(e){return e.__v_skip||!Object.isExtensible(e)?0:sd(Iu(e))}function Le(e){return _n(e)?e:Eo(e,!1,ju,Zu,Ia)}function Oa(e){return Eo(e,!1,zu,ed,Ma)}function Ki(e){return Eo(e,!0,Wu,td,$a)}function id(e){return Eo(e,!0,Ku,nd,Na)}function Eo(e,t,n,s,o){if(!_e(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const r=od(e);if(r===0)return e;const l=new Proxy(e,r===2?s:n);return o.set(e,l),l}function An(e){return _n(e)?An(e.__v_raw):!!(e&&e.__v_isReactive)}function _n(e){return!!(e&&e.__v_isReadonly)}function ao(e){return!!(e&&e.__v_isShallow)}function Aa(e){return An(e)||_n(e)}function le(e){const t=e&&e.__v_raw;return t?le(t):e}function Ns(e){return Object.isExtensible(e)&&ro(e,"__v_skip",!0),e}const gs=e=>_e(e)?Le(e):e,qi=e=>_e(e)?Ki(e):e;class Pa{constructor(t,n,s,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Ui(()=>t(this._value),()=>cs(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=le(this);return(!t._cacheable||t.effect.dirty)&&Pt(t._value,t._value=t.effect.run())&&cs(t,4),Yi(t),t.effect._dirtyLevel>=2&&cs(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function rd(e,t,n=!1){let s,o;const i=se(e);return i?(s=e,o=mt):(s=e.get,o=e.set),new Pa(s,o,i||!o,n)}function Yi(e){var t;rn&&pn&&(e=le(e),ba(pn,(t=e.dep)!=null?t:e.dep=Ca(()=>e.dep=void 0,e instanceof Pa?e:void 0)))}function cs(e,t=4,n){e=le(e);const s=e.dep;s&&wa(s,t)}function Ae(e){return!!(e&&e.__v_isRef===!0)}function H(e){return Ra(e,!1)}function ka(e){return Ra(e,!0)}function Ra(e,t){return Ae(e)?e:new ld(e,t)}class ld{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:le(t),this._value=n?t:gs(t)}get value(){return Yi(this),this._value}set value(t){const n=this.__v_isShallow||ao(t)||_n(t);t=n?t:le(t),Pt(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:gs(t),cs(this,4))}}function I(e){return Ae(e)?e.value:e}const ad={get:(e,t,n)=>I(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return Ae(o)&&!Ae(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function Da(e){return An(e)?e:new Proxy(e,ad)}class cd{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=t(()=>Yi(this),()=>cs(this));this._get=n,this._set=s}get value(){return this._get()}set value(t){this._set(t)}}function La(e){return new cd(e)}function ud(e){const t=Q(e)?new Array(e.length):{};for(const n in e)t[n]=Ga(e,n);return t}class dd{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Fu(le(this._object),this._key)}}class fd{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function vs(e,t,n){return Ae(e)?e:se(e)?new fd(e):_e(e)&&arguments.length>1?Ga(e,t,n):H(e)}function Ga(e,t,n){const s=e[t];return Ae(s)?s:new dd(e,t,n)}/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ln(e,t,n,s){try{return s?e(...s):e()}catch(o){To(o,t,n)}}function gt(e,t,n,s){if(se(e)){const i=ln(e,t,n,s);return i&&da(i)&&i.catch(r=>{To(r,t,n)}),i}const o=[];for(let i=0;i<e.length;i++)o.push(gt(e[i],t,n,s));return o}function To(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let i=t.parent;const r=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,r,l)===!1)return}i=i.parent}const a=t.appContext.config.errorHandler;if(a){ln(a,null,10,[e,r,l]);return}}hd(e,n,o,s)}function hd(e,t,n,s=!0){console.error(e)}let _s=!1,fi=!1;const ze=[];let At=0;const Pn=[];let Qt=null,fn=0;const Ha=Promise.resolve();let Xi=null;function kt(e){const t=Xi||Ha;return e?t.then(this?e.bind(this):e):t}function pd(e){let t=At+1,n=ze.length;for(;t<n;){const s=t+n>>>1,o=ze[s],i=ys(o);i<e||i===e&&o.pre?t=s+1:n=s}return t}function Ji(e){(!ze.length||!ze.includes(e,_s&&e.allowRecurse?At+1:At))&&(e.id==null?ze.push(e):ze.splice(pd(e.id),0,e),Fa())}function Fa(){!_s&&!fi&&(fi=!0,Xi=Ha.then(Va))}function md(e){const t=ze.indexOf(e);t>At&&ze.splice(t,1)}function gd(e){Q(e)?Pn.push(...e):(!Qt||!Qt.includes(e,e.allowRecurse?fn+1:fn))&&Pn.push(e),Fa()}function Dr(e,t,n=_s?At+1:0){for(;n<ze.length;n++){const s=ze[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;ze.splice(n,1),n--,s()}}}function Ba(e){if(Pn.length){const t=[...new Set(Pn)].sort((n,s)=>ys(n)-ys(s));if(Pn.length=0,Qt){Qt.push(...t);return}for(Qt=t,fn=0;fn<Qt.length;fn++)Qt[fn]();Qt=null,fn=0}}const ys=e=>e.id==null?1/0:e.id,vd=(e,t)=>{const n=ys(e)-ys(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Va(e){fi=!1,_s=!0,ze.sort(vd);try{for(At=0;At<ze.length;At++){const t=ze[At];t&&t.active!==!1&&ln(t,null,14)}}finally{At=0,ze.length=0,Ba(),_s=!1,Xi=null,(ze.length||Pn.length)&&Va()}}function _d(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ve;let o=n;const i=t.startsWith("update:"),r=i&&t.slice(7);if(r&&r in s){const c=`${r==="modelValue"?"model":r}Modifiers`,{number:f,trim:d}=s[c]||ve;d&&(o=n.map(h=>Ee(h)?h.trim():h)),f&&(o=n.map(ai))}let l,a=s[l=jo(t)]||s[l=jo(Tt(t))];!a&&i&&(a=s[l=jo(an(t))]),a&&gt(a,e,6,o);const u=s[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,gt(u,e,6,o)}}function Ua(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const i=e.emits;let r={},l=!1;if(!se(e)){const a=u=>{const c=Ua(u,t,!0);c&&(l=!0,Te(r,c))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!i&&!l?(_e(e)&&s.set(e,null),null):(Q(i)?i.forEach(a=>r[a]=null):Te(r,i),_e(e)&&s.set(e,r),r)}function Io(e,t){return!e||!bo(t)?!1:(t=t.slice(2).replace(/Once$/,""),ce(e,t[0].toLowerCase()+t.slice(1))||ce(e,an(t))||ce(e,t))}let Ne=null,Mo=null;function co(e){const t=Ne;return Ne=e,Mo=e&&e.type.__scopeId||null,t}function yd(e){Mo=e}function bd(){Mo=null}function Je(e,t=Ne,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&Kr(-1);const i=co(t);let r;try{r=e(...o)}finally{co(i),s._d&&Kr(1)}return r};return s._n=!0,s._c=!0,s._d=!0,s}function zo(e){const{type:t,vnode:n,proxy:s,withProxy:o,props:i,propsOptions:[r],slots:l,attrs:a,emit:u,render:c,renderCache:f,data:d,setupState:h,ctx:m,inheritAttrs:_}=e;let b,E;const v=co(e);try{if(n.shapeFlag&4){const N=o||s,L=N;b=Ot(c.call(L,N,f,i,h,d,m)),E=a}else{const N=t;b=Ot(N.length>1?N(i,{attrs:a,slots:l,emit:u}):N(i,null)),E=t.props?a:wd(a)}}catch(N){fs.length=0,To(N,e,1),b=ee(vt)}let w=b;if(E&&_!==!1){const N=Object.keys(E),{shapeFlag:L}=w;N.length&&L&7&&(r&&N.some(Hi)&&(E=Cd(E,r)),w=Ut(w,E))}return n.dirs&&(w=Ut(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),b=w,co(v),b}const wd=e=>{let t;for(const n in e)(n==="class"||n==="style"||bo(n))&&((t||(t={}))[n]=e[n]);return t},Cd=(e,t)=>{const n={};for(const s in e)(!Hi(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function xd(e,t,n){const{props:s,children:o,component:i}=e,{props:r,children:l,patchFlag:a}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?Lr(s,r,u):!!r;if(a&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(r[d]!==s[d]&&!Io(u,d))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:s===r?!1:s?r?Lr(s,r,u):!0:!!r;return!1}function Lr(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const i=s[o];if(t[i]!==e[i]&&!Io(n,i))return!0}return!1}function Sd({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Qi="components";function yn(e,t){return Wa(Qi,e,!0,t)||e}const ja=Symbol.for("v-ndc");function $o(e){return Ee(e)?Wa(Qi,e,!1)||e:e||ja}function Wa(e,t,n=!0,s=!1){const o=Ne||Ue;if(o){const i=o.type;if(e===Qi){const l=yi(i,!1);if(l&&(l===t||l===Tt(t)||l===Co(Tt(t))))return i}const r=Gr(o[e]||i[e],t)||Gr(o.appContext[e],t);return!r&&s?i:r}}function Gr(e,t){return e&&(e[t]||e[Tt(t)]||e[Co(Tt(t))])}const za=e=>e.__isSuspense;function Ed(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):gd(e)}const Td=Symbol.for("v-scx"),Id=()=>St(Td);function Md(e,t){return Zi(e,null,{flush:"sync"})}const js={};function Se(e,t,n){return Zi(e,t,n)}function Zi(e,t,{immediate:n,deep:s,flush:o,once:i,onTrack:r,onTrigger:l}=ve){if(t&&i){const x=t;t=(...V)=>{x(...V),L()}}const a=Ue,u=x=>s===!0?x:hn(x,s===!1?1:void 0);let c,f=!1,d=!1;if(Ae(e)?(c=()=>e.value,f=ao(e)):An(e)?(c=()=>u(e),f=!0):Q(e)?(d=!0,f=e.some(x=>An(x)||ao(x)),c=()=>e.map(x=>{if(Ae(x))return x.value;if(An(x))return u(x);if(se(x))return ln(x,a,2)})):se(e)?t?c=()=>ln(e,a,2):c=()=>(h&&h(),gt(e,a,3,[m])):c=mt,t&&s){const x=c;c=()=>hn(x())}let h,m=x=>{h=w.onStop=()=>{ln(x,a,4),h=w.onStop=void 0}},_;if(ko)if(m=mt,t?n&&gt(t,a,3,[c(),d?[]:void 0,m]):c(),o==="sync"){const x=Id();_=x.__watcherHandles||(x.__watcherHandles=[])}else return mt;let b=d?new Array(e.length).fill(js):js;const E=()=>{if(!(!w.active||!w.dirty))if(t){const x=w.run();(s||f||(d?x.some((V,M)=>Pt(V,b[M])):Pt(x,b)))&&(h&&h(),gt(t,a,3,[x,b===js?void 0:d&&b[0]===js?[]:b,m]),b=x)}else w.run()};E.allowRecurse=!!t;let v;o==="sync"?v=E:o==="post"?v=()=>Be(E,a&&a.suspense):(E.pre=!0,a&&(E.id=a.uid),v=()=>Ji(E));const w=new Ui(c,mt,v),N=Vi(),L=()=>{w.stop(),N&&Fi(N.effects,w)};return t?n?E():b=w.run():o==="post"?Be(w.run.bind(w),a&&a.suspense):w.run(),_&&_.push(L),L}function $d(e,t,n){const s=this.proxy,o=Ee(e)?e.includes(".")?Ka(s,e):()=>s[e]:e.bind(s,s);let i;se(t)?i=t:(i=t.handler,n=t);const r=As(this),l=Zi(o,i.bind(s),n);return r(),l}function Ka(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function hn(e,t,n=0,s){if(!_e(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),Ae(e))hn(e.value,t,n,s);else if(Q(e))for(let o=0;o<e.length;o++)hn(e[o],t,n,s);else if(ua(e)||Nn(e))e.forEach(o=>{hn(o,t,n,s)});else if(ha(e))for(const o in e)hn(e[o],t,n,s);return e}function Wn(e,t){if(Ne===null)return e;const n=Ro(Ne)||Ne.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[i,r,l,a=ve]=t[o];i&&(se(i)&&(i={mounted:i,updated:i}),i.deep&&hn(r),s.push({dir:i,instance:n,value:r,oldValue:void 0,arg:l,modifiers:a}))}return e}function cn(e,t,n,s){const o=e.dirs,i=t&&t.dirs;for(let r=0;r<o.length;r++){const l=o[r];i&&(l.oldValue=i[r].value);let a=l.dir[s];a&&(bn(),gt(a,n,8,[e.el,l,e,t]),wn())}}const Zt=Symbol("_leaveCb"),Ws=Symbol("_enterCb");function qa(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zt(()=>{e.isMounted=!0}),zn(()=>{e.isUnmounting=!0}),e}const at=[Function,Array],Ya={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:at,onEnter:at,onAfterEnter:at,onEnterCancelled:at,onBeforeLeave:at,onLeave:at,onAfterLeave:at,onLeaveCancelled:at,onBeforeAppear:at,onAppear:at,onAfterAppear:at,onAppearCancelled:at},Nd={name:"BaseTransition",props:Ya,setup(e,{slots:t}){const n=Kn(),s=qa();let o;return()=>{const i=t.default&&er(t.default(),!0);if(!i||!i.length)return;let r=i[0];if(i.length>1){for(const _ of i)if(_.type!==vt){r=_;break}}const l=le(e),{mode:a}=l;if(s.isLeaving)return Ko(r);const u=Hr(r);if(!u)return Ko(r);const c=bs(u,l,s,n);Dn(u,c);const f=n.subTree,d=f&&Hr(f);let h=!1;const{getTransitionKey:m}=u.type;if(m){const _=m();o===void 0?o=_:_!==o&&(o=_,h=!0)}if(d&&d.type!==vt&&(!sn(u,d)||h)){const _=bs(d,l,s,n);if(Dn(d,_),a==="out-in")return s.isLeaving=!0,_.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Ko(r);a==="in-out"&&u.type!==vt&&(_.delayLeave=(b,E,v)=>{const w=Xa(s,d);w[String(d.key)]=d,b[Zt]=()=>{E(),b[Zt]=void 0,delete c.delayedLeave},c.delayedLeave=v})}return r}}},Od=Nd;function Xa(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function bs(e,t,n,s){const{appear:o,mode:i,persisted:r=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:f,onLeave:d,onAfterLeave:h,onLeaveCancelled:m,onBeforeAppear:_,onAppear:b,onAfterAppear:E,onAppearCancelled:v}=t,w=String(e.key),N=Xa(n,e),L=(M,C)=>{M&&gt(M,s,9,C)},x=(M,C)=>{const A=C[1];L(M,C),Q(M)?M.every(X=>X.length<=1)&&A():M.length<=1&&A()},V={mode:i,persisted:r,beforeEnter(M){let C=l;if(!n.isMounted)if(o)C=_||l;else return;M[Zt]&&M[Zt](!0);const A=N[w];A&&sn(e,A)&&A.el[Zt]&&A.el[Zt](),L(C,[M])},enter(M){let C=a,A=u,X=c;if(!n.isMounted)if(o)C=b||a,A=E||u,X=v||c;else return;let P=!1;const te=M[Ws]=q=>{P||(P=!0,q?L(X,[M]):L(A,[M]),V.delayedLeave&&V.delayedLeave(),M[Ws]=void 0)};C?x(C,[M,te]):te()},leave(M,C){const A=String(e.key);if(M[Ws]&&M[Ws](!0),n.isUnmounting)return C();L(f,[M]);let X=!1;const P=M[Zt]=te=>{X||(X=!0,C(),te?L(m,[M]):L(h,[M]),M[Zt]=void 0,N[A]===e&&delete N[A])};N[A]=e,d?x(d,[M,P]):P()},clone(M){return bs(M,t,n,s)}};return V}function Ko(e){if(No(e))return e=Ut(e),e.children=null,e}function Hr(e){return No(e)?e.children?e.children[0]:void 0:e}function Dn(e,t){e.shapeFlag&6&&e.component?Dn(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function er(e,t=!1,n){let s=[],o=0;for(let i=0;i<e.length;i++){let r=e[i];const l=n==null?r.key:String(n)+String(r.key!=null?r.key:i);r.type===fe?(r.patchFlag&128&&o++,s=s.concat(er(r.children,t,l))):(t||r.type!==vt)&&s.push(l!=null?Ut(r,{key:l}):r)}if(o>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Pe(e,t){return se(e)?Te({name:e.name},t,{setup:e}):e}const kn=e=>!!e.type.__asyncLoader,No=e=>e.type.__isKeepAlive,Ad={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Kn(),s=n.ctx;if(!s.renderer)return()=>{const v=t.default&&t.default();return v&&v.length===1?v[0]:v};const o=new Map,i=new Set;let r=null;const l=n.suspense,{renderer:{p:a,m:u,um:c,o:{createElement:f}}}=s,d=f("div");s.activate=(v,w,N,L,x)=>{const V=v.component;u(v,w,N,0,l),a(V.vnode,v,w,N,V,l,L,v.slotScopeIds,x),Be(()=>{V.isDeactivated=!1,V.a&&On(V.a);const M=v.props&&v.props.onVnodeMounted;M&&dt(M,V.parent,v)},l)},s.deactivate=v=>{const w=v.component;u(v,d,null,1,l),Be(()=>{w.da&&On(w.da);const N=v.props&&v.props.onVnodeUnmounted;N&&dt(N,w.parent,v),w.isDeactivated=!0},l)};function h(v){qo(v),c(v,n,l,!0)}function m(v){o.forEach((w,N)=>{const L=yi(w.type);L&&(!v||!v(L))&&_(N)})}function _(v){const w=o.get(v);!r||!sn(w,r)?h(w):r&&qo(r),o.delete(v),i.delete(v)}Se(()=>[e.include,e.exclude],([v,w])=>{v&&m(N=>os(v,N)),w&&m(N=>!os(w,N))},{flush:"post",deep:!0});let b=null;const E=()=>{b!=null&&o.set(b,Yo(n.subTree))};return zt(E),Os(E),zn(()=>{o.forEach(v=>{const{subTree:w,suspense:N}=n,L=Yo(w);if(v.type===L.type&&v.key===L.key){qo(L);const x=L.component.da;x&&Be(x,N);return}h(v)})}),()=>{if(b=null,!t.default)return null;const v=t.default(),w=v[0];if(v.length>1)return r=null,v;if(!Cs(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return r=null,w;let N=Yo(w);const L=N.type,x=yi(kn(N)?N.type.__asyncResolved||{}:L),{include:V,exclude:M,max:C}=e;if(V&&(!x||!os(V,x))||M&&x&&os(M,x))return r=N,w;const A=N.key==null?L:N.key,X=o.get(A);return N.el&&(N=Ut(N),w.shapeFlag&128&&(w.ssContent=N)),b=A,X?(N.el=X.el,N.component=X.component,N.transition&&Dn(N,N.transition),N.shapeFlag|=512,i.delete(A),i.add(A)):(i.add(A),C&&i.size>parseInt(C,10)&&_(i.values().next().value)),N.shapeFlag|=256,r=N,za(w.type)?w:N}}},Pd=Ad;function os(e,t){return Q(e)?e.some(n=>os(n,t)):Ee(e)?e.split(",").includes(t):Tu(e)?e.test(t):!1}function kd(e,t){Ja(e,"a",t)}function Rd(e,t){Ja(e,"da",t)}function Ja(e,t,n=Ue){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Oo(t,s,n),n){let o=n.parent;for(;o&&o.parent;)No(o.parent.vnode)&&Dd(s,t,n,o),o=o.parent}}function Dd(e,t,n,s){const o=Oo(t,e,s,!0);tr(()=>{Fi(s[t],o)},n)}function qo(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Yo(e){return e.shapeFlag&128?e.ssContent:e}function Oo(e,t,n=Ue,s=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;bn();const l=As(n),a=gt(t,n,e,r);return l(),wn(),a});return s?o.unshift(i):o.push(i),i}}const Wt=e=>(t,n=Ue)=>(!ko||e==="sp")&&Oo(e,(...s)=>t(...s),n),Ld=Wt("bm"),zt=Wt("m"),Gd=Wt("bu"),Os=Wt("u"),zn=Wt("bum"),tr=Wt("um"),Hd=Wt("sp"),Fd=Wt("rtg"),Bd=Wt("rtc");function Vd(e,t=Ue){Oo("ec",e,t)}function Ze(e,t,n,s){let o;const i=n&&n[s];if(Q(e)||Ee(e)){o=new Array(e.length);for(let r=0,l=e.length;r<l;r++)o[r]=t(e[r],r,void 0,i&&i[r])}else if(typeof e=="number"){o=new Array(e);for(let r=0;r<e;r++)o[r]=t(r+1,r,void 0,i&&i[r])}else if(_e(e))if(e[Symbol.iterator])o=Array.from(e,(r,l)=>t(r,l,void 0,i&&i[l]));else{const r=Object.keys(e);o=new Array(r.length);for(let l=0,a=r.length;l<a;l++){const u=r[l];o[l]=t(e[u],u,l,i&&i[l])}}else o=[];return n&&(n[s]=o),o}function We(e,t,n={},s,o){if(Ne.isCE||Ne.parent&&kn(Ne.parent)&&Ne.parent.isCE)return t!=="default"&&(n.name=t),ee("slot",n,s&&s());let i=e[t];i&&i._c&&(i._d=!1),k();const r=i&&Qa(i(n)),l=Me(fe,{key:n.key||r&&r.key||`_${t}`},r||(s?s():[]),r&&e._===1?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Qa(e){return e.some(t=>Cs(t)?!(t.type===vt||t.type===fe&&!Qa(t.children)):!0)?e:null}const hi=e=>e?dc(e)?Ro(e)||e.proxy:hi(e.parent):null,us=Te(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>hi(e.parent),$root:e=>hi(e.root),$emit:e=>e.emit,$options:e=>nr(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Ji(e.update)}),$nextTick:e=>e.n||(e.n=kt.bind(e.proxy)),$watch:e=>$d.bind(e)}),Xo=(e,t)=>e!==ve&&!e.__isScriptSetup&&ce(e,t),Ud={get({_:e},t){const{ctx:n,setupState:s,data:o,props:i,accessCache:r,type:l,appContext:a}=e;let u;if(t[0]!=="$"){const h=r[t];if(h!==void 0)switch(h){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(Xo(s,t))return r[t]=1,s[t];if(o!==ve&&ce(o,t))return r[t]=2,o[t];if((u=e.propsOptions[0])&&ce(u,t))return r[t]=3,i[t];if(n!==ve&&ce(n,t))return r[t]=4,n[t];pi&&(r[t]=0)}}const c=us[t];let f,d;if(c)return t==="$attrs"&&nt(e,"get",t),c(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==ve&&ce(n,t))return r[t]=4,n[t];if(d=a.config.globalProperties,ce(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:i}=e;return Xo(o,t)?(o[t]=n,!0):s!==ve&&ce(s,t)?(s[t]=n,!0):ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:i}},r){let l;return!!n[r]||e!==ve&&ce(e,r)||Xo(t,r)||(l=i[0])&&ce(l,r)||ce(s,r)||ce(us,r)||ce(o.config.globalProperties,r)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ce(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function uo(e){return Q(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Za(e,t){return!e||!t?e||t:Q(e)&&Q(t)?e.concat(t):Te({},uo(e),uo(t))}let pi=!0;function jd(e){const t=nr(e),n=e.proxy,s=e.ctx;pi=!1,t.beforeCreate&&Fr(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:r,watch:l,provide:a,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:m,activated:_,deactivated:b,beforeDestroy:E,beforeUnmount:v,destroyed:w,unmounted:N,render:L,renderTracked:x,renderTriggered:V,errorCaptured:M,serverPrefetch:C,expose:A,inheritAttrs:X,components:P,directives:te,filters:q}=t;if(u&&Wd(u,s,null),r)for(const ie in r){const oe=r[ie];se(oe)&&(s[ie]=oe.bind(n))}if(o){const ie=o.call(n,n);_e(ie)&&(e.data=Le(ie))}if(pi=!0,i)for(const ie in i){const oe=i[ie],ke=se(oe)?oe.bind(n,n):se(oe.get)?oe.get.bind(n,n):mt,bt=!se(oe)&&se(oe.set)?oe.set.bind(n):mt,qe=W({get:ke,set:bt});Object.defineProperty(s,ie,{enumerable:!0,configurable:!0,get:()=>qe.value,set:Re=>qe.value=Re})}if(l)for(const ie in l)ec(l[ie],s,n,ie);if(a){const ie=se(a)?a.call(n):a;Reflect.ownKeys(ie).forEach(oe=>{Rn(oe,ie[oe])})}c&&Fr(c,e,"c");function ae(ie,oe){Q(oe)?oe.forEach(ke=>ie(ke.bind(n))):oe&&ie(oe.bind(n))}if(ae(Ld,f),ae(zt,d),ae(Gd,h),ae(Os,m),ae(kd,_),ae(Rd,b),ae(Vd,M),ae(Bd,x),ae(Fd,V),ae(zn,v),ae(tr,N),ae(Hd,C),Q(A))if(A.length){const ie=e.exposed||(e.exposed={});A.forEach(oe=>{Object.defineProperty(ie,oe,{get:()=>n[oe],set:ke=>n[oe]=ke})})}else e.exposed||(e.exposed={});L&&e.render===mt&&(e.render=L),X!=null&&(e.inheritAttrs=X),P&&(e.components=P),te&&(e.directives=te)}function Wd(e,t,n=mt){Q(e)&&(e=mi(e));for(const s in e){const o=e[s];let i;_e(o)?"default"in o?i=St(o.from||s,o.default,!0):i=St(o.from||s):i=St(o),Ae(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):t[s]=i}}function Fr(e,t,n){gt(Q(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function ec(e,t,n,s){const o=s.includes(".")?Ka(n,s):()=>n[s];if(Ee(e)){const i=t[e];se(i)&&Se(o,i)}else if(se(e))Se(o,e.bind(n));else if(_e(e))if(Q(e))e.forEach(i=>ec(i,t,n,s));else{const i=se(e.handler)?e.handler.bind(n):t[e.handler];se(i)&&Se(o,i,e)}}function nr(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:r}}=e.appContext,l=i.get(t);let a;return l?a=l:!o.length&&!n&&!s?a=t:(a={},o.length&&o.forEach(u=>fo(a,u,r,!0)),fo(a,t,r)),_e(t)&&i.set(t,a),a}function fo(e,t,n,s=!1){const{mixins:o,extends:i}=t;i&&fo(e,i,n,!0),o&&o.forEach(r=>fo(e,r,n,!0));for(const r in t)if(!(s&&r==="expose")){const l=zd[r]||n&&n[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const zd={data:Br,props:Vr,emits:Vr,methods:is,computed:is,beforeCreate:Xe,created:Xe,beforeMount:Xe,mounted:Xe,beforeUpdate:Xe,updated:Xe,beforeDestroy:Xe,beforeUnmount:Xe,destroyed:Xe,unmounted:Xe,activated:Xe,deactivated:Xe,errorCaptured:Xe,serverPrefetch:Xe,components:is,directives:is,watch:qd,provide:Br,inject:Kd};function Br(e,t){return t?e?function(){return Te(se(e)?e.call(this,this):e,se(t)?t.call(this,this):t)}:t:e}function Kd(e,t){return is(mi(e),mi(t))}function mi(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Xe(e,t){return e?[...new Set([].concat(e,t))]:t}function is(e,t){return e?Te(Object.create(null),e,t):t}function Vr(e,t){return e?Q(e)&&Q(t)?[...new Set([...e,...t])]:Te(Object.create(null),uo(e),uo(t??{})):t}function qd(e,t){if(!e)return t;if(!t)return e;const n=Te(Object.create(null),e);for(const s in t)n[s]=Xe(e[s],t[s]);return n}function tc(){return{app:null,config:{isNativeTag:Su,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yd=0;function Xd(e,t){return function(s,o=null){se(s)||(s=Te({},s)),o!=null&&!_e(o)&&(o=null);const i=tc(),r=new WeakSet;let l=!1;const a=i.app={_uid:Yd++,_component:s,_props:o,_container:null,_context:i,_instance:null,version:bf,get config(){return i.config},set config(u){},use(u,...c){return r.has(u)||(u&&se(u.install)?(r.add(u),u.install(a,...c)):se(u)&&(r.add(u),u(a,...c))),a},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),a},component(u,c){return c?(i.components[u]=c,a):i.components[u]},directive(u,c){return c?(i.directives[u]=c,a):i.directives[u]},mount(u,c,f){if(!l){const d=ee(s,o);return d.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),c&&t?t(d,u):e(d,u,f),l=!0,a._container=u,u.__vue_app__=a,Ro(d.component)||d.component.proxy}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(u,c){return i.provides[u]=c,a},runWithContext(u){const c=ds;ds=a;try{return u()}finally{ds=c}}};return a}}let ds=null;function Rn(e,t){if(Ue){let n=Ue.provides;const s=Ue.parent&&Ue.parent.provides;s===n&&(n=Ue.provides=Object.create(s)),n[e]=t}}function St(e,t,n=!1){const s=Ue||Ne;if(s||ds){const o=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:ds._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&se(t)?t.call(s&&s.proxy):t}}function Jd(e,t,n,s=!1){const o={},i={};ro(i,Po,1),e.propsDefaults=Object.create(null),nc(e,t,o,i);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);n?e.props=s?o:Oa(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function Qd(e,t,n,s){const{props:o,attrs:i,vnode:{patchFlag:r}}=e,l=le(o),[a]=e.propsOptions;let u=!1;if((s||r>0)&&!(r&16)){if(r&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(Io(e.emitsOptions,d))continue;const h=t[d];if(a)if(ce(i,d))h!==i[d]&&(i[d]=h,u=!0);else{const m=Tt(d);o[m]=gi(a,l,m,h,e,!1)}else h!==i[d]&&(i[d]=h,u=!0)}}}else{nc(e,t,o,i)&&(u=!0);let c;for(const f in l)(!t||!ce(t,f)&&((c=an(f))===f||!ce(t,c)))&&(a?n&&(n[f]!==void 0||n[c]!==void 0)&&(o[f]=gi(a,l,f,void 0,e,!0)):delete o[f]);if(i!==l)for(const f in i)(!t||!ce(t,f))&&(delete i[f],u=!0)}u&&Bt(e,"set","$attrs")}function nc(e,t,n,s){const[o,i]=e.propsOptions;let r=!1,l;if(t)for(let a in t){if(as(a))continue;const u=t[a];let c;o&&ce(o,c=Tt(a))?!i||!i.includes(c)?n[c]=u:(l||(l={}))[c]=u:Io(e.emitsOptions,a)||(!(a in s)||u!==s[a])&&(s[a]=u,r=!0)}if(i){const a=le(n),u=l||ve;for(let c=0;c<i.length;c++){const f=i[c];n[f]=gi(o,a,f,u[f],e,!ce(u,f))}}return r}function gi(e,t,n,s,o,i){const r=e[n];if(r!=null){const l=ce(r,"default");if(l&&s===void 0){const a=r.default;if(r.type!==Function&&!r.skipFactory&&se(a)){const{propsDefaults:u}=o;if(n in u)s=u[n];else{const c=As(o);s=u[n]=a.call(null,t),c()}}else s=a}r[0]&&(i&&!l?s=!1:r[1]&&(s===""||s===an(n))&&(s=!0))}return s}function sc(e,t,n=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const i=e.props,r={},l=[];let a=!1;if(!se(e)){const c=f=>{a=!0;const[d,h]=sc(f,t,!0);Te(r,d),h&&l.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!a)return _e(e)&&s.set(e,$n),$n;if(Q(i))for(let c=0;c<i.length;c++){const f=Tt(i[c]);Ur(f)&&(r[f]=ve)}else if(i)for(const c in i){const f=Tt(c);if(Ur(f)){const d=i[c],h=r[f]=Q(d)||se(d)?{type:d}:Te({},d);if(h){const m=zr(Boolean,h.type),_=zr(String,h.type);h[0]=m>-1,h[1]=_<0||m<_,(m>-1||ce(h,"default"))&&l.push(f)}}}const u=[r,l];return _e(e)&&s.set(e,u),u}function Ur(e){return e[0]!=="$"&&!as(e)}function jr(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Wr(e,t){return jr(e)===jr(t)}function zr(e,t){return Q(t)?t.findIndex(n=>Wr(n,e)):se(t)&&Wr(t,e)?0:-1}const oc=e=>e[0]==="_"||e==="$stable",sr=e=>Q(e)?e.map(Ot):[Ot(e)],Zd=(e,t,n)=>{if(t._n)return t;const s=Je((...o)=>sr(t(...o)),n);return s._c=!1,s},ic=(e,t,n)=>{const s=e._ctx;for(const o in e){if(oc(o))continue;const i=e[o];if(se(i))t[o]=Zd(o,i,s);else if(i!=null){const r=sr(i);t[o]=()=>r}}},rc=(e,t)=>{const n=sr(t);e.slots.default=()=>n},ef=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=le(t),ro(t,"_",n)):ic(t,e.slots={})}else e.slots={},t&&rc(e,t);ro(e.slots,Po,1)},tf=(e,t,n)=>{const{vnode:s,slots:o}=e;let i=!0,r=ve;if(s.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:(Te(o,t),!n&&l===1&&delete o._):(i=!t.$stable,ic(t,o)),r=t}else t&&(rc(e,t),r={default:1});if(i)for(const l in o)!oc(l)&&r[l]==null&&delete o[l]};function vi(e,t,n,s,o=!1){if(Q(e)){e.forEach((d,h)=>vi(d,t&&(Q(t)?t[h]:t),n,s,o));return}if(kn(s)&&!o)return;const i=s.shapeFlag&4?Ro(s.component)||s.component.proxy:s.el,r=o?null:i,{i:l,r:a}=e,u=t&&t.r,c=l.refs===ve?l.refs={}:l.refs,f=l.setupState;if(u!=null&&u!==a&&(Ee(u)?(c[u]=null,ce(f,u)&&(f[u]=null)):Ae(u)&&(u.value=null)),se(a))ln(a,l,12,[r,c]);else{const d=Ee(a),h=Ae(a);if(d||h){const m=()=>{if(e.f){const _=d?ce(f,a)?f[a]:c[a]:a.value;o?Q(_)&&Fi(_,i):Q(_)?_.includes(i)||_.push(i):d?(c[a]=[i],ce(f,a)&&(f[a]=c[a])):(a.value=[i],e.k&&(c[e.k]=a.value))}else d?(c[a]=r,ce(f,a)&&(f[a]=r)):h&&(a.value=r,e.k&&(c[e.k]=r))};r?(m.id=-1,Be(m,n)):m()}}}const Be=Ed;function nf(e){return sf(e)}function sf(e,t){const n=pa();n.__VUE__=!0;const{insert:s,remove:o,patchProp:i,createElement:r,createText:l,createComment:a,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=mt,insertStaticContent:m}=e,_=(p,g,y,O=null,T=null,G=null,j=void 0,D=null,B=!!g.dynamicChildren)=>{if(p===g)return;p&&!sn(p,g)&&(O=$(p),Re(p,T,G,!0),p=null),g.patchFlag===-2&&(B=!1,g.dynamicChildren=null);const{type:R,ref:K,shapeFlag:Z}=g;switch(R){case Ao:b(p,g,y,O);break;case vt:E(p,g,y,O);break;case Zs:p==null&&v(g,y,O,j);break;case fe:P(p,g,y,O,T,G,j,D,B);break;default:Z&1?L(p,g,y,O,T,G,j,D,B):Z&6?te(p,g,y,O,T,G,j,D,B):(Z&64||Z&128)&&R.process(p,g,y,O,T,G,j,D,B,Y)}K!=null&&T&&vi(K,p&&p.ref,G,g||p,!g)},b=(p,g,y,O)=>{if(p==null)s(g.el=l(g.children),y,O);else{const T=g.el=p.el;g.children!==p.children&&u(T,g.children)}},E=(p,g,y,O)=>{p==null?s(g.el=a(g.children||""),y,O):g.el=p.el},v=(p,g,y,O)=>{[p.el,p.anchor]=m(p.children,g,y,O,p.el,p.anchor)},w=({el:p,anchor:g},y,O)=>{let T;for(;p&&p!==g;)T=d(p),s(p,y,O),p=T;s(g,y,O)},N=({el:p,anchor:g})=>{let y;for(;p&&p!==g;)y=d(p),o(p),p=y;o(g)},L=(p,g,y,O,T,G,j,D,B)=>{g.type==="svg"?j="svg":g.type==="math"&&(j="mathml"),p==null?x(g,y,O,T,G,j,D,B):C(p,g,T,G,j,D,B)},x=(p,g,y,O,T,G,j,D)=>{let B,R;const{props:K,shapeFlag:Z,transition:J,dirs:ne}=p;if(B=p.el=r(p.type,G,K&&K.is,K),Z&8?c(B,p.children):Z&16&&M(p.children,B,null,O,T,Jo(p,G),j,D),ne&&cn(p,null,O,"created"),V(B,p,p.scopeId,j,O),K){for(const ge in K)ge!=="value"&&!as(ge)&&i(B,ge,null,K[ge],G,p.children,O,T,je);"value"in K&&i(B,"value",null,K.value,G),(R=K.onVnodeBeforeMount)&&dt(R,O,p)}ne&&cn(p,null,O,"beforeMount");const re=of(T,J);re&&J.beforeEnter(B),s(B,g,y),((R=K&&K.onVnodeMounted)||re||ne)&&Be(()=>{R&&dt(R,O,p),re&&J.enter(B),ne&&cn(p,null,O,"mounted")},T)},V=(p,g,y,O,T)=>{if(y&&h(p,y),O)for(let G=0;G<O.length;G++)h(p,O[G]);if(T){let G=T.subTree;if(g===G){const j=T.vnode;V(p,j,j.scopeId,j.slotScopeIds,T.parent)}}},M=(p,g,y,O,T,G,j,D,B=0)=>{for(let R=B;R<p.length;R++){const K=p[R]=D?en(p[R]):Ot(p[R]);_(null,K,g,y,O,T,G,j,D)}},C=(p,g,y,O,T,G,j)=>{const D=g.el=p.el;let{patchFlag:B,dynamicChildren:R,dirs:K}=g;B|=p.patchFlag&16;const Z=p.props||ve,J=g.props||ve;let ne;if(y&&un(y,!1),(ne=J.onVnodeBeforeUpdate)&&dt(ne,y,g,p),K&&cn(g,p,y,"beforeUpdate"),y&&un(y,!0),R?A(p.dynamicChildren,R,D,y,O,Jo(g,T),G):j||oe(p,g,D,null,y,O,Jo(g,T),G,!1),B>0){if(B&16)X(D,g,Z,J,y,O,T);else if(B&2&&Z.class!==J.class&&i(D,"class",null,J.class,T),B&4&&i(D,"style",Z.style,J.style,T),B&8){const re=g.dynamicProps;for(let ge=0;ge<re.length;ge++){const we=re[ge],De=Z[we],wt=J[we];(wt!==De||we==="value")&&i(D,we,De,wt,T,p.children,y,O,je)}}B&1&&p.children!==g.children&&c(D,g.children)}else!j&&R==null&&X(D,g,Z,J,y,O,T);((ne=J.onVnodeUpdated)||K)&&Be(()=>{ne&&dt(ne,y,g,p),K&&cn(g,p,y,"updated")},O)},A=(p,g,y,O,T,G,j)=>{for(let D=0;D<g.length;D++){const B=p[D],R=g[D],K=B.el&&(B.type===fe||!sn(B,R)||B.shapeFlag&70)?f(B.el):y;_(B,R,K,null,O,T,G,j,!0)}},X=(p,g,y,O,T,G,j)=>{if(y!==O){if(y!==ve)for(const D in y)!as(D)&&!(D in O)&&i(p,D,y[D],null,j,g.children,T,G,je);for(const D in O){if(as(D))continue;const B=O[D],R=y[D];B!==R&&D!=="value"&&i(p,D,R,B,j,g.children,T,G,je)}"value"in O&&i(p,"value",y.value,O.value,j)}},P=(p,g,y,O,T,G,j,D,B)=>{const R=g.el=p?p.el:l(""),K=g.anchor=p?p.anchor:l("");let{patchFlag:Z,dynamicChildren:J,slotScopeIds:ne}=g;ne&&(D=D?D.concat(ne):ne),p==null?(s(R,y,O),s(K,y,O),M(g.children||[],y,K,T,G,j,D,B)):Z>0&&Z&64&&J&&p.dynamicChildren?(A(p.dynamicChildren,J,y,T,G,j,D),(g.key!=null||T&&g===T.subTree)&&lc(p,g,!0)):oe(p,g,y,K,T,G,j,D,B)},te=(p,g,y,O,T,G,j,D,B)=>{g.slotScopeIds=D,p==null?g.shapeFlag&512?T.ctx.activate(g,y,O,j,B):q(g,y,O,T,G,j,B):pe(p,g,B)},q=(p,g,y,O,T,G,j)=>{const D=p.component=pf(p,O,T);if(No(p)&&(D.ctx.renderer=Y),mf(D),D.asyncDep){if(T&&T.registerDep(D,ae),!p.el){const B=D.subTree=ee(vt);E(null,B,g,y)}}else ae(D,p,g,y,T,G,j)},pe=(p,g,y)=>{const O=g.component=p.component;if(xd(p,g,y))if(O.asyncDep&&!O.asyncResolved){ie(O,g,y);return}else O.next=g,md(O.update),O.effect.dirty=!0,O.update();else g.el=p.el,O.vnode=g},ae=(p,g,y,O,T,G,j)=>{const D=()=>{if(p.isMounted){let{next:K,bu:Z,u:J,parent:ne,vnode:re}=p;{const xn=ac(p);if(xn){K&&(K.el=re.el,ie(p,K,j)),xn.asyncDep.then(()=>{p.isUnmounted||D()});return}}let ge=K,we;un(p,!1),K?(K.el=re.el,ie(p,K,j)):K=re,Z&&On(Z),(we=K.props&&K.props.onVnodeBeforeUpdate)&&dt(we,ne,K,re),un(p,!0);const De=zo(p),wt=p.subTree;p.subTree=De,_(wt,De,f(wt.el),$(wt),p,T,G),K.el=De.el,ge===null&&Sd(p,De.el),J&&Be(J,T),(we=K.props&&K.props.onVnodeUpdated)&&Be(()=>dt(we,ne,K,re),T)}else{let K;const{el:Z,props:J}=g,{bm:ne,m:re,parent:ge}=p,we=kn(g);if(un(p,!1),ne&&On(ne),!we&&(K=J&&J.onVnodeBeforeMount)&&dt(K,ge,g),un(p,!0),Z&&be){const De=()=>{p.subTree=zo(p),be(Z,p.subTree,p,T,null)};we?g.type.__asyncLoader().then(()=>!p.isUnmounted&&De()):De()}else{const De=p.subTree=zo(p);_(null,De,y,O,p,T,G),g.el=De.el}if(re&&Be(re,T),!we&&(K=J&&J.onVnodeMounted)){const De=g;Be(()=>dt(K,ge,De),T)}(g.shapeFlag&256||ge&&kn(ge.vnode)&&ge.vnode.shapeFlag&256)&&p.a&&Be(p.a,T),p.isMounted=!0,g=y=O=null}},B=p.effect=new Ui(D,mt,()=>Ji(R),p.scope),R=p.update=()=>{B.dirty&&B.run()};R.id=p.uid,un(p,!0),R()},ie=(p,g,y)=>{g.component=p;const O=p.vnode.props;p.vnode=g,p.next=null,Qd(p,g.props,O,y),tf(p,g.children,y),bn(),Dr(p),wn()},oe=(p,g,y,O,T,G,j,D,B=!1)=>{const R=p&&p.children,K=p?p.shapeFlag:0,Z=g.children,{patchFlag:J,shapeFlag:ne}=g;if(J>0){if(J&128){bt(R,Z,y,O,T,G,j,D,B);return}else if(J&256){ke(R,Z,y,O,T,G,j,D,B);return}}ne&8?(K&16&&je(R,T,G),Z!==R&&c(y,Z)):K&16?ne&16?bt(R,Z,y,O,T,G,j,D,B):je(R,T,G,!0):(K&8&&c(y,""),ne&16&&M(Z,y,O,T,G,j,D,B))},ke=(p,g,y,O,T,G,j,D,B)=>{p=p||$n,g=g||$n;const R=p.length,K=g.length,Z=Math.min(R,K);let J;for(J=0;J<Z;J++){const ne=g[J]=B?en(g[J]):Ot(g[J]);_(p[J],ne,y,null,T,G,j,D,B)}R>K?je(p,T,G,!0,!1,Z):M(g,y,O,T,G,j,D,B,Z)},bt=(p,g,y,O,T,G,j,D,B)=>{let R=0;const K=g.length;let Z=p.length-1,J=K-1;for(;R<=Z&&R<=J;){const ne=p[R],re=g[R]=B?en(g[R]):Ot(g[R]);if(sn(ne,re))_(ne,re,y,null,T,G,j,D,B);else break;R++}for(;R<=Z&&R<=J;){const ne=p[Z],re=g[J]=B?en(g[J]):Ot(g[J]);if(sn(ne,re))_(ne,re,y,null,T,G,j,D,B);else break;Z--,J--}if(R>Z){if(R<=J){const ne=J+1,re=ne<K?g[ne].el:O;for(;R<=J;)_(null,g[R]=B?en(g[R]):Ot(g[R]),y,re,T,G,j,D,B),R++}}else if(R>J)for(;R<=Z;)Re(p[R],T,G,!0),R++;else{const ne=R,re=R,ge=new Map;for(R=re;R<=J;R++){const st=g[R]=B?en(g[R]):Ot(g[R]);st.key!=null&&ge.set(st.key,R)}let we,De=0;const wt=J-re+1;let xn=!1,Er=0;const Yn=new Array(wt);for(R=0;R<wt;R++)Yn[R]=0;for(R=ne;R<=Z;R++){const st=p[R];if(De>=wt){Re(st,T,G,!0);continue}let Mt;if(st.key!=null)Mt=ge.get(st.key);else for(we=re;we<=J;we++)if(Yn[we-re]===0&&sn(st,g[we])){Mt=we;break}Mt===void 0?Re(st,T,G,!0):(Yn[Mt-re]=R+1,Mt>=Er?Er=Mt:xn=!0,_(st,g[Mt],y,null,T,G,j,D,B),De++)}const Tr=xn?rf(Yn):$n;for(we=Tr.length-1,R=wt-1;R>=0;R--){const st=re+R,Mt=g[st],Ir=st+1<K?g[st+1].el:O;Yn[R]===0?_(null,Mt,y,Ir,T,G,j,D,B):xn&&(we<0||R!==Tr[we]?qe(Mt,y,Ir,2):we--)}}},qe=(p,g,y,O,T=null)=>{const{el:G,type:j,transition:D,children:B,shapeFlag:R}=p;if(R&6){qe(p.component.subTree,g,y,O);return}if(R&128){p.suspense.move(g,y,O);return}if(R&64){j.move(p,g,y,Y);return}if(j===fe){s(G,g,y);for(let Z=0;Z<B.length;Z++)qe(B[Z],g,y,O);s(p.anchor,g,y);return}if(j===Zs){w(p,g,y);return}if(O!==2&&R&1&&D)if(O===0)D.beforeEnter(G),s(G,g,y),Be(()=>D.enter(G),T);else{const{leave:Z,delayLeave:J,afterLeave:ne}=D,re=()=>s(G,g,y),ge=()=>{Z(G,()=>{re(),ne&&ne()})};J?J(G,re,ge):ge()}else s(G,g,y)},Re=(p,g,y,O=!1,T=!1)=>{const{type:G,props:j,ref:D,children:B,dynamicChildren:R,shapeFlag:K,patchFlag:Z,dirs:J}=p;if(D!=null&&vi(D,null,y,p,!0),K&256){g.ctx.deactivate(p);return}const ne=K&1&&J,re=!kn(p);let ge;if(re&&(ge=j&&j.onVnodeBeforeUnmount)&&dt(ge,g,p),K&6)Gs(p.component,y,O);else{if(K&128){p.suspense.unmount(y,O);return}ne&&cn(p,null,g,"beforeUnmount"),K&64?p.type.remove(p,g,y,T,Y,O):R&&(G!==fe||Z>0&&Z&64)?je(R,g,y,!1,!0):(G===fe&&Z&384||!T&&K&16)&&je(B,g,y),O&&Rt(p)}(re&&(ge=j&&j.onVnodeUnmounted)||ne)&&Be(()=>{ge&&dt(ge,g,p),ne&&cn(p,null,g,"unmounted")},y)},Rt=p=>{const{type:g,el:y,anchor:O,transition:T}=p;if(g===fe){Cn(y,O);return}if(g===Zs){N(p);return}const G=()=>{o(y),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(p.shapeFlag&1&&T&&!T.persisted){const{leave:j,delayLeave:D}=T,B=()=>j(y,G);D?D(p.el,G,B):B()}else G()},Cn=(p,g)=>{let y;for(;p!==g;)y=d(p),o(p),p=y;o(g)},Gs=(p,g,y)=>{const{bum:O,scope:T,update:G,subTree:j,um:D}=p;O&&On(O),T.stop(),G&&(G.active=!1,Re(j,p,g,y)),D&&Be(D,g),Be(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},je=(p,g,y,O=!1,T=!1,G=0)=>{for(let j=G;j<p.length;j++)Re(p[j],g,y,O,T)},$=p=>p.shapeFlag&6?$(p.component.subTree):p.shapeFlag&128?p.suspense.next():d(p.anchor||p.el);let z=!1;const U=(p,g,y)=>{p==null?g._vnode&&Re(g._vnode,null,null,!0):_(g._vnode||null,p,g,null,null,null,y),z||(z=!0,Dr(),Ba(),z=!1),g._vnode=p},Y={p:_,um:Re,m:qe,r:Rt,mt:q,mc:M,pc:oe,pbc:A,n:$,o:e};let he,be;return t&&([he,be]=t(Y)),{render:U,hydrate:he,createApp:Xd(U,he)}}function Jo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function un({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function of(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function lc(e,t,n=!1){const s=e.children,o=t.children;if(Q(s)&&Q(o))for(let i=0;i<s.length;i++){const r=s[i];let l=o[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[i]=en(o[i]),l.el=r.el),n||lc(r,l)),l.type===Ao&&(l.el=r.el)}}function rf(e){const t=e.slice(),n=[0];let s,o,i,r,l;const a=e.length;for(s=0;s<a;s++){const u=e[s];if(u!==0){if(o=n[n.length-1],e[o]<u){t[s]=o,n.push(s);continue}for(i=0,r=n.length-1;i<r;)l=i+r>>1,e[n[l]]<u?i=l+1:r=l;u<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,r=n[i-1];i-- >0;)n[i]=r,r=t[r];return n}function ac(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ac(t)}const lf=e=>e.__isTeleport,fe=Symbol.for("v-fgt"),Ao=Symbol.for("v-txt"),vt=Symbol.for("v-cmt"),Zs=Symbol.for("v-stc"),fs=[];let xt=null;function k(e=!1){fs.push(xt=e?null:[])}function af(){fs.pop(),xt=fs[fs.length-1]||null}let ws=1;function Kr(e){ws+=e}function cc(e){return e.dynamicChildren=ws>0?xt||$n:null,af(),ws>0&&xt&&xt.push(e),e}function F(e,t,n,s,o,i){return cc(S(e,t,n,s,o,i,!0))}function Me(e,t,n,s,o){return cc(ee(e,t,n,s,o,!0))}function Cs(e){return e?e.__v_isVNode===!0:!1}function sn(e,t){return e.type===t.type&&e.key===t.key}const Po="__vInternal",uc=({key:e})=>e??null,eo=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ee(e)||Ae(e)||se(e)?{i:Ne,r:e,k:t,f:!!n}:e:null);function S(e,t=null,n=null,s=0,o=null,i=e===fe?0:1,r=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&uc(t),ref:t&&eo(t),scopeId:Mo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ne};return l?(ir(a,n),i&128&&e.normalize(a)):n&&(a.shapeFlag|=Ee(n)?8:16),ws>0&&!r&&xt&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&xt.push(a),a}const ee=cf;function cf(e,t=null,n=null,s=0,o=null,i=!1){if((!e||e===ja)&&(e=vt),Cs(e)){const l=Ut(e,t,!0);return n&&ir(l,n),ws>0&&!i&&xt&&(l.shapeFlag&6?xt[xt.indexOf(e)]=l:xt.push(l)),l.patchFlag|=-2,l}if(yf(e)&&(e=e.__vccOpts),t){t=uf(t);let{class:l,style:a}=t;l&&!Ee(l)&&(t.class=Oe(l)),_e(a)&&(Aa(a)&&!Q(a)&&(a=Te({},a)),t.style=ue(a))}const r=Ee(e)?1:za(e)?128:lf(e)?64:_e(e)?4:se(e)?2:0;return S(e,t,n,s,o,r,i,!0)}function uf(e){return e?Aa(e)||Po in e?Te({},e):e:null}function Ut(e,t,n=!1){const{props:s,ref:o,patchFlag:i,children:r}=e,l=t?df(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&uc(l),ref:t&&t.ref?n&&o?Q(o)?o.concat(eo(t)):[o,eo(t)]:eo(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==fe?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ut(e.ssContent),ssFallback:e.ssFallback&&Ut(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Et(e=" ",t=0){return ee(Ao,null,e,t)}function or(e,t){const n=ee(Zs,null,e);return n.staticCount=t,n}function Ve(e="",t=!1){return t?(k(),Me(vt,null,e)):ee(vt,null,e)}function Ot(e){return e==null||typeof e=="boolean"?ee(vt):Q(e)?ee(fe,null,e.slice()):typeof e=="object"?en(e):ee(Ao,null,String(e))}function en(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ut(e)}function ir(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Q(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),ir(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Po in t)?t._ctx=Ne:o===3&&Ne&&(Ne.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else se(t)?(t={default:t,_ctx:Ne},n=32):(t=String(t),s&64?(n=16,t=[Et(t)]):n=8);e.children=t,e.shapeFlag|=n}function df(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=Oe([t.class,s.class]));else if(o==="style")t.style=ue([t.style,s.style]);else if(bo(o)){const i=t[o],r=s[o];r&&i!==r&&!(Q(i)&&i.includes(r))&&(t[o]=i?[].concat(i,r):r)}else o!==""&&(t[o]=s[o])}return t}function dt(e,t,n,s=null){gt(e,t,7,[n,s])}const ff=tc();let hf=0;function pf(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||ff,i={uid:hf++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Lu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sc(s,o),emitsOptions:Ua(s,o),emit:null,emitted:null,propsDefaults:ve,inheritAttrs:s.inheritAttrs,ctx:ve,data:ve,props:ve,attrs:ve,slots:ve,refs:ve,setupState:ve,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=_d.bind(null,i),e.ce&&e.ce(i),i}let Ue=null;const Kn=()=>Ue||Ne;let ho,_i;{const e=pa(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),i=>{o.length>1?o.forEach(r=>r(i)):o[0](i)}};ho=t("__VUE_INSTANCE_SETTERS__",n=>Ue=n),_i=t("__VUE_SSR_SETTERS__",n=>ko=n)}const As=e=>{const t=Ue;return ho(e),e.scope.on(),()=>{e.scope.off(),ho(t)}},qr=()=>{Ue&&Ue.scope.off(),ho(null)};function dc(e){return e.vnode.shapeFlag&4}let ko=!1;function mf(e,t=!1){t&&_i(t);const{props:n,children:s}=e.vnode,o=dc(e);Jd(e,n,o,t),ef(e,s);const i=o?gf(e,t):void 0;return t&&_i(!1),i}function gf(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ns(new Proxy(e.ctx,Ud));const{setup:s}=n;if(s){const o=e.setupContext=s.length>1?_f(e):null,i=As(e);bn();const r=ln(s,e,0,[e.props,o]);if(wn(),i(),da(r)){if(r.then(qr,qr),t)return r.then(l=>{Yr(e,l,t)}).catch(l=>{To(l,e,0)});e.asyncDep=r}else Yr(e,r,t)}else fc(e,t)}function Yr(e,t,n){se(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_e(t)&&(e.setupState=Da(t)),fc(e,n)}let Xr;function fc(e,t,n){const s=e.type;if(!e.render){if(!t&&Xr&&!s.render){const o=s.template||nr(e).template;if(o){const{isCustomElement:i,compilerOptions:r}=e.appContext.config,{delimiters:l,compilerOptions:a}=s,u=Te(Te({isCustomElement:i,delimiters:l},r),a);s.render=Xr(o,u)}}e.render=s.render||mt}{const o=As(e);bn();try{jd(e)}finally{wn(),o()}}}function vf(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return nt(e,"get","$attrs"),t[n]}}))}function _f(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return vf(e)},slots:e.slots,emit:e.emit,expose:t}}function Ro(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Da(Ns(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in us)return us[n](e)},has(t,n){return n in t||n in us}}))}function yi(e,t=!0){return se(e)?e.displayName||e.name:e.name||t&&e.__name}function yf(e){return se(e)&&"__vccOpts"in e}const W=(e,t)=>rd(e,t,ko);function bi(e,t,n=ve){const s=Kn(),o=Tt(t),i=an(t),r=La((a,u)=>{let c;return Md(()=>{const f=e[t];Pt(c,f)&&(c=f,u())}),{get(){return a(),n.get?n.get(c):c},set(f){const d=s.vnode.props;!(d&&(t in d||o in d||i in d)&&(`onUpdate:${t}`in d||`onUpdate:${o}`in d||`onUpdate:${i}`in d))&&Pt(f,c)&&(c=f,u()),s.emit(`update:${t}`,n.set?n.set(f):f)}}}),l=t==="modelValue"?"modelModifiers":`${t}Modifiers`;return r[Symbol.iterator]=()=>{let a=0;return{next(){return a<2?{value:a++?e[l]||{}:r,done:!1}:{done:!0}}}},r}function rr(e,t,n){const s=arguments.length;return s===2?_e(t)&&!Q(t)?Cs(t)?ee(e,null,[t]):ee(e,t):ee(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Cs(n)&&(n=[n]),ee(e,t,n))}const bf="3.4.19";/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const wf="http://www.w3.org/2000/svg",Cf="http://www.w3.org/1998/Math/MathML",tn=typeof document<"u"?document:null,Jr=tn&&tn.createElement("template"),xf={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?tn.createElementNS(wf,e):t==="mathml"?tn.createElementNS(Cf,e):tn.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>tn.createTextNode(e),createComment:e=>tn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>tn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,i){const r=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{Jr.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const l=Jr.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},qt="transition",Xn="animation",Ln=Symbol("_vtc"),qn=(e,{slots:t})=>rr(Od,pc(e),t);qn.displayName="Transition";const hc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Sf=qn.props=Te({},Ya,hc),dn=(e,t=[])=>{Q(e)?e.forEach(n=>n(...t)):e&&e(...t)},Qr=e=>e?Q(e)?e.some(t=>t.length>1):e.length>1:!1;function pc(e){const t={};for(const P in e)P in hc||(t[P]=e[P]);if(e.css===!1)return t;const{name:n="v",type:s,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=i,appearActiveClass:u=r,appearToClass:c=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,m=Ef(o),_=m&&m[0],b=m&&m[1],{onBeforeEnter:E,onEnter:v,onEnterCancelled:w,onLeave:N,onLeaveCancelled:L,onBeforeAppear:x=E,onAppear:V=v,onAppearCancelled:M=w}=t,C=(P,te,q)=>{Jt(P,te?c:l),Jt(P,te?u:r),q&&q()},A=(P,te)=>{P._isLeaving=!1,Jt(P,f),Jt(P,h),Jt(P,d),te&&te()},X=P=>(te,q)=>{const pe=P?V:v,ae=()=>C(te,P,q);dn(pe,[te,ae]),Zr(()=>{Jt(te,P?a:i),Gt(te,P?c:l),Qr(pe)||el(te,s,_,ae)})};return Te(t,{onBeforeEnter(P){dn(E,[P]),Gt(P,i),Gt(P,r)},onBeforeAppear(P){dn(x,[P]),Gt(P,a),Gt(P,u)},onEnter:X(!1),onAppear:X(!0),onLeave(P,te){P._isLeaving=!0;const q=()=>A(P,te);Gt(P,f),gc(),Gt(P,d),Zr(()=>{P._isLeaving&&(Jt(P,f),Gt(P,h),Qr(N)||el(P,s,b,q))}),dn(N,[P,q])},onEnterCancelled(P){C(P,!1),dn(w,[P])},onAppearCancelled(P){C(P,!0),dn(M,[P])},onLeaveCancelled(P){A(P),dn(L,[P])}})}function Ef(e){if(e==null)return null;if(_e(e))return[Qo(e.enter),Qo(e.leave)];{const t=Qo(e);return[t,t]}}function Qo(e){return Nu(e)}function Gt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Ln]||(e[Ln]=new Set)).add(t)}function Jt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[Ln];n&&(n.delete(t),n.size||(e[Ln]=void 0))}function Zr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Tf=0;function el(e,t,n,s){const o=e._endId=++Tf,i=()=>{o===e._endId&&s()};if(n)return setTimeout(i,n);const{type:r,timeout:l,propCount:a}=mc(e,t);if(!r)return s();const u=r+"end";let c=0;const f=()=>{e.removeEventListener(u,d),i()},d=h=>{h.target===e&&++c>=a&&f()};setTimeout(()=>{c<a&&f()},l+1),e.addEventListener(u,d)}function mc(e,t){const n=window.getComputedStyle(e),s=m=>(n[m]||"").split(", "),o=s(`${qt}Delay`),i=s(`${qt}Duration`),r=tl(o,i),l=s(`${Xn}Delay`),a=s(`${Xn}Duration`),u=tl(l,a);let c=null,f=0,d=0;t===qt?r>0&&(c=qt,f=r,d=i.length):t===Xn?u>0&&(c=Xn,f=u,d=a.length):(f=Math.max(r,u),c=f>0?r>u?qt:Xn:null,d=c?c===qt?i.length:a.length:0);const h=c===qt&&/\b(transform|all)(,|$)/.test(s(`${qt}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function tl(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>nl(n)+nl(e[s])))}function nl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function gc(){return document.body.offsetHeight}function If(e,t,n){const s=e[Ln];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const xs=Symbol("_vod"),vc={beforeMount(e,{value:t},{transition:n}){e[xs]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Jn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t==!n&&(e.style.display===e[xs]||!t)||(s?t?(s.beforeEnter(e),Jn(e,!0),s.enter(e)):s.leave(e,()=>{Jn(e,!1)}):Jn(e,t))},beforeUnmount(e,{value:t}){Jn(e,t)}};function Jn(e,t){e.style.display=t?e[xs]:"none"}const Mf=Symbol(""),$f=/(^|;)\s*display\s*:/;function Nf(e,t,n){const s=e.style,o=Ee(n),i=s.display;let r=!1;if(n&&!o){if(t&&!Ee(t))for(const l in t)n[l]==null&&wi(s,l,"");for(const l in n)l==="display"&&(r=!0),wi(s,l,n[l])}else if(o){if(t!==n){const l=s[Mf];l&&(n+=";"+l),s.cssText=n,r=$f.test(n)}}else t&&e.removeAttribute("style");xs in e&&(e[xs]=r?s.display:"",s.display=i)}const sl=/\s*!important$/;function wi(e,t,n){if(Q(n))n.forEach(s=>wi(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Of(e,t);sl.test(n)?e.setProperty(an(s),n.replace(sl,""),"important"):e[s]=n}}const ol=["Webkit","Moz","ms"],Zo={};function Of(e,t){const n=Zo[t];if(n)return n;let s=Tt(t);if(s!=="filter"&&s in e)return Zo[t]=s;s=Co(s);for(let o=0;o<ol.length;o++){const i=ol[o]+s;if(i in e)return Zo[t]=i}return t}const il="http://www.w3.org/1999/xlink";function Af(e,t,n,s,o){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(il,t.slice(6,t.length)):e.setAttributeNS(il,t,n);else{const i=Du(t);n==null||i&&!ma(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Pf(e,t,n,s,o,i,r){if(t==="innerHTML"||t==="textContent"){s&&r(s,o,i),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const u=l==="OPTION"?e.getAttribute("value"):e.value,c=n??"";u!==c&&(e.value=c),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=ma(n):n==null&&u==="string"?(n="",a=!0):u==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function Sn(e,t,n,s){e.addEventListener(t,n,s)}function kf(e,t,n,s){e.removeEventListener(t,n,s)}const rl=Symbol("_vei");function Rf(e,t,n,s,o=null){const i=e[rl]||(e[rl]={}),r=i[t];if(s&&r)r.value=s;else{const[l,a]=Df(t);if(s){const u=i[t]=Hf(s,o);Sn(e,l,u,a)}else r&&(kf(e,l,r,a),i[t]=void 0)}}const ll=/(?:Once|Passive|Capture)$/;function Df(e){let t;if(ll.test(e)){t={};let s;for(;s=e.match(ll);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):an(e.slice(2)),t]}let ei=0;const Lf=Promise.resolve(),Gf=()=>ei||(Lf.then(()=>ei=0),ei=Date.now());function Hf(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;gt(Ff(s,n.value),t,5,[s])};return n.value=e,n.attached=Gf(),n}function Ff(e,t){if(Q(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const al=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Bf=(e,t,n,s,o,i,r,l,a)=>{const u=o==="svg";t==="class"?If(e,s,u):t==="style"?Nf(e,n,s):bo(t)?Hi(t)||Rf(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Vf(e,t,s,u))?Pf(e,t,s,i,r,l,a):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Af(e,t,s,u))};function Vf(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&al(t)&&se(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return al(t)&&Ee(n)?!1:t in e}const _c=new WeakMap,yc=new WeakMap,po=Symbol("_moveCb"),cl=Symbol("_enterCb"),bc={name:"TransitionGroup",props:Te({},Sf,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Kn(),s=qa();let o,i;return Os(()=>{if(!o.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!qf(o[0].el,n.vnode.el,r))return;o.forEach(Wf),o.forEach(zf);const l=o.filter(Kf);gc(),l.forEach(a=>{const u=a.el,c=u.style;Gt(u,r),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[po]=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u[po]=null,Jt(u,r))};u.addEventListener("transitionend",f)})}),()=>{const r=le(e),l=pc(r);let a=r.tag||fe;o=i,i=t.default?er(t.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&Dn(c,bs(c,l,s,n))}if(o)for(let u=0;u<o.length;u++){const c=o[u];Dn(c,bs(c,l,s,n)),_c.set(c,c.el.getBoundingClientRect())}return ee(a,null,i)}}},Uf=e=>delete e.mode;bc.props;const jf=bc;function Wf(e){const t=e.el;t[po]&&t[po](),t[cl]&&t[cl]()}function zf(e){yc.set(e,e.el.getBoundingClientRect())}function Kf(e){const t=_c.get(e),n=yc.get(e),s=t.left-n.left,o=t.top-n.top;if(s||o){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${o}px)`,i.transitionDuration="0s",e}}function qf(e,t,n){const s=e.cloneNode(),o=e[Ln];o&&o.forEach(l=>{l.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(s);const{hasTransform:r}=mc(s);return i.removeChild(s),r}const ul=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Q(t)?n=>On(t,n):t};function Yf(e){e.target.composing=!0}function dl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ti=Symbol("_assign"),Do={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[ti]=ul(o);const i=s||o.props&&o.props.type==="number";Sn(e,t?"change":"input",r=>{if(r.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=ai(l)),e[ti](l)}),n&&Sn(e,"change",()=>{e.value=e.value.trim()}),t||(Sn(e,"compositionstart",Yf),Sn(e,"compositionend",dl),Sn(e,"change",dl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:o}},i){if(e[ti]=ul(i),e.composing)return;const r=o||e.type==="number"?ai(e.value):e.value,l=t??"";r!==l&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===l)||(e.value=l))}},Xf=["ctrl","shift","alt","meta"],Jf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Xf.some(n=>e[`${n}Key`]&&!t.includes(n))},Ke=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(o,...i)=>{for(let r=0;r<t.length;r++){const l=Jf[t[r]];if(l&&l(o,t))return}return e(o,...i)})},Qf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ci=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const i=an(o.key);if(t.some(r=>r===i||Qf[r]===i))return e(o)})},Zf=Te({patchProp:Bf},xf);let fl;function eh(){return fl||(fl=nf(Zf))}const th=(...e)=>{const t=eh().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=sh(s);if(!o)return;const i=t._component;!se(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const r=n(o,!1,nh(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),r},t};function nh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function sh(e){return Ee(e)?document.querySelector(e):e}function oh(e){return Vi()?(va(e),!0):!1}function Ct(e){return typeof e=="function"?e():I(e)}const ih=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const rh=Object.prototype.toString,lh=e=>rh.call(e)==="[object Object]",ni=(e,t,n)=>Math.min(n,Math.max(t,e)),xi=()=>{};function ah(e,t){function n(...s){return new Promise((o,i)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(o).catch(i)})}return n}const wc=e=>e();function ch(...e){let t=0,n,s=!0,o=xi,i,r,l,a,u;!Ae(e[0])&&typeof e[0]=="object"?{delay:r,trailing:l=!0,leading:a=!0,rejectOnCancel:u=!1}=e[0]:[r,l=!0,a=!0,u=!1]=e;const c=()=>{n&&(clearTimeout(n),n=void 0,o(),o=xi)};return d=>{const h=Ct(r),m=Date.now()-t,_=()=>i=d();return c(),h<=0?(t=Date.now(),_()):(m>h&&(a||!s)?(t=Date.now(),_()):l&&(i=new Promise((b,E)=>{o=u?E:b,n=setTimeout(()=>{t=Date.now(),s=!0,b(_()),c()},Math.max(0,h-m))})),!a&&!n&&(n=setTimeout(()=>s=!0,h)),s=!1,i)}}function uh(e=wc){const t=H(!0);function n(){t.value=!1}function s(){t.value=!0}const o=(...i)=>{t.value&&e(...i)};return{isActive:Ki(t),pause:n,resume:s,eventFilter:o}}function dh(e){return e||Kn()}function Cc(e,t,n={}){const{eventFilter:s=wc,...o}=n;return Se(e,ah(s,t),o)}function xc(e,t,n={}){const{eventFilter:s,...o}=n,{eventFilter:i,pause:r,resume:l,isActive:a}=uh(s);return{stop:Cc(e,t,{...o,eventFilter:i}),pause:r,resume:l,isActive:a}}function fh(e,t=!0,n){dh()?zt(e,n):t?e():kt(e)}function hh(e,t,n){const s=Se(e,(...o)=>(kt(()=>s()),t(...o)),n);return s}function ph(e,t,n={}){const{throttle:s=0,trailing:o=!0,leading:i=!0,...r}=n;return Cc(e,t,{...r,eventFilter:ch(s,o,i)})}function mh(e){var t;const n=Ct(e);return(t=n?.$el)!=null?t:n}const Si=ih?window:void 0;function hl(...e){let t,n,s,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,o]=e,t=Si):[t,n,s,o]=e,!t)return xi;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const i=[],r=()=>{i.forEach(c=>c()),i.length=0},l=(c,f,d,h)=>(c.addEventListener(f,d,h),()=>c.removeEventListener(f,d,h)),a=Se(()=>[mh(t),Ct(o)],([c,f])=>{if(r(),!c)return;const d=lh(f)?{...f}:f;i.push(...n.flatMap(h=>s.map(m=>l(c,h,m,d))))},{immediate:!0,flush:"post"}),u=()=>{a(),r()};return oh(u),u}const zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ks="__vueuse_ssr_handlers__",gh=vh();function vh(){return Ks in zs||(zs[Ks]=zs[Ks]||{}),zs[Ks]}function _h(e,t){return gh[e]||t}function yh(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const bh={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},pl="vueuse-storage";function to(e,t,n,s={}){var o;const{flush:i="pre",deep:r=!0,listenToStorageChanges:l=!0,writeDefaults:a=!0,mergeDefaults:u=!1,shallow:c,window:f=Si,eventFilter:d,onError:h=C=>{console.error(C)},initOnMounted:m}=s,_=(c?ka:H)(typeof t=="function"?t():t);if(!n)try{n=_h("getDefaultStorage",()=>{var C;return(C=Si)==null?void 0:C.localStorage})()}catch(C){h(C)}if(!n)return _;const b=Ct(t),E=yh(b),v=(o=s.serializer)!=null?o:bh[E],{pause:w,resume:N}=xc(_,()=>L(_.value),{flush:i,deep:r,eventFilter:d});return f&&l&&fh(()=>{hl(f,"storage",M),hl(f,pl,V),m&&M()}),m||M(),_;function L(C){try{const A=n.getItem(e),X=P=>{f&&f.dispatchEvent(new CustomEvent(pl,{detail:{key:e,oldValue:A,newValue:P,storageArea:n}}))};if(C==null)X(null),n.removeItem(e);else{const P=v.write(C);A!==P&&(n.setItem(e,P),X(P))}}catch(A){h(A)}}function x(C){const A=C?C.newValue:n.getItem(e);if(A==null)return a&&b!=null&&n.setItem(e,v.write(b)),b;if(!C&&u){const X=v.read(A);return typeof u=="function"?u(X,b):E==="object"&&!Array.isArray(X)?{...b,...X}:X}else return typeof A!="string"?A:v.read(A)}function V(C){M(C.detail)}function M(C){if(!(C&&C.storageArea!==n)){if(C&&C.key==null){_.value=b;return}if(!(C&&C.key!==e)){w();try{C?.newValue!==v.write(_.value)&&(_.value=x(C))}catch(A){h(A)}finally{C?kt(N):N()}}}}}function ml(e,t,n){if(typeof e=="function"||_n(e))return W(()=>ni(Ct(e),Ct(t),Ct(n)));const s=H(e);return W({get(){return s.value=ni(s.value,Ct(t),Ct(n))},set(o){s.value=ni(o,Ct(t),Ct(n))}})}function Lo(){const e=Le({h:to("hue",70),s:ml(to("sat",70),0,100),v:ml(to("val",70),0,100)}),t=W(()=>`hsl(${e.h%360}deg,${e.s}%,${e.v/2}%)`),n=W(()=>[e.h%360/360*255,e.s/100*255,e.v/100*255].map(Math.floor));return Se(()=>e.h,s=>{e.h=s>360?0:s<0?360:s}),{color:e,hsl:t,bytes:n}}function wh(e=0,t=0,n=1,s=1){return t===void 0&&(t=Math.floor(e/12)+4),`hsla(${e%12*30},${n*100}%,${Math.abs(t+2)*8}%,${s})`}function Ch(e){return wh(xh(e),3)}function xh(e,t=440){return 12*(Math.log(Number(e)/t)/Math.log(2))}const ye={MSG_REQUESTPARAM:240,MSG_LIGHTSABER_STATE:1,MSG_LIGHTSABER_STATE_ALL:2,MSG_LIGHTSABER_STATE_CALIBIMU:3,MSG_LIGHTSABER_CONFIG:160,MSG_LIGHTSABER_CONFIG_ALL:176,MSG_LIGHTSABER_CONFIG_SABREMODE:161,MSG_LIGHTSABER_CONFIG_LEDS:162,MSG_LIGHTSABER_CONFIG_GESTURE:163,MSG_LIGHTSABER_CONFIG_AUDIO:164,MSG_LIGHTSABER_CONFIG_MIDI:165,MSG_LIGHTSABER_CONFIG_HUM:166,MSG_LIGHTSABER_CONFIG_WIFI:167,MSG_LIGHTSABER_CONFIG_BLE:168};function Sh(e,t){return Object.keys(e)?.[Object.values(e).indexOf(t)]||"UNKNOWN"}const Eh={LIGHT_OFF:0,LIGHT_ON:1,LIGHT_TRANSITION_ON:2,LIGHT_TRANSITION_OFF:3},Sc={MODE_LIGHTSABER:0,MODE_POV:1,MODE_MIDI:2,MODE_PERFORMANCE:3,size:1},Th={HANDEDNESS_RIGHT:0,HANDEDNESS_LEFT:1,size:1};function Go(e,t){const n=new Uint8Array(t+2);return Ih(e,t,n),n}function Ih(e,t,n){n[0]=128,n[1]=128;for(let r=0;r<t;r++)n[r+2]=e[r];console.log("Sending: ",n)}function Mh(e){return(e[0]&63)<<7}function $h(e,t,n){return e&8064|t[n]&127}function Ec(e){return e.length<3?(console.log("Invalid packet (size < 3)"),!1):!(e[0]&128)||!(e[1]&128)?(console.log("Invalid packet"),!1):!0}function si(e,t,n=!0){let s=n?e[t+1]<<8|e[t]:e[t]<<8|e[t+1];return s&32768&&(s|=4294901760),s}function ot(e,t,n=!0){return n?e[t+1]<<8|e[t]:e[t]<<8|e[t+1]}function ct(e,t,n=!0){let s=n?e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]:e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return s&2147483648&&(s|=0xffffffff00000000),s}function Qn(e,t,n){return e[t]>>n&1}function qs(e,t,n=!0){let s=new ArrayBuffer(4),o=new DataView(s);return o.setUint8(0,e[t]),o.setUint8(1,e[t+1]),o.setUint8(2,e[t+2]),o.setUint8(3,e[t+3]),o.getFloat32(0,n)}function gl(e,t,n){let s="";for(let o=0;o<n;o++)s+=String.fromCharCode(e[t+o]);return s}function Ys(e,t,n){new DataView(t.buffer).setFloat32(n,e,!0)}function rt(e,t,n){new DataView(t.buffer).setUint16(n,e,!0)}function ut(e,t,n){new DataView(t.buffer).setInt32(n,e,!0)}function Yt(e,t){return JSON.stringify(e)===JSON.stringify(t)}const Nh={handedness:Th.HANDEDNESS_RIGHT,twist_threshold:0,noswing_threshold:0,stab_max_rad:0,clash_threshold:.1,cal_acc_bias:[0,0,0],cal_gyro_bias:[0,0,0],cal_mag_bias:[0,0,0],cal_mag_scale:[0,0,0],size:65},Oh={lightOnVolumePCT:50,lightOffVolumePCT:50,actionVolumePCT:50,size:3},Ah={humSynthesizer:0,humVolumePCT:80,hum1Freq:74,hum2Freq:92,hum3Freq:278,hum4Freq:370,hum5Freq:462,hum1VolumePCT:25,hum2VolumePCT:66,hum3VolumePCT:35,hum4VolumePCT:20,hum5VolumePCT:16,size:17},Ph={midiVolumePCT:100,midiNoteWidthPCT:20,midiNoteSpeedPCT:50,attackTimeMs:50,decayTimeMs:50,sustainTimeMs:5,sustainLevelPCT:50,releaseTimeMs:500,lpfCutOffFreq:1150,echoDelayMs:50,echoDecayPCT:50,size:17},kh={brightness_max:80,baseColor:[200,255,255],size:4},Rh={ssid:"00000000000000000000000000000000",password:"00000000000000000000000000000000",size:64},Dh={statesSenderInterval:100,size:2},Lh={signature:0,size:2},Gh={mode:Sc.MODE_LIGHTSABER,size:1},jt=Le({sabreMode:Gh,leds:kh,gesture:Nh,audio:Oh,hum:Ah,midi:Ph,wifi:Rh,ble:Dh,signature:Lh});jt.size=Object.values(jt).reduce((e,t)=>e+t.size,0);const Tc=H(),Ic=H(),Ht=H(),lr=H(!1);let Dt=structuredClone(le(jt));Se(Ic,async e=>{Hh(),Object.assign(jt,Vh(e)),await kt(),Fh()});const{stop:Jy,pause:Hh,resume:Fh}=xc(jt,e=>{console.log("config changed "+lr.value),Yt(e.sabreMode,Dt.sabreMode)||(Ht.value=Ft(ye.MSG_LIGHTSABER_CONFIG_SABREMODE)),Yt(e.leds,Dt.leds)||(Ht.value=Ft(ye.MSG_LIGHTSABER_CONFIG_LEDS)),Yt(e.gesture,Dt.gesture)||(Ht.value=Ft(ye.MSG_LIGHTSABER_CONFIG_GESTURE)),Yt(e.audio,Dt.audio)||(Ht.value=Ft(ye.MSG_LIGHTSABER_CONFIG_AUDIO)),Yt(e.midi,Dt.midi)||(Ht.value=Ft(ye.MSG_LIGHTSABER_CONFIG_MIDI)),Yt(e.hum,Dt.hum)||(Ht.value=Ft(ye.MSG_LIGHTSABER_CONFIG_HUM)),Yt(e.wifi,Dt.wifi)||(Ht.value=Ft(ye.MSG_LIGHTSABER_CONFIG_WIFI)),Yt(e.ble,Dt.ble)||(Ht.value=Ft(ye.MSG_LIGHTSABER_CONFIG_BLE)),Dt=structuredClone(le(e))},{deep:!0});function Ps(){return{config:jt,inConfig:Ic,outConfig:Ht,timestamp:Tc,sendConfig:Ft,readConfig:Bh,configReady:lr}}function Bh(){const e=new Uint8Array(2);return e[0]=ye.MSG_REQUESTPARAM,e[1]=ye.MSG_LIGHTSABER_CONFIG_ALL,console.log("config request"),Go(e,2)}function Vh(e){if(!Ec(e))return;const t={...jt};let n=Mh(e),s=1;for(;s<e.length;){e[s]&128&&(n=$h(n,e,s),s++),Tc.value=n;let o=e[s];if(s++,o===0)return;if(o==ye.MSG_LIGHTSABER_CONFIG_ALL){let i=Uh(e,s);Object.assign(t,i.cfg),s=i.ptr,lr.value=!0}}return console.log(t),t}function Uh(e,t){let n={...jt};return n.sabreMode.mode=e[t],t++,n.leds.brightness_max=e[t],t++,n.leds.baseColor[0]=e[t],t++,n.leds.baseColor[1]=e[t],t++,n.leds.baseColor[2]=e[t],t++,n.gesture.handedness=e[t],t++,n.gesture.twist_threshold=qs(e,t),t+=4,n.gesture.noswing_threshold=qs(e,t),t+=4,n.gesture.stab_max_rad=qs(e,t),t+=4,n.gesture.clash_threshold=qs(e,t),t+=4,n.gesture.cal_acc_bias[0]=ct(e,t),t+=4,n.gesture.cal_acc_bias[1]=ct(e,t),t+=4,n.gesture.cal_acc_bias[2]=ct(e,t),t+=4,n.gesture.cal_gyro_bias[0]=ct(e,t),t+=4,n.gesture.cal_gyro_bias[1]=ct(e,t),t+=4,n.gesture.cal_gyro_bias[2]=ct(e,t),t+=4,n.gesture.cal_mag_bias[0]=ct(e,t),t+=4,n.gesture.cal_mag_bias[1]=ct(e,t),t+=4,n.gesture.cal_mag_bias[2]=ct(e,t),t+=4,n.gesture.cal_mag_scale[0]=ct(e,t),t+=4,n.gesture.cal_mag_scale[1]=ct(e,t),t+=4,n.gesture.cal_mag_scale[2]=ct(e,t),t+=4,n.audio.lightOnVolumePCT=e[t],t++,n.audio.lightOffVolumePCT=e[t],t++,n.audio.actionVolumePCT=e[t],t++,n.midi.midiVolumePCT=e[t],t++,n.midi.midiNoteWidthPCT=e[t],t++,n.midi.midiNoteSpeedPCT=e[t],t++,n.midi.attackTimeMs=ot(e,t),t+=2,n.midi.decayTimeMs=ot(e,t),t+=2,n.midi.sustainTimeMs=ot(e,t),t+=2,n.midi.sustainLevelPCT=e[t],t++,n.midi.releaseTimeMs=ot(e,t),t+=2,n.midi.lpfCutOffFreq=ot(e,t),t+=2,n.midi.echoDelayMs=ot(e,t),t+=2,n.midi.echoDecayPCT=e[t],t++,n.hum.humSynthesizer=e[t],t++,n.hum.humVolumePCT=e[t],t++,n.hum.hum1Freq=ot(e,t),t+=2,n.hum.hum2Freq=ot(e,t),t+=2,n.hum.hum3Freq=ot(e,t),t+=2,n.hum.hum4Freq=ot(e,t),t+=2,n.hum.hum5Freq=ot(e,t),t+=2,n.hum.hum1VolumePCT=e[t],t++,n.hum.hum2VolumePCT=e[t],t++,n.hum.hum3VolumePCT=e[t],t++,n.hum.hum4VolumePCT=e[t],t++,n.hum.hum5VolumePCT=e[t],t++,n.wifi.ssid=gl(e,t,32),t+=32,n.wifi.password=gl(e,t,32),t+=32,n.ble.statesSenderInterval=ot(e,t),t+=2,n.signature.signature=ot(e,t),t+=2,{cfg:n,ptr:t}}function Ft(e=ye.MSG_LIGHTSABER_CONFIG_ALL,t=jt){const n=new Uint8Array(256).fill(0);let s=0;switch(n[s++]=ye.MSG_LIGHTSABER_CONFIG,n[s++]=e,e){case ye.MSG_LIGHTSABER_CONFIG_ALL:s=vl(t.sabreMode.mode,n,s),s=_l(t.leds,n,s),s=yl(t.gesture,n,s),s=bl(t.audio,n,s),s=wl(t.midi,n,s),s=Cl(t.hum,n,s),s=xl(t.wifi,n,s),s=Sl(t.ble,n,s),s=jh(t.signature,n,s),console.log("MAKING PACKET FOR ALL");break;case ye.MSG_LIGHTSABER_CONFIG_SABREMODE:s=vl(t.sabreMode.mode,n,s),console.log("MAKING PACKET FOR SABREMODE");break;case ye.MSG_LIGHTSABER_CONFIG_LEDS:s=_l(t.leds,n,s),console.log("MAKING PACKET FOR LEDS");break;case ye.MSG_LIGHTSABER_CONFIG_GESTURE:s=yl(t.gesture,n,s);break;case ye.MSG_LIGHTSABER_CONFIG_AUDIO:s=bl(t.audio,n,s);break;case ye.MSG_LIGHTSABER_CONFIG_MIDI:s=wl(t.midi,n,s);break;case ye.MSG_LIGHTSABER_CONFIG_HUM:console.log("SPTR = "+s),s=Cl(t.hum,n,s),console.log("EPTR = "+s);break;case ye.MSG_LIGHTSABER_CONFIG_WIFI:s=xl(t.wifi,n,s);break;case ye.MSG_LIGHTSABER_CONFIG_BLE:s=Sl(t.ble,n,s);break}return Go(n,s+1)}function vl(e,t,n){return t[n]=e,n+1}function _l(e,t,n){return t[n]=e.brightness_max,t[n+1]=e.baseColor[0],t[n+2]=e.baseColor[1],t[n+3]=e.baseColor[2],n+4}function yl(e,t,n){return t[n]=e.handedness,Ys(e.twist_threshold,t,n+1),Ys(e.noswing_threshold,t,n+5),Ys(e.stab_max_rad,t,n+9),Ys(e.clash_threshold,t,n+13),ut(e.cal_acc_bias[0],t,n+17),ut(e.cal_acc_bias[1],t,n+21),ut(e.cal_acc_bias[2],t,n+25),ut(e.cal_gyro_bias[0],t,n+29),ut(e.cal_gyro_bias[1],t,n+33),ut(e.cal_gyro_bias[2],t,n+37),ut(e.cal_mag_bias[0],t,n+41),ut(e.cal_mag_bias[1],t,n+45),ut(e.cal_mag_bias[2],t,n+49),ut(e.cal_mag_scale[0],t,n+53),ut(e.cal_mag_scale[1],t,n+57),ut(e.cal_mag_scale[2],t,n+61),n+65}function bl(e,t,n){return t[n]=e.lightOnVolumePCT,t[n+1]=e.lightOffVolumePCT,t[n+2]=e.actionVolumePCT,n+3}function wl(e,t,n){return t[n]=e.midiVolumePCT,t[n+1]=e.midiNoteWidthPCT,t[n+2]=e.midiNoteSpeedPCT,rt(e.attackTimeMs,t,n+3),rt(e.decayTimeMs,t,n+5),rt(e.sustainTimeMs,t,n+7),t[n+9]=e.sustainLevelPCT,rt(e.releaseTimeMs,t,n+10),rt(e.lpfCutOffFreq,t,n+12),rt(e.echoDelayMs,t,n+14),t[n+16]=e.echoDecayPCT,n+17}function Cl(e,t,n){return t[n]=e.humSynthesizer,t[n+1]=e.humVolumePCT,rt(e.hum1Freq,t,n+2),rt(e.hum2Freq,t,n+4),rt(e.hum3Freq,t,n+6),rt(e.hum4Freq,t,n+8),rt(e.hum5Freq,t,n+10),t[n+12]=e.hum1VolumePCT,t[n+13]=e.hum2VolumePCT,t[n+14]=e.hum3VolumePCT,t[n+15]=e.hum4VolumePCT,t[n+16]=e.hum5VolumePCT,n+17}function xl(e,t,n){for(let s=0;s<32;s++)t[n+s]=e.ssid.charCodeAt(s);for(let s=0;s<32;s++)t[n+32+s]=e.password.charCodeAt(s);return n+64}function Sl(e,t,n){return rt(e.statesSenderInterval,t,n),n+2}function jh(e,t,n){return rt(e.signature,t,n),n+2}const Wh={namePrefix:"PBSaber"},zh={state:{service:"73621000-1fb5-459e-8fcc-c5c9c331914b",characteristic:"73621100-1fb5-459e-8fcc-c5c9c331914b"},midi:{service:"03b80e5a-ede8-4b33-a751-6ce34ec4c700",characteristic:"7772e5db-3868-4112-a1a9-f2669d106bf3"},config:{service:"73620000-1fb5-459e-8fcc-c5c9c331914b",characteristic:"73620100-1fb5-459e-8fcc-c5c9c331914b"}},Tn={device:Wh,services:zh},Kh=navigator.bluetooth,qh=Object.values(Tn.services).map(e=>e.service),Yh={filters:[{namePrefix:Tn.device.namePrefix}],optionalServices:qh},no=H(),rs=H(),Xh=H(),Mc=H(),$c=H(),Jh=Le({}),Nc=H(!1);async function Qh(){try{no.value=await navigator.bluetooth.requestDevice(Yh),rs.value=await no.value.gatt.connect(),no.value.addEventListener("gattserverdisconnected",()=>{console.log("device disconnected")}),Xh.value=await rs.value.getPrimaryServices();const e=await rs.value.getPrimaryService(Tn.services.state.service);$c.value=await e.getCharacteristic(Tn.services.state.characteristic);const t=await rs.value.getPrimaryService(Tn.services.config.service);Mc.value=await t.getCharacteristic(Tn.services.config.characteristic),Nc.value=!0}catch(e){console.log(e)}}function ar(){return{ble:Jh,available:Kh,device:no,server:rs,connect:Qh,configCharacteristic:Mc,stateCharacteristic:$c,isConnected:Nc}}const cr=Le({lightState:0,running:0,audioOutput:0,charging:0,sdCard:0,imu:0,reserved:0,incalibration:0,batteryVoltage:0,rollCentiDeg:0,pitchCentiDeg:0,yawCentiDeg:0,gestureState:0,lastGestureActive:0,size:11}),Oc=H(),ur=H(),dr=H();Se(ur,Ac);function ks(){return{state:cr,inState:ur,outState:dr,timestamp:Oc,loadState:Ac,toggleLightState:Zh,calibrateIMU:ep}}function Zh(){const e=new Uint8Array(2);e[0]=ye.MSG_LIGHTSABER_STATE,e[1]=cr.lightState==Eh.LIGHT_ON?0:1,dr.value=Go(e,2)}function ep(){const e=new Uint8Array(2);e[0]=ye.MSG_LIGHTSABER_STATE_CALIBIMU,e[1]=1,dr.value=Go(e,2)}function Ac(e=ur.value){if(!Ec(e))return;let t=0,n=(e[t]&63)<<7;for(t++;t<e.length;){e[t]&128&&(n=n&8064|e[t]&127,t++),Oc.value=n;let s=e[t];if(t++,s===0)return;if(s==ye.MSG_LIGHTSABER_STATE_ALL){let o=tp(e,t);Object.assign(cr,o.states),t=o.ptr}}}function tp(e,t){let n={};return n.lightState=e[t],t++,n.running=Qn(e,t,0),n.audioOutput=Qn(e,t,1),n.charging=Qn(e,t,2),n.sdCard=Qn(e,t,3),n.imu=Qn(e,t,4),n.reserved=e[t]>>5&7,t++,n.batteryVoltage=e[t],t++,n.rollCentiDeg=si(e,t),t+=2,n.pitchCentiDeg=si(e,t),t+=2,n.yawCentiDeg=si(e,t),t+=2,n.gestureState=e[t],t++,n.lastGestureActive=e[t],t++,{ptr:t,states:n}}const np="0.3.3";/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const En=typeof document<"u";function sp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const me=Object.assign;function oi(e,t){const n={};for(const s in t){const o=t[s];n[s]=It(o)?o.map(e):e(o)}return n}const hs=()=>{},It=Array.isArray,Pc=/#/g,op=/&/g,ip=/\//g,rp=/=/g,lp=/\?/g,kc=/\+/g,ap=/%5B/g,cp=/%5D/g,Rc=/%5E/g,up=/%60/g,Dc=/%7B/g,dp=/%7C/g,Lc=/%7D/g,fp=/%20/g;function fr(e){return encodeURI(""+e).replace(dp,"|").replace(ap,"[").replace(cp,"]")}function hp(e){return fr(e).replace(Dc,"{").replace(Lc,"}").replace(Rc,"^")}function Ei(e){return fr(e).replace(kc,"%2B").replace(fp,"+").replace(Pc,"%23").replace(op,"%26").replace(up,"`").replace(Dc,"{").replace(Lc,"}").replace(Rc,"^")}function pp(e){return Ei(e).replace(rp,"%3D")}function mp(e){return fr(e).replace(Pc,"%23").replace(lp,"%3F")}function gp(e){return e==null?"":mp(e).replace(ip,"%2F")}function Ss(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const vp=/\/$/,_p=e=>e.replace(vp,"");function ii(e,t,n="/"){let s,o={},i="",r="";const l=t.indexOf("#");let a=t.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(s=t.slice(0,a),i=t.slice(a+1,l>-1?l:t.length),o=e(i)),l>-1&&(s=s||t.slice(0,l),r=t.slice(l,t.length)),s=Cp(s??t,n),{fullPath:s+(i&&"?")+i+r,path:s,query:o,hash:Ss(r)}}function yp(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function El(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function bp(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&Gn(t.matched[s],n.matched[o])&&Gc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Gn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Gc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!wp(e[n],t[n]))return!1;return!0}function wp(e,t){return It(e)?Tl(e,t):It(t)?Tl(t,e):e===t}function Tl(e,t){return It(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Cp(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let i=n.length-1,r,l;for(r=0;r<s.length;r++)if(l=s[r],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(r).join("/")}var Es;(function(e){e.pop="pop",e.push="push"})(Es||(Es={}));var ps;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ps||(ps={}));function xp(e){if(!e)if(En){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),_p(e)}const Sp=/^[^#]+#/;function Ep(e,t){return e.replace(Sp,"#")+t}function Tp(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Ho=()=>({left:window.scrollX,top:window.scrollY});function Ip(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Tp(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Il(e,t){return(history.state?history.state.position-t:-1)+e}const Ti=new Map;function Mp(e,t){Ti.set(e,t)}function $p(e){const t=Ti.get(e);return Ti.delete(e),t}let Np=()=>location.protocol+"//"+location.host;function Hc(e,t){const{pathname:n,search:s,hash:o}=t,i=e.indexOf("#");if(i>-1){let l=o.includes(e.slice(i))?e.slice(i).length:1,a=o.slice(l);return a[0]!=="/"&&(a="/"+a),El(a,"")}return El(n,e)+s+o}function Op(e,t,n,s){let o=[],i=[],r=null;const l=({state:d})=>{const h=Hc(e,location),m=n.value,_=t.value;let b=0;if(d){if(n.value=h,t.value=d,r&&r===m){r=null;return}b=_?d.position-_.position:0}else s(h);o.forEach(E=>{E(n.value,m,{delta:b,type:Es.pop,direction:b?b>0?ps.forward:ps.back:ps.unknown})})};function a(){r=n.value}function u(d){o.push(d);const h=()=>{const m=o.indexOf(d);m>-1&&o.splice(m,1)};return i.push(h),h}function c(){const{history:d}=window;d.state&&d.replaceState(me({},d.state,{scroll:Ho()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:a,listen:u,destroy:f}}function Ml(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?Ho():null}}function Ap(e){const{history:t,location:n}=window,s={value:Hc(e,n)},o={value:t.state};o.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(a,u,c){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+a:Np()+e+a;try{t[c?"replaceState":"pushState"](u,"",d),o.value=u}catch(h){console.error(h),n[c?"replace":"assign"](d)}}function r(a,u){const c=me({},t.state,Ml(o.value.back,a,o.value.forward,!0),u,{position:o.value.position});i(a,c,!0),s.value=a}function l(a,u){const c=me({},o.value,t.state,{forward:a,scroll:Ho()});i(c.current,c,!0);const f=me({},Ml(s.value,a,null),{position:c.position+1},u);i(a,f,!1),s.value=a}return{location:s,state:o,push:l,replace:r}}function Pp(e){e=xp(e);const t=Ap(e),n=Op(e,t.state,t.location,t.replace);function s(i,r=!0){r||n.pauseListeners(),history.go(i)}const o=me({location:"",base:e,go:s,createHref:Ep.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function kp(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Pp(e)}function Rp(e){return typeof e=="string"||e&&typeof e=="object"}function Fc(e){return typeof e=="string"||typeof e=="symbol"}const Xt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Bc=Symbol("");var $l;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})($l||($l={}));function Hn(e,t){return me(new Error,{type:e,[Bc]:!0},t)}function Lt(e,t){return e instanceof Error&&Bc in e&&(t==null||!!(e.type&t))}const Nl="[^/]+?",Dp={sensitive:!1,strict:!1,start:!0,end:!0},Lp=/[.+*?^${}()[\]/\\]/g;function Gp(e,t){const n=me({},Dp,t),s=[];let o=n.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(o+="/");for(let f=0;f<u.length;f++){const d=u[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(o+="/"),o+=d.value.replace(Lp,"\\$&"),h+=40;else if(d.type===1){const{value:m,repeatable:_,optional:b,regexp:E}=d;i.push({name:m,repeatable:_,optional:b});const v=E||Nl;if(v!==Nl){h+=10;try{new RegExp(`(${v})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${m}" (${v}): `+N.message)}}let w=_?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;f||(w=b&&u.length<2?`(?:/${w})`:"/"+w),b&&(w+="?"),o+=w,h+=20,b&&(h+=-8),_&&(h+=-20),v===".*"&&(h+=-50)}c.push(h)}s.push(c)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const r=new RegExp(o,n.sensitive?"":"i");function l(u){const c=u.match(r),f={};if(!c)return null;for(let d=1;d<c.length;d++){const h=c[d]||"",m=i[d-1];f[m.name]=h&&m.repeatable?h.split("/"):h}return f}function a(u){let c="",f=!1;for(const d of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const h of d)if(h.type===0)c+=h.value;else if(h.type===1){const{value:m,repeatable:_,optional:b}=h,E=m in u?u[m]:"";if(It(E)&&!_)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const v=It(E)?E.join("/"):E;if(!v)if(b)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);c+=v}}return c||"/"}return{re:r,score:s,keys:i,parse:l,stringify:a}}function Hp(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Fp(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const i=Hp(s[n],o[n]);if(i)return i;n++}if(Math.abs(o.length-s.length)===1){if(Ol(s))return 1;if(Ol(o))return-1}return o.length-s.length}function Ol(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Bp={type:0,value:""},Vp=/[a-zA-Z0-9_]/;function Up(e){if(!e)return[[]];if(e==="/")return[[Bp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,s=n;const o=[];let i;function r(){i&&o.push(i),i=[]}let l=0,a,u="",c="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=a}for(;l<e.length;){if(a=e[l++],a==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:a==="/"?(u&&f(),r()):a===":"?(f(),n=1):d();break;case 4:d(),n=s;break;case 1:a==="("?n=2:Vp.test(a)?d():(f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+a:n=3:c+=a;break;case 3:f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),r(),o}function jp(e,t,n){const s=Gp(Up(e.path),n),o=me(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Wp(e,t){const n=[],s=new Map;t=kl({strict:!1,end:!0,sensitive:!1},t);function o(c){return s.get(c)}function i(c,f,d){const h=!d,m=zp(c);m.aliasOf=d&&d.record;const _=kl(t,c),b=[m];if("alias"in c){const w=typeof c.alias=="string"?[c.alias]:c.alias;for(const N of w)b.push(me({},m,{components:d?d.record.components:m.components,path:N,aliasOf:d?d.record:m}))}let E,v;for(const w of b){const{path:N}=w;if(f&&N[0]!=="/"){const L=f.record.path,x=L[L.length-1]==="/"?"":"/";w.path=f.record.path+(N&&x+N)}if(E=jp(w,f,_),d?d.alias.push(E):(v=v||E,v!==E&&v.alias.push(E),h&&c.name&&!Pl(E)&&r(c.name)),m.children){const L=m.children;for(let x=0;x<L.length;x++)i(L[x],E,d&&d.children[x])}d=d||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&a(E)}return v?()=>{r(v)}:hs}function r(c){if(Fc(c)){const f=s.get(c);f&&(s.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(r),f.alias.forEach(r))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&s.delete(c.record.name),c.children.forEach(r),c.alias.forEach(r))}}function l(){return n}function a(c){let f=0;for(;f<n.length&&Fp(c,n[f])>=0&&(c.record.path!==n[f].record.path||!Vc(c,n[f]));)f++;n.splice(f,0,c),c.record.name&&!Pl(c)&&s.set(c.record.name,c)}function u(c,f){let d,h={},m,_;if("name"in c&&c.name){if(d=s.get(c.name),!d)throw Hn(1,{location:c});_=d.record.name,h=me(Al(f.params,d.keys.filter(v=>!v.optional).concat(d.parent?d.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),c.params&&Al(c.params,d.keys.map(v=>v.name))),m=d.stringify(h)}else if(c.path!=null)m=c.path,d=n.find(v=>v.re.test(m)),d&&(h=d.parse(m),_=d.record.name);else{if(d=f.name?s.get(f.name):n.find(v=>v.re.test(f.path)),!d)throw Hn(1,{location:c,currentLocation:f});_=d.record.name,h=me({},f.params,c.params),m=d.stringify(h)}const b=[];let E=d;for(;E;)b.unshift(E.record),E=E.parent;return{name:_,path:m,params:h,matched:b,meta:qp(b)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:r,getRoutes:l,getRecordMatcher:o}}function Al(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function zp(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Kp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Kp(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Pl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function qp(e){return e.reduce((t,n)=>me(t,n.meta),{})}function kl(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Vc(e,t){return t.children.some(n=>n===e||Vc(e,n))}function Yp(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const i=s[o].replace(kc," "),r=i.indexOf("="),l=Ss(r<0?i:i.slice(0,r)),a=r<0?null:Ss(i.slice(r+1));if(l in t){let u=t[l];It(u)||(u=t[l]=[u]),u.push(a)}else t[l]=a}return t}function Rl(e){let t="";for(let n in e){const s=e[n];if(n=pp(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(It(s)?s.map(i=>i&&Ei(i)):[s&&Ei(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Xp(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=It(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Jp=Symbol(""),Dl=Symbol(""),hr=Symbol(""),Uc=Symbol(""),Ii=Symbol("");function Zn(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function nn(e,t,n,s,o,i=r=>r()){const r=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((l,a)=>{const u=d=>{d===!1?a(Hn(4,{from:n,to:t})):d instanceof Error?a(d):Rp(d)?a(Hn(2,{from:t,to:d})):(r&&s.enterCallbacks[o]===r&&typeof d=="function"&&r.push(d),l())},c=i(()=>e.call(s&&s.instances[o],t,n,u));let f=Promise.resolve(c);e.length<3&&(f=f.then(u)),f.catch(d=>a(d))})}function ri(e,t,n,s,o=i=>i()){const i=[];for(const r of e)for(const l in r.components){let a=r.components[l];if(!(t!=="beforeRouteEnter"&&!r.instances[l]))if(Qp(a)){const c=(a.__vccOpts||a)[t];c&&i.push(nn(c,n,s,r,l,o))}else{let u=a();i.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${r.path}"`));const f=sp(c)?c.default:c;r.components[l]=f;const h=(f.__vccOpts||f)[t];return h&&nn(h,n,s,r,l,o)()}))}}return i}function Qp(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ll(e){const t=St(hr),n=St(Uc),s=W(()=>t.resolve(I(e.to))),o=W(()=>{const{matched:a}=s.value,{length:u}=a,c=a[u-1],f=n.matched;if(!c||!f.length)return-1;const d=f.findIndex(Gn.bind(null,c));if(d>-1)return d;const h=Gl(a[u-2]);return u>1&&Gl(c)===h&&f[f.length-1].path!==h?f.findIndex(Gn.bind(null,a[u-2])):d}),i=W(()=>o.value>-1&&tm(n.params,s.value.params)),r=W(()=>o.value>-1&&o.value===n.matched.length-1&&Gc(n.params,s.value.params));function l(a={}){return em(a)?t[I(e.replace)?"replace":"push"](I(e.to)).catch(hs):Promise.resolve()}return{route:s,href:W(()=>s.value.href),isActive:i,isExactActive:r,navigate:l}}const Zp=Pe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ll,setup(e,{slots:t}){const n=Le(Ll(e)),{options:s}=St(hr),o=W(()=>({[Hl(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Hl(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:rr("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),so=Zp;function em(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function tm(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!It(o)||o.length!==s.length||s.some((i,r)=>i!==o[r]))return!1}return!0}function Gl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Hl=(e,t,n)=>e??t??n,nm=Pe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=St(Ii),o=W(()=>e.route||s.value),i=St(Dl,0),r=W(()=>{let u=I(i);const{matched:c}=o.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),l=W(()=>o.value.matched[r.value]);Rn(Dl,W(()=>r.value+1)),Rn(Jp,l),Rn(Ii,o);const a=H();return Se(()=>[a.value,l.value,e.name],([u,c,f],[d,h,m])=>{c&&(c.instances[f]=u,h&&h!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!Gn(c,h)||!d)&&(c.enterCallbacks[f]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=o.value,c=e.name,f=l.value,d=f&&f.components[c];if(!d)return Fl(n.default,{Component:d,route:u});const h=f.props[c],m=h?h===!0?u.params:typeof h=="function"?h(u):h:null,b=rr(d,me({},m,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[c]=null)},ref:a}));return Fl(n.default,{Component:b,route:u})||b}}});function Fl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const jc=nm;function sm(e){const t=Wp(e.routes,e),n=e.parseQuery||Yp,s=e.stringifyQuery||Rl,o=e.history,i=Zn(),r=Zn(),l=Zn(),a=ka(Xt);let u=Xt;En&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=oi.bind(null,$=>""+$),f=oi.bind(null,gp),d=oi.bind(null,Ss);function h($,z){let U,Y;return Fc($)?(U=t.getRecordMatcher($),Y=z):Y=$,t.addRoute(Y,U)}function m($){const z=t.getRecordMatcher($);z&&t.removeRoute(z)}function _(){return t.getRoutes().map($=>$.record)}function b($){return!!t.getRecordMatcher($)}function E($,z){if(z=me({},z||a.value),typeof $=="string"){const g=ii(n,$,z.path),y=t.resolve({path:g.path},z),O=o.createHref(g.fullPath);return me(g,y,{params:d(y.params),hash:Ss(g.hash),redirectedFrom:void 0,href:O})}let U;if($.path!=null)U=me({},$,{path:ii(n,$.path,z.path).path});else{const g=me({},$.params);for(const y in g)g[y]==null&&delete g[y];U=me({},$,{params:f(g)}),z.params=f(z.params)}const Y=t.resolve(U,z),he=$.hash||"";Y.params=c(d(Y.params));const be=yp(s,me({},$,{hash:hp(he),path:Y.path})),p=o.createHref(be);return me({fullPath:be,hash:he,query:s===Rl?Xp($.query):$.query||{}},Y,{redirectedFrom:void 0,href:p})}function v($){return typeof $=="string"?ii(n,$,a.value.path):me({},$)}function w($,z){if(u!==$)return Hn(8,{from:z,to:$})}function N($){return V($)}function L($){return N(me(v($),{replace:!0}))}function x($){const z=$.matched[$.matched.length-1];if(z&&z.redirect){const{redirect:U}=z;let Y=typeof U=="function"?U($):U;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=v(Y):{path:Y},Y.params={}),me({query:$.query,hash:$.hash,params:Y.path!=null?{}:$.params},Y)}}function V($,z){const U=u=E($),Y=a.value,he=$.state,be=$.force,p=$.replace===!0,g=x(U);if(g)return V(me(v(g),{state:typeof g=="object"?me({},he,g.state):he,force:be,replace:p}),z||U);const y=U;y.redirectedFrom=z;let O;return!be&&bp(s,Y,U)&&(O=Hn(16,{to:y,from:Y}),qe(Y,Y,!0,!1)),(O?Promise.resolve(O):A(y,Y)).catch(T=>Lt(T)?Lt(T,2)?T:bt(T):oe(T,y,Y)).then(T=>{if(T){if(Lt(T,2))return V(me({replace:p},v(T.to),{state:typeof T.to=="object"?me({},he,T.to.state):he,force:be}),z||y)}else T=P(y,Y,!0,p,he);return X(y,Y,T),T})}function M($,z){const U=w($,z);return U?Promise.reject(U):Promise.resolve()}function C($){const z=Cn.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext($):$()}function A($,z){let U;const[Y,he,be]=om($,z);U=ri(Y.reverse(),"beforeRouteLeave",$,z);for(const g of Y)g.leaveGuards.forEach(y=>{U.push(nn(y,$,z))});const p=M.bind(null,$,z);return U.push(p),je(U).then(()=>{U=[];for(const g of i.list())U.push(nn(g,$,z));return U.push(p),je(U)}).then(()=>{U=ri(he,"beforeRouteUpdate",$,z);for(const g of he)g.updateGuards.forEach(y=>{U.push(nn(y,$,z))});return U.push(p),je(U)}).then(()=>{U=[];for(const g of be)if(g.beforeEnter)if(It(g.beforeEnter))for(const y of g.beforeEnter)U.push(nn(y,$,z));else U.push(nn(g.beforeEnter,$,z));return U.push(p),je(U)}).then(()=>($.matched.forEach(g=>g.enterCallbacks={}),U=ri(be,"beforeRouteEnter",$,z,C),U.push(p),je(U))).then(()=>{U=[];for(const g of r.list())U.push(nn(g,$,z));return U.push(p),je(U)}).catch(g=>Lt(g,8)?g:Promise.reject(g))}function X($,z,U){l.list().forEach(Y=>C(()=>Y($,z,U)))}function P($,z,U,Y,he){const be=w($,z);if(be)return be;const p=z===Xt,g=En?history.state:{};U&&(Y||p?o.replace($.fullPath,me({scroll:p&&g&&g.scroll},he)):o.push($.fullPath,he)),a.value=$,qe($,z,U,p),bt()}let te;function q(){te||(te=o.listen(($,z,U)=>{if(!Gs.listening)return;const Y=E($),he=x(Y);if(he){V(me(he,{replace:!0}),Y).catch(hs);return}u=Y;const be=a.value;En&&Mp(Il(be.fullPath,U.delta),Ho()),A(Y,be).catch(p=>Lt(p,12)?p:Lt(p,2)?(V(p.to,Y).then(g=>{Lt(g,20)&&!U.delta&&U.type===Es.pop&&o.go(-1,!1)}).catch(hs),Promise.reject()):(U.delta&&o.go(-U.delta,!1),oe(p,Y,be))).then(p=>{p=p||P(Y,be,!1),p&&(U.delta&&!Lt(p,8)?o.go(-U.delta,!1):U.type===Es.pop&&Lt(p,20)&&o.go(-1,!1)),X(Y,be,p)}).catch(hs)}))}let pe=Zn(),ae=Zn(),ie;function oe($,z,U){bt($);const Y=ae.list();return Y.length?Y.forEach(he=>he($,z,U)):console.error($),Promise.reject($)}function ke(){return ie&&a.value!==Xt?Promise.resolve():new Promise(($,z)=>{pe.add([$,z])})}function bt($){return ie||(ie=!$,q(),pe.list().forEach(([z,U])=>$?U($):z()),pe.reset()),$}function qe($,z,U,Y){const{scrollBehavior:he}=e;if(!En||!he)return Promise.resolve();const be=!U&&$p(Il($.fullPath,0))||(Y||!U)&&history.state&&history.state.scroll||null;return kt().then(()=>he($,z,be)).then(p=>p&&Ip(p)).catch(p=>oe(p,$,z))}const Re=$=>o.go($);let Rt;const Cn=new Set,Gs={currentRoute:a,listening:!0,addRoute:h,removeRoute:m,hasRoute:b,getRoutes:_,resolve:E,options:e,push:N,replace:L,go:Re,back:()=>Re(-1),forward:()=>Re(1),beforeEach:i.add,beforeResolve:r.add,afterEach:l.add,onError:ae.add,isReady:ke,install($){const z=this;$.component("RouterLink",so),$.component("RouterView",jc),$.config.globalProperties.$router=z,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>I(a)}),En&&!Rt&&a.value===Xt&&(Rt=!0,N(o.location).catch(he=>{}));const U={};for(const he in Xt)Object.defineProperty(U,he,{get:()=>a.value[he],enumerable:!0});$.provide(hr,z),$.provide(Uc,Oa(U)),$.provide(Ii,a);const Y=$.unmount;Cn.add($),$.unmount=function(){Cn.delete($),Cn.size<1&&(u=Xt,te&&te(),te=null,a.value=Xt,Rt=!1,ie=!1),Y()}}};function je($){return $.reduce((z,U)=>z.then(()=>C(U)),Promise.resolve())}return Gs}function om(e,t){const n=[],s=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let r=0;r<i;r++){const l=t.matched[r];l&&(e.matched.find(u=>Gn(u,l))?s.push(l):n.push(l));const a=e.matched[r];a&&(t.matched.find(u=>Gn(u,a))||o.push(a))}return[n,s,o]}const im={class:"text-light-300 bg-dark-900 min-h-100svh flex flex-col gap-0",id:"app"},rm={class:"sticky top-0 flex items-end text-sm p-2 gap-2 backdrop-blur-lg z-100 bg-dark-400 bg-opacity-40"},lm=S("div",{class:"p-0 op-70"},"Light Saber Lab ",-1),am={class:"text-xs op-40"},cm=S("div",{class:"flex-auto"},null,-1),um=S("div",{class:"p-0 op-40"},"Pirate Bay, Phuket",-1),dm={class:"text-2xl sm-text-3xl p-2 bg-dark-400 text-white flex items-center gap-4"},fm=S("div",{class:"i-fa6-solid-jedi"},null,-1),hm=[fm],pm=["title"],mm={key:0,class:"i-ph-bluetooth"},gm={key:1,class:"i-ph-bluetooth-slash"},vm=S("div",{class:"flex-auto"},null,-1),_m=S("div",{class:"i-la-home"},null,-1),ym=S("div",{class:"i-carbon-calibrate"},null,-1),bm=S("div",{class:"i-ph-graph"},null,-1),wm={__name:"App",setup(e){const{color:t,hsl:n}=Lo(),{device:s,available:o,connect:i}=ar(),{state:r,toggleLightState:l,calibrateIMU:a}=ks(),u=H(!1);return(c,f)=>(k(),F("main",im,[S("header",rm,[lm,S("div",am,"v."+de(I(np)),1),cm,um]),S("nav",dm,[S("button",{class:"cursor-pointer text-2xl p-2 z-100",style:ue({backgroundColor:I(r).lightState?I(n):"hsl(0deg,0%,30%)",opacity:I(r).lightState?1:.7}),onDblclick:f[0]||(f[0]=Ke(()=>{},["prevent"])),onClick:f[1]||(f[1]=Ke(d=>I(l)(),["prevent"]))},hm,36),S("button",{class:Oe(["opacity-50 hover-opacity-100",{"opacity-80":I(o)}]),onClick:f[2]||(f[2]=d=>I(i)()),title:I(s)?.name},[I(o)?(k(),F("div",mm)):(k(),F("div",gm))],10,pm),vm,ee(I(so),{class:"opacity-50 hover-opacity-100",to:"/"},{default:Je(()=>[_m]),_:1}),ee(I(so),{class:"opacity-50 hover-opacity-100",to:"/debug/"},{default:Je(()=>[ym]),_:1}),ee(I(so),{class:Oe(["opacity-50 hover-opacity-100",{"animate-pulse scale-150":u.value}]),to:"/nodes/"},{default:Je(()=>[bm]),_:1},8,["class"])]),ee(I(jc),null,{default:Je(({Component:d})=>[ee(qn,{name:"fade",mode:"out-in"},{default:Je(()=>[(k(),Me(Pd,null,[(k(),Me($o(d)))],1024))]),_:2},1024)]),_:1})]))}};let Xs;const Cm=new Uint8Array(16);function xm(){if(!Xs&&(Xs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xs(Cm)}const He=[];for(let e=0;e<256;++e)He.push((e+256).toString(16).slice(1));function Sm(e,t=0){return He[e[t+0]]+He[e[t+1]]+He[e[t+2]]+He[e[t+3]]+"-"+He[e[t+4]]+He[e[t+5]]+"-"+He[e[t+6]]+He[e[t+7]]+"-"+He[e[t+8]]+He[e[t+9]]+"-"+He[e[t+10]]+He[e[t+11]]+He[e[t+12]]+He[e[t+13]]+He[e[t+14]]+He[e[t+15]]}const Em=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Bl={randomUUID:Em};function Vt(e,t,n){if(Bl.randomUUID&&!t&&!e)return Bl.randomUUID();e=e||{};const s=e.random||(e.rng||xm)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){n=n||0;for(let o=0;o<16;++o)t[n+o]=s[o];return t}return Sm(s)}class gn{constructor(){this.listenerMap=new Map,this._listeners=[],this.proxyMap=new Map,this.proxies=[]}get listeners(){return this._listeners.concat(this.proxies.flatMap(t=>t()))}subscribe(t,n){this.listenerMap.has(t)&&(console.warn(`Already subscribed. Unsubscribing for you.
Please check that you don't accidentally use the same token twice to register two different handlers for the same event/hook.`),this.unsubscribe(t)),this.listenerMap.set(t,n),this._listeners.push(n)}unsubscribe(t){if(this.listenerMap.has(t)){const n=this.listenerMap.get(t);this.listenerMap.delete(t);const s=this._listeners.indexOf(n);s>=0&&this._listeners.splice(s,1)}}registerProxy(t,n){this.proxyMap.has(t)&&(console.warn(`Already subscribed. Unsubscribing for you.
Please check that you don't accidentally use the same token twice to register two different proxies for the same event/hook.`),this.unregisterProxy(t)),this.proxyMap.set(t,n),this.proxies.push(n)}unregisterProxy(t){if(!this.proxyMap.has(t))return;const n=this.proxyMap.get(t);this.proxyMap.delete(t);const s=this.proxies.indexOf(n);s>=0&&this.proxies.splice(s,1)}}class Ce extends gn{constructor(t){super(),this.entity=t}emit(t){this.listeners.forEach(n=>n(t,this.entity))}}class Qe extends gn{constructor(t){super(),this.entity=t}emit(t){let n=!1;const s=()=>[n=!0];for(const o of Array.from(this.listeners.values()))if(o(t,s,this.entity),n)return{prevented:!0};return{prevented:!1}}}class Tm extends gn{execute(t,n){let s=t;for(const o of this.listeners)s=o(s,n);return s}}class _t extends Tm{constructor(t){super(),this.entity=t}execute(t){return super.execute(t,this.entity)}}class Im extends gn{constructor(t){super(),this.entity=t}execute(t){const n=[];for(const s of this.listeners)n.push(s(t,this.entity));return n}}function Nt(){const e=Symbol(),t=new Map,n=new Set,s=(a,u)=>{u instanceof gn&&u.registerProxy(e,()=>{var c,f;return(f=(c=t.get(a))===null||c===void 0?void 0:c.listeners)!==null&&f!==void 0?f:[]})},o=a=>{const u=new gn;t.set(a,u),n.forEach(c=>s(a,c[a]))},i=a=>{n.add(a);for(const u of t.keys())s(u,a[u])},r=a=>{for(const u of t.keys())a[u]instanceof gn&&a[u].unregisterProxy(e);n.delete(a)},l=()=>{n.forEach(a=>r(a)),t.clear()};return new Proxy({},{get(a,u){return u==="addTarget"?i:u==="removeTarget"?r:u==="destroy"?l:typeof u!="string"||u.startsWith("_")?a[u]:(t.has(u)||o(u),t.get(u))}})}class Vl{constructor(t,n){if(this.destructed=!1,this.events={destruct:new Ce(this)},!t||!n)throw new Error("Cannot initialize connection with null/undefined for 'from' or 'to' values");this.id=Vt(),this.from=t,this.to=n,this.from.connectionCount++,this.to.connectionCount++}destruct(){this.events.destruct.emit(),this.from.connectionCount--,this.to.connectionCount--,this.destructed=!0}}class Mm{constructor(t,n){if(!t||!n)throw new Error("Cannot initialize connection with null/undefined for 'from' or 'to' values");this.id=Vt(),this.from=t,this.to=n}}function Mi(e,t){return Object.fromEntries(Object.entries(e).map(([n,s])=>[n,t(s)]))}class Wc{constructor(){this._title="",this.id=Vt(),this.events={loaded:new Ce(this),beforeAddInput:new Qe(this),addInput:new Ce(this),beforeRemoveInput:new Qe(this),removeInput:new Ce(this),beforeAddOutput:new Qe(this),addOutput:new Ce(this),beforeRemoveOutput:new Qe(this),removeOutput:new Ce(this),beforeTitleChanged:new Qe(this),titleChanged:new Ce(this),update:new Ce(this)},this.hooks={beforeLoad:new _t(this),afterSave:new _t(this)}}get graph(){return this.graphInstance}get title(){return this._title}set title(t){this.events.beforeTitleChanged.emit(t).prevented||(this._title=t,this.events.titleChanged.emit(t))}addInput(t,n){return this.addInterface("input",t,n)}addOutput(t,n){return this.addInterface("output",t,n)}removeInput(t){return this.removeInterface("input",t)}removeOutput(t){return this.removeInterface("output",t)}registerGraph(t){this.graphInstance=t}load(t){this.hooks.beforeLoad.execute(t),this.id=t.id,this._title=t.title,Object.entries(t.inputs).forEach(([n,s])=>{this.inputs[n]&&(this.inputs[n].load(s),this.inputs[n].nodeId=this.id)}),Object.entries(t.outputs).forEach(([n,s])=>{this.outputs[n]&&(this.outputs[n].load(s),this.outputs[n].nodeId=this.id)}),this.events.loaded.emit(this)}save(){const t=Mi(this.inputs,o=>o.save()),n=Mi(this.outputs,o=>o.save()),s={type:this.type,id:this.id,title:this.title,inputs:t,outputs:n};return this.hooks.afterSave.execute(s)}onPlaced(){}onDestroy(){}initializeIo(){Object.entries(this.inputs).forEach(([t,n])=>this.initializeIntf("input",t,n)),Object.entries(this.outputs).forEach(([t,n])=>this.initializeIntf("output",t,n))}initializeIntf(t,n,s){s.isInput=t==="input",s.nodeId=this.id,s.events.setValue.subscribe(this,()=>this.events.update.emit({type:t,name:n,intf:s}))}addInterface(t,n,s){const o=t==="input"?this.events.beforeAddInput:this.events.beforeAddOutput,i=t==="input"?this.events.addInput:this.events.addOutput,r=t==="input"?this.inputs:this.outputs;return o.emit(s).prevented?!1:(r[n]=s,this.initializeIntf(t,n,s),i.emit(s),!0)}removeInterface(t,n){const s=t==="input"?this.events.beforeRemoveInput:this.events.beforeRemoveOutput,o=t==="input"?this.events.removeInput:this.events.removeOutput,i=t==="input"?this.inputs[n]:this.outputs[n];if(!i||s.emit(i).prevented)return!1;if(i.connectionCount>0)if(this.graphInstance)this.graphInstance.connections.filter(l=>l.from===i||l.to===i).forEach(l=>{this.graphInstance.removeConnection(l)});else throw new Error("Interface is connected, but no graph instance is specified. Unable to delete interface");return i.events.setValue.unsubscribe(this),t==="input"?delete this.inputs[n]:delete this.outputs[n],o.emit(i),!0}}class zc extends Wc{load(t){super.load(t)}save(){return super.save()}}function $m(e){return class extends zc{constructor(){var t,n;super(),this.type=e.type,this.inputs={},this.outputs={},this.calculate=e.calculate?(s,o)=>e.calculate.call(this,s,o):void 0,this._title=(t=e.title)!==null&&t!==void 0?t:e.type,this.executeFactory("input",e.inputs),this.executeFactory("output",e.outputs),(n=e.onCreate)===null||n===void 0||n.call(this)}onPlaced(){var t;(t=e.onPlaced)===null||t===void 0||t.call(this)}onDestroy(){var t;(t=e.onDestroy)===null||t===void 0||t.call(this)}executeFactory(t,n){Object.keys(n||{}).forEach(s=>{const o=n[s]();t==="input"?this.addInput(s,o):this.addOutput(s,o)})}}}class tt{set connectionCount(t){this._connectionCount=t,this.events.setConnectionCount.emit(t)}get connectionCount(){return this._connectionCount}set value(t){this.events.beforeSetValue.emit(t).prevented||(this._value=t,this.events.setValue.emit(t))}get value(){return this._value}constructor(t,n){this.id=Vt(),this.nodeId="",this.port=!0,this.hidden=!1,this.events={setConnectionCount:new Ce(this),beforeSetValue:new Qe(this),setValue:new Ce(this),updated:new Ce(this)},this.hooks={load:new _t(this),save:new _t(this)},this._connectionCount=0,this.name=t,this._value=n}load(t){this.id=t.id,this.templateId=t.templateId,this.value=t.value,this.hooks.load.execute(t)}save(){const t={id:this.id,templateId:this.templateId,value:this.value};return this.hooks.save.execute(t)}setComponent(t){return this.component=t,this}setPort(t){return this.port=t,this}setHidden(t){return this.hidden=t,this}use(t,...n){return t(this,...n),this}}const Fn="__baklava_SubgraphInputNode",Bn="__baklava_SubgraphOutputNode";class Kc extends zc{constructor(){super(),this.graphInterfaceId=Vt()}onPlaced(){super.onPlaced(),this.initializeIo()}save(){return{...super.save(),graphInterfaceId:this.graphInterfaceId}}load(t){super.load(t),this.graphInterfaceId=t.graphInterfaceId}}class pr extends Kc{constructor(){super(...arguments),this.type=Fn,this.inputs={name:new tt("Name","Input")},this.outputs={placeholder:new tt("Value",void 0)}}static isGraphInputNode(t){return t.type===Fn}}class mr extends Kc{constructor(){super(...arguments),this.type=Bn,this.inputs={name:new tt("Name","Output"),placeholder:new tt("Value",void 0)},this.outputs={output:new tt("Output",void 0).setHidden(!0)},this.calculate=({placeholder:t})=>({output:t})}static isGraphOutputNode(t){return t.type===Bn}}class Fo{get nodes(){return this._nodes}get connections(){return this._connections}get loading(){return this._loading}get destroying(){return this._destroying}get inputs(){return this.nodes.filter(n=>n.type===Fn).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.placeholder.id}))}get outputs(){return this.nodes.filter(n=>n.type===Bn).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.output.id}))}constructor(t,n){this.id=Vt(),this.activeTransactions=0,this._nodes=[],this._connections=[],this._loading=!1,this._destroying=!1,this.events={beforeAddNode:new Qe(this),addNode:new Ce(this),beforeRemoveNode:new Qe(this),removeNode:new Ce(this),beforeAddConnection:new Qe(this),addConnection:new Ce(this),checkConnection:new Qe(this),beforeRemoveConnection:new Qe(this),removeConnection:new Ce(this)},this.hooks={save:new _t(this),load:new _t(this),checkConnection:new Im(this)},this.nodeEvents=Nt(),this.nodeHooks=Nt(),this.connectionEvents=Nt(),this.editor=t,this.template=n,t.registerGraph(this)}addNode(t){if(!this.events.beforeAddNode.emit(t).prevented)return this.nodeEvents.addTarget(t.events),this.nodeHooks.addTarget(t.hooks),t.registerGraph(this),this._nodes.push(t),t=this.nodes.find(n=>n.id===t.id),t.onPlaced(),this.events.addNode.emit(t),t}removeNode(t){if(this.nodes.includes(t)){if(this.events.beforeRemoveNode.emit(t).prevented)return;const n=[...Object.values(t.inputs),...Object.values(t.outputs)];this.connections.filter(s=>n.includes(s.from)||n.includes(s.to)).forEach(s=>this.removeConnection(s)),this._nodes.splice(this.nodes.indexOf(t),1),this.events.removeNode.emit(t),t.onDestroy(),this.nodeEvents.removeTarget(t.events),this.nodeHooks.removeTarget(t.hooks)}}addConnection(t,n){const s=this.checkConnection(t,n);if(!s.connectionAllowed||this.events.beforeAddConnection.emit({from:t,to:n}).prevented)return;for(const i of s.connectionsInDanger){const r=this.connections.find(l=>l.id===i.id);r&&this.removeConnection(r)}const o=new Vl(s.dummyConnection.from,s.dummyConnection.to);return this.internalAddConnection(o),o}removeConnection(t){if(this.connections.includes(t)){if(this.events.beforeRemoveConnection.emit(t).prevented)return;t.destruct(),this._connections.splice(this.connections.indexOf(t),1),this.events.removeConnection.emit(t),this.connectionEvents.removeTarget(t.events)}}checkConnection(t,n){if(!t||!n)return{connectionAllowed:!1};const s=this.findNodeById(t.nodeId),o=this.findNodeById(n.nodeId);if(s&&o&&s===o)return{connectionAllowed:!1};if(t.isInput&&!n.isInput){const l=t;t=n,n=l}if(t.isInput||!n.isInput)return{connectionAllowed:!1};if(this.connections.some(l=>l.from===t&&l.to===n))return{connectionAllowed:!1};if(this.events.checkConnection.emit({from:t,to:n}).prevented)return{connectionAllowed:!1};const i=this.hooks.checkConnection.execute({from:t,to:n});if(i.some(l=>!l.connectionAllowed))return{connectionAllowed:!1};const r=Array.from(new Set(i.flatMap(l=>l.connectionsInDanger)));return{connectionAllowed:!0,dummyConnection:new Mm(t,n),connectionsInDanger:r}}findNodeInterface(t){for(const n of this.nodes){for(const s in n.inputs){const o=n.inputs[s];if(o.id===t)return o}for(const s in n.outputs){const o=n.outputs[s];if(o.id===t)return o}}}findNodeById(t){return this.nodes.find(n=>n.id===t)}load(t){try{this._loading=!0;const n=[];for(let s=this.connections.length-1;s>=0;s--)this.removeConnection(this.connections[s]);for(let s=this.nodes.length-1;s>=0;s--)this.removeNode(this.nodes[s]);this.id=t.id;for(const s of t.nodes){const o=this.editor.nodeTypes.get(s.type);if(!o){n.push(`Node type ${s.type} is not registered`);continue}const i=new o.type;this.addNode(i),i.load(s)}for(const s of t.connections){const o=this.findNodeInterface(s.from),i=this.findNodeInterface(s.to);if(o)if(i){const r=new Vl(o,i);r.id=s.id,this.internalAddConnection(r)}else{n.push(`Could not find interface with id ${s.to}`);continue}else{n.push(`Could not find interface with id ${s.from}`);continue}}return this.hooks.load.execute(t),n}finally{this._loading=!1}}save(){const t={id:this.id,nodes:this.nodes.map(n=>n.save()),connections:this.connections.map(n=>({id:n.id,from:n.from.id,to:n.to.id})),inputs:this.inputs,outputs:this.outputs};return this.hooks.save.execute(t)}destroy(){this._destroying=!0;for(const t of this.nodes)this.removeNode(t);this.editor.unregisterGraph(this)}internalAddConnection(t){this.connectionEvents.addTarget(t.events),this._connections.push(t),this.events.addConnection.emit(t)}}const Ts="__baklava_GraphNode-";function Vn(e){return Ts+e.id}function Nm(e){return class extends Wc{constructor(){super(...arguments),this.type=Vn(e),this.inputs={},this.outputs={},this.template=e,this.calculate=async(n,s)=>{var o;if(!this.subgraph)throw new Error(`GraphNode ${this.id}: calculate called without subgraph being initialized`);if(!s.engine||typeof s.engine!="object")throw new Error(`GraphNode ${this.id}: calculate called but no engine provided in context`);const i=s.engine.getInputValues(this.subgraph);for(const a of this.subgraph.inputs)i.set(a.nodeInterfaceId,n[a.id]);const r=await s.engine.runGraph(this.subgraph,i,s.globalValues),l={};for(const a of this.subgraph.outputs)l[a.id]=(o=r.get(a.nodeId))===null||o===void 0?void 0:o.get("output");return l._calculationResults=r,l}}get title(){return this._title}set title(n){this.template.name=n}load(n){if(!this.subgraph)throw new Error("Cannot load a graph node without a graph");if(!this.template)throw new Error("Unable to load graph node without graph template");this.subgraph.load(n.graphState),super.load(n)}save(){if(!this.subgraph)throw new Error("Cannot save a graph node without a graph");return{...super.save(),graphState:this.subgraph.save()}}onPlaced(){this.template.events.updated.subscribe(this,()=>this.initialize()),this.template.events.nameChanged.subscribe(this,n=>{this._title=n}),this.initialize()}onDestroy(){var n;this.template.events.updated.unsubscribe(this),this.template.events.nameChanged.unsubscribe(this),(n=this.subgraph)===null||n===void 0||n.destroy()}initialize(){this.subgraph&&this.subgraph.destroy(),this.subgraph=this.template.createGraph(),this._title=this.template.name,this.updateInterfaces(),this.events.update.emit(null)}updateInterfaces(){if(!this.subgraph)throw new Error("Trying to update interfaces without graph instance");for(const n of this.subgraph.inputs)n.id in this.inputs?this.inputs[n.id].name=n.name:this.addInput(n.id,this.createProxyInterface(n,!0));for(const n of Object.keys(this.inputs))this.subgraph.inputs.some(s=>s.id===n)||this.removeInput(n);for(const n of this.subgraph.outputs)n.id in this.outputs?this.outputs[n.id].name=n.name:this.addOutput(n.id,this.createProxyInterface(n,!1));for(const n of Object.keys(this.outputs))this.subgraph.outputs.some(s=>s.id===n)||this.removeOutput(n);this.addOutput("_calculationResults",new tt("_calculationResults",void 0).setHidden(!0))}createProxyInterface(n,s){const o=new tt(n.name,void 0);return new Proxy(o,{get:(i,r)=>{var l,a,u;if(r in i||typeof r=="string"&&r.startsWith("__v_"))return Reflect.get(i,r);let c;if(s){const h=(l=this.subgraph)===null||l===void 0?void 0:l.nodes.find(m=>pr.isGraphInputNode(m)&&m.graphInterfaceId===n.id);c=h?.outputs.placeholder.id}else{const h=(a=this.subgraph)===null||a===void 0?void 0:a.nodes.find(m=>mr.isGraphOutputNode(m)&&m.graphInterfaceId===n.id);c=h?.inputs.placeholder.id}const f=(u=this.subgraph)===null||u===void 0?void 0:u.connections.find(h=>{var m;return c===((m=s?h.from:h.to)===null||m===void 0?void 0:m.id)}),d=s?f?.to:f?.from;if(d)return Reflect.get(d,r)}})}}}class Bo{static fromGraph(t,n){return new Bo(t.save(),n)}get name(){return this._name}set name(t){this._name=t,this.events.nameChanged.emit(t);const n=this.editor.nodeTypes.get(Vn(this));n&&(n.title=t)}get inputs(){return this.nodes.filter(n=>n.type===Fn).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.placeholder.id}))}get outputs(){return this.nodes.filter(n=>n.type===Bn).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.output.id}))}constructor(t,n){this.id=Vt(),this._name="Subgraph",this.events={nameChanged:new Ce(this),updated:new Ce(this)},this.hooks={beforeLoad:new _t(this),afterSave:new _t(this)},this.editor=n,t.id&&(this.id=t.id),t.name&&(this._name=t.name),this.update(t)}update(t){this.nodes=t.nodes,this.connections=t.connections,this.events.updated.emit()}save(){return{id:this.id,name:this.name,nodes:this.nodes,connections:this.connections,inputs:this.inputs,outputs:this.outputs}}createGraph(t){const n=new Map,s=d=>{const h=Vt();return n.set(d,h),h},o=d=>{const h=n.get(d);if(!h)throw new Error(`Unable to create graph from template: Could not map old id ${d} to new id`);return h},i=d=>Mi(d,h=>({id:s(h.id),templateId:h.id,value:h.value})),r=this.nodes.map(d=>({...d,id:s(d.id),inputs:i(d.inputs),outputs:i(d.outputs)})),l=this.connections.map(d=>({id:s(d.id),from:o(d.from),to:o(d.to)})),a=this.inputs.map(d=>({id:d.id,name:d.name,nodeId:o(d.nodeId),nodeInterfaceId:o(d.nodeInterfaceId)})),u=this.outputs.map(d=>({id:d.id,name:d.name,nodeId:o(d.nodeId),nodeInterfaceId:o(d.nodeInterfaceId)})),c={id:Vt(),nodes:r,connections:l,inputs:a,outputs:u};return t||(t=new Fo(this.editor)),t.load(c).forEach(d=>console.warn(d)),t.template=this,t}}class Om{get nodeTypes(){return this._nodeTypes}get graph(){return this._graph}get graphTemplates(){return this._graphTemplates}get graphs(){return this._graphs}get loading(){return this._loading}constructor(){this.events={loaded:new Ce(this),beforeRegisterNodeType:new Qe(this),registerNodeType:new Ce(this),beforeUnregisterNodeType:new Qe(this),unregisterNodeType:new Ce(this),beforeAddGraphTemplate:new Qe(this),addGraphTemplate:new Ce(this),beforeRemoveGraphTemplate:new Qe(this),removeGraphTemplate:new Ce(this),registerGraph:new Ce(this),unregisterGraph:new Ce(this)},this.hooks={save:new _t(this),load:new _t(this)},this.graphTemplateEvents=Nt(),this.graphTemplateHooks=Nt(),this.graphEvents=Nt(),this.graphHooks=Nt(),this.nodeEvents=Nt(),this.nodeHooks=Nt(),this.connectionEvents=Nt(),this._graphs=new Set,this._nodeTypes=new Map,this._graph=new Fo(this),this._graphTemplates=[],this._loading=!1,this.registerNodeType(pr),this.registerNodeType(mr)}registerNodeType(t,n){var s,o;if(this.events.beforeRegisterNodeType.emit({type:t,options:n}).prevented)return;const i=new t;this._nodeTypes.set(i.type,{type:t,category:(s=n?.category)!==null&&s!==void 0?s:"default",title:(o=n?.title)!==null&&o!==void 0?o:i.title}),this.events.registerNodeType.emit({type:t,options:n})}unregisterNodeType(t){const n=typeof t=="string"?t:new t().type;if(this.nodeTypes.has(n)){if(this.events.beforeUnregisterNodeType.emit(n).prevented)return;this._nodeTypes.delete(n),this.events.unregisterNodeType.emit(n)}}addGraphTemplate(t){if(this.events.beforeAddGraphTemplate.emit(t).prevented)return;this._graphTemplates.push(t),this.graphTemplateEvents.addTarget(t.events),this.graphTemplateHooks.addTarget(t.hooks);const n=Nm(t);this.registerNodeType(n,{category:"Subgraphs",title:t.name}),this.events.addGraphTemplate.emit(t)}removeGraphTemplate(t){if(this.graphTemplates.includes(t)){if(this.events.beforeRemoveGraphTemplate.emit(t).prevented)return;const n=Vn(t);for(const s of[this.graph,...this.graphs.values()]){const o=s.nodes.filter(i=>i.type===n);for(const i of o)s.removeNode(i)}this.unregisterNodeType(n),this._graphTemplates.splice(this._graphTemplates.indexOf(t),1),this.graphTemplateEvents.removeTarget(t.events),this.graphTemplateHooks.removeTarget(t.hooks),this.events.removeGraphTemplate.emit(t)}}registerGraph(t){this.graphEvents.addTarget(t.events),this.graphHooks.addTarget(t.hooks),this.nodeEvents.addTarget(t.nodeEvents),this.nodeHooks.addTarget(t.nodeHooks),this.connectionEvents.addTarget(t.connectionEvents),this.events.registerGraph.emit(t),this._graphs.add(t)}unregisterGraph(t){this.graphEvents.removeTarget(t.events),this.graphHooks.removeTarget(t.hooks),this.nodeEvents.removeTarget(t.nodeEvents),this.nodeHooks.removeTarget(t.nodeHooks),this.connectionEvents.removeTarget(t.connectionEvents),this.events.unregisterGraph.emit(t),this._graphs.delete(t)}load(t){try{for(this._loading=!0,t=this.hooks.load.execute(t);this.graphTemplates.length>0;)this.removeGraphTemplate(this.graphTemplates[0]);t.graphTemplates.forEach(s=>{const o=new Bo(s,this);this.addGraphTemplate(o)});const n=this._graph.load(t.graph);return this.events.loaded.emit(),n.forEach(s=>console.warn(s)),n}finally{this._loading=!1}}save(){const t={graph:this.graph.save(),graphTemplates:this.graphTemplates.map(n=>n.save())};return this.hooks.save.execute(t)}}var Ul;(function(e){e.Running="Running",e.Idle="Idle",e.Paused="Paused",e.Stopped="Stopped"})(Ul||(Ul={}));const Am=["INPUT","TEXTAREA","SELECT"];function qc(e){return Am.includes(e.tagName)}let $i=null;function Pm(e){$i=e}function lt(){if(!$i)throw new Error("providePlugin() must be called before usePlugin()");return{viewModel:$i}}function yt(){const{viewModel:e}=lt();return{graph:vs(e.value,"displayedGraph"),switchGraph:e.value.switchGraph}}function Yc(e){const{graph:t}=yt(),n=H(null),s=H(null);return{dragging:W(()=>!!n.value),onPointerDown:a=>{n.value={x:a.pageX,y:a.pageY},s.value={x:e.value.x,y:e.value.y}},onPointerMove:a=>{if(n.value){const u=a.pageX-n.value.x,c=a.pageY-n.value.y;e.value.x=s.value.x+u/t.value.scaling,e.value.y=s.value.y+c/t.value.scaling}},onPointerUp:()=>{n.value=null,s.value=null}}}function Xc(e,t,n){if(!t.template)return!1;if(Vn(t.template)===n)return!0;const s=e.graphTemplates.find(i=>Vn(i)===n);return s?s.nodes.filter(i=>i.type.startsWith(Ts)).some(i=>Xc(e,t,i.type)):!1}function Jc(e){return W(()=>{const t=Array.from(e.value.editor.nodeTypes.entries()),n=new Set(t.map(([,o])=>o.category)),s=[];for(const o of n.values()){let i=t.filter(([,r])=>r.category===o);e.value.displayedGraph.template?i=i.filter(([r])=>!Xc(e.value.editor,e.value.displayedGraph,r)):i=i.filter(([r])=>![Fn,Bn].includes(r)),i.length>0&&s.push({name:o,nodeTypes:Object.fromEntries(i)})}return s.sort((o,i)=>o.name==="default"?-1:i.name==="default"||o.name>i.name?1:-1),s})}function Qc(){const{graph:e}=yt();return{transform:(n,s)=>{const o=n/e.value.scaling-e.value.panning.x,i=s/e.value.scaling-e.value.panning.y;return[o,i]}}}function km(){const{graph:e}=yt();let t=[],n=-1,s={x:0,y:0};const o=W(()=>e.value.panning),i=Yc(o),r=W(()=>({"transform-origin":"0 0",transform:`scale(${e.value.scaling}) translate(${e.value.panning.x}px, ${e.value.panning.y}px)`})),l=(h,m,_)=>{const b=[h/e.value.scaling-e.value.panning.x,m/e.value.scaling-e.value.panning.y],E=[h/_-e.value.panning.x,m/_-e.value.panning.y],v=[E[0]-b[0],E[1]-b[1]];e.value.panning.x+=v[0],e.value.panning.y+=v[1],e.value.scaling=_},a=h=>{h.preventDefault();let m=h.deltaY;h.deltaMode===1&&(m*=32);const _=e.value.scaling*(1-m/3e3);l(h.offsetX,h.offsetY,_)},u=()=>({ax:t[0].clientX,ay:t[0].clientY,bx:t[1].clientX,by:t[1].clientY});return{styles:r,...i,onPointerDown:h=>{if(t.push(h),i.onPointerDown(h),t.length===2){const{ax:m,ay:_,bx:b,by:E}=u();s={x:m+(b-m)/2,y:_+(E-_)/2}}},onPointerMove:h=>{for(let m=0;m<t.length;m++)if(h.pointerId==t[m].pointerId){t[m]=h;break}if(t.length==2){const{ax:m,ay:_,bx:b,by:E}=u(),v=m-b,w=_-E,N=Math.sqrt(v*v+w*w);if(n>0){const L=e.value.scaling*(1+(N-n)/500);l(s.x,s.y,L)}n=N}else i.onPointerMove(h)},onPointerUp:h=>{t=t.filter(m=>m.pointerId!==h.pointerId),n=-1,i.onPointerUp()},onMouseWheel:a}}var pt=(e=>(e[e.NONE=0]="NONE",e[e.ALLOWED=1]="ALLOWED",e[e.FORBIDDEN=2]="FORBIDDEN",e))(pt||{});const Zc=Symbol();function Rm(){const{graph:e}=yt(),t=H(null),n=H(null),s=l=>{t.value&&(t.value.mx=l.offsetX/e.value.scaling-e.value.panning.x,t.value.my=l.offsetY/e.value.scaling-e.value.panning.y)},o=()=>{if(n.value){if(t.value)return;const l=e.value.connections.find(a=>a.to===n.value);n.value.isInput&&l?(t.value={status:pt.NONE,from:l.from},e.value.removeConnection(l)):t.value={status:pt.NONE,from:n.value},t.value.mx=void 0,t.value.my=void 0}},i=()=>{if(t.value&&n.value){if(t.value.from===n.value)return;e.value.addConnection(t.value.from,t.value.to)}t.value=null},r=l=>{if(n.value=l??null,l&&t.value){t.value.to=l;const a=e.value.checkConnection(t.value.from,t.value.to);if(t.value.status=a.connectionAllowed?pt.ALLOWED:pt.FORBIDDEN,a.connectionAllowed){const u=a.connectionsInDanger.map(c=>c.id);e.value.connections.forEach(c=>{u.includes(c.id)&&(c.isInDanger=!0)})}}else!l&&t.value&&(t.value.to=void 0,t.value.status=pt.NONE,e.value.connections.forEach(a=>{a.isInDanger=!1}))};return Rn(Zc,{temporaryConnection:t,hoveredOver:r}),{temporaryConnection:t,onMouseMove:s,onMouseDown:o,onMouseUp:i,hoveredOver:r}}function Dm(e){const t=H(!1),n=H(0),s=H(0),o=Jc(e),{transform:i}=Qc(),r=W(()=>{let c=[];const f={};for(const h of o.value){const m=Object.entries(h.nodeTypes).map(([_,b])=>({label:b.title,value:"addNode:"+_}));h.name==="default"?c=m:f[h.name]=m}const d=[...Object.entries(f).map(([h,m])=>({label:h,submenu:m}))];return d.length>0&&c.length>0&&d.push({isDivider:!0}),d.push(...c),d}),l=W(()=>e.value.settings.contextMenu.additionalItems.length===0?r.value:[{label:"Add node",submenu:r.value},...e.value.settings.contextMenu.additionalItems.map(c=>"isDivider"in c||"submenu"in c?c:{label:c.label,value:"command:"+c.command,disabled:!e.value.commandHandler.canExecuteCommand(c.command)})]);function a(c){const f=c.target;if(!(f instanceof Element)||qc(f))return;c.preventDefault(),t.value=!0;const d=f.getBoundingClientRect(),m=f.closest(".baklava-editor").getBoundingClientRect();n.value=d.x+c.offsetX-m.x,s.value=d.y+c.offsetY-m.y}function u(c){if(c.startsWith("addNode:")){const f=c.substring(8),d=e.value.editor.nodeTypes.get(f);if(!d)return;const h=Le(new d.type);e.value.displayedGraph.addNode(h);const[m,_]=i(n.value,s.value);h.position.x=m,h.position.y=_}else if(c.startsWith("command:")){const f=c.substring(8);e.value.commandHandler.canExecuteCommand(f)&&e.value.commandHandler.executeCommand(f)}}return{show:t,x:n,y:s,items:l,open:a,onClick:u}}const Ni="START_SELECTION_BOX";function Lm(e,t){const{viewModel:n}=lt(),{graph:s}=yt(),o=W(()=>s.value.nodes),i=H(!1),r=H(!1),l=H([0,0]),a=H([0,0]);function u(v){return[v.clientX-e.value.getBoundingClientRect().left,v.clientY-e.value.getBoundingClientRect().top]}function c(v){return i.value?(r.value=!0,i.value=!1,l.value=u(v),a.value=u(v),document.addEventListener("pointermove",f),document.addEventListener("pointerup",d),!0):!1}function f(v){l.value=u(v)}function d(v){document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",d),l.value=u(v),r.value=!1;const w=h();for(const N of w)n.value.displayedGraph.selectedNodes.push(N)}function h(){const v=m(),N=document.querySelector(".baklava-editor").getBoundingClientRect();return o.value.filter(L=>{const x=_(L,N);return b(v,x)})}function m(){return{left:Math.min(l.value[0],a.value[0]),top:Math.min(l.value[1],a.value[1]),right:Math.max(l.value[0],a.value[0]),bottom:Math.max(l.value[1],a.value[1])}}function _(v,w){const N=document.getElementById(v.id),L=N?N.getBoundingClientRect():{x:0,y:0,width:0,height:0},x=L.x-w.left,V=L.y-w.top;return{left:x,top:V,right:x+L.width,bottom:V+L.height}}function b(v,w){return v.left<w.right&&v.right>w.left&&v.top<w.bottom&&v.bottom>w.top}function E(){return{width:Math.abs(a.value[0]-l.value[0])+"px",height:Math.abs(a.value[1]-l.value[1])+"px",left:(a.value[0]>l.value[0]?l.value[0]:a.value[0])+"px",top:(a.value[1]>l.value[1]?l.value[1]:a.value[1])+"px"}}return t.registerCommand(Ni,{canExecute:()=>!0,execute(){i.value=!0}}),t.registerHotkey(["b"],Ni),Le({startSelection:i,isSelecting:r,start:l,end:a,onPointerDown:c,getStyles:E})}const Gm=Pe({setup(){const{viewModel:e}=lt(),{graph:t}=yt();return{styles:W(()=>{const s=e.value.settings.background,o=t.value.panning.x*t.value.scaling,i=t.value.panning.y*t.value.scaling,r=t.value.scaling*s.gridSize,l=r/s.gridDivision,a=`${r}px ${r}px, ${r}px ${r}px`,u=t.value.scaling>s.subGridVisibleThreshold?`, ${l}px ${l}px, ${l}px ${l}px`:"";return{backgroundPosition:`left ${o}px top ${i}px`,backgroundSize:`${a} ${u}`}})}}}),Ie=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n};function Hm(e,t,n,s,o,i){return k(),F("div",{class:"background",style:ue(e.styles)},null,4)}const Fm=Ie(Gm,[["render",Hm]]);function Bm(e){return Vi()?(va(e),!0):!1}function gr(e){return typeof e=="function"?e():I(e)}const eu=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Vm=Object.prototype.toString,Um=e=>Vm.call(e)==="[object Object]",oo=()=>{},jm=Wm();function Wm(){var e,t;return eu&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window?.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function zm(e,t,n=!1){return t.reduce((s,o)=>(o in e&&(!n||e[o]!==void 0)&&(s[o]=e[o]),s),{})}function Km(e,t={}){if(!Ae(e))return ud(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const s in e.value)n[s]=La(()=>({get(){return e.value[s]},set(o){var i;if((i=gr(t.replaceRef))!=null?i:!0)if(Array.isArray(e.value)){const l=[...e.value];l[s]=o,e.value=l}else{const l={...e.value,[s]:o};Object.setPrototypeOf(l,Object.getPrototypeOf(e.value)),e.value=l}else e.value[s]=o}}));return n}function ls(e){var t;const n=gr(e);return(t=n?.$el)!=null?t:n}const vr=eu?window:void 0;function ms(...e){let t,n,s,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,o]=e,t=vr):[t,n,s,o]=e,!t)return oo;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const i=[],r=()=>{i.forEach(c=>c()),i.length=0},l=(c,f,d,h)=>(c.addEventListener(f,d,h),()=>c.removeEventListener(f,d,h)),a=Se(()=>[ls(t),gr(o)],([c,f])=>{if(r(),!c)return;const d=Um(f)?{...f}:f;i.push(...n.flatMap(h=>s.map(m=>l(c,h,m,d))))},{immediate:!0,flush:"post"}),u=()=>{a(),r()};return Bm(u),u}let jl=!1;function tu(e,t,n={}){const{window:s=vr,ignore:o=[],capture:i=!0,detectIframe:r=!1}=n;if(!s)return oo;jm&&!jl&&(jl=!0,Array.from(s.document.body.children).forEach(d=>d.addEventListener("click",oo)),s.document.documentElement.addEventListener("click",oo));let l=!0;const a=d=>o.some(h=>{if(typeof h=="string")return Array.from(s.document.querySelectorAll(h)).some(m=>m===d.target||d.composedPath().includes(m));{const m=ls(h);return m&&(d.target===m||d.composedPath().includes(m))}}),c=[ms(s,"click",d=>{const h=ls(e);if(!(!h||h===d.target||d.composedPath().includes(h))){if(d.detail===0&&(l=!a(d)),!l){l=!0;return}t(d)}},{passive:!0,capture:i}),ms(s,"pointerdown",d=>{const h=ls(e);l=!a(d)&&!!(h&&!d.composedPath().includes(h))},{passive:!0}),r&&ms(s,"blur",d=>{setTimeout(()=>{var h;const m=ls(e);((h=s.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!m?.contains(s.document.activeElement)&&t(d)},0)})].filter(Boolean);return()=>c.forEach(d=>d())}const nu={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},qm=Object.keys(nu);function Ym(e={}){const{target:t=vr}=e,n=H(!1),s=H(e.initialValue||{});Object.assign(s.value,nu,s.value);const o=i=>{n.value=!0,!(e.pointerTypes&&!e.pointerTypes.includes(i.pointerType))&&(s.value=zm(i,qm,!1))};if(t){const i={passive:!0};ms(t,["pointerdown","pointermove","pointerup"],o,i),ms(t,"pointerleave",()=>n.value=!1,i)}return{...Km(s),isInside:n}}const Xm=["onMouseenter","onMouseleave","onClick"],Jm={class:"flex-fill"},Qm={key:0,class:"__submenu-icon",style:{"line-height":"1em"}},Zm=S("svg",{width:"13",height:"13",viewBox:"-60 120 250 250"},[S("path",{d:"M160.875 279.5625 L70.875 369.5625 L70.875 189.5625 L160.875 279.5625 Z",stroke:"none",fill:"white"})],-1),eg=[Zm],_r=Pe({__name:"ContextMenu",props:{modelValue:{type:Boolean},items:{},x:{default:0},y:{default:0},isNested:{type:Boolean,default:!1},isFlipped:{default:()=>({x:!1,y:!1})},flippable:{type:Boolean,default:!1}},emits:["update:modelValue","click"],setup(e,{emit:t}){const n=e,s=t;let o=null;const i=H(null),r=H(-1),l=H(0),a=H({x:!1,y:!1}),u=W(()=>n.flippable&&(a.value.x||n.isFlipped.x)),c=W(()=>n.flippable&&(a.value.y||n.isFlipped.y)),f=W(()=>{const v={};return n.isNested||(v.top=(c.value?n.y-l.value:n.y)+"px",v.left=n.x+"px"),v}),d=W(()=>({"--flipped-x":u.value,"--flipped-y":c.value,"--nested":n.isNested})),h=W(()=>n.items.map(v=>({...v,hover:!1})));Se([()=>n.y,()=>n.items],()=>{var v,w,N,L;l.value=n.items.length*30;const x=((w=(v=i.value)==null?void 0:v.parentElement)==null?void 0:w.offsetWidth)??0,V=((L=(N=i.value)==null?void 0:N.parentElement)==null?void 0:L.offsetHeight)??0;a.value.x=!n.isNested&&n.x>x*.75,a.value.y=!n.isNested&&n.y+l.value>V-20}),tu(i,()=>{n.modelValue&&s("update:modelValue",!1)});const m=v=>{!v.submenu&&v.value&&(s("click",v.value),s("update:modelValue",!1))},_=v=>{s("click",v),r.value=-1,n.isNested||s("update:modelValue",!1)},b=(v,w)=>{n.items[w].submenu&&(r.value=w,o!==null&&(clearTimeout(o),o=null))},E=(v,w)=>{n.items[w].submenu&&(o=window.setTimeout(()=>{r.value=-1,o=null},200))};return(v,w)=>{const N=yn("ContextMenu",!0);return k(),Me(qn,{name:"slide-fade"},{default:Je(()=>[Wn(S("div",{ref_key:"el",ref:i,class:Oe(["baklava-context-menu",d.value]),style:ue(f.value)},[(k(!0),F(fe,null,Ze(h.value,(L,x)=>(k(),F(fe,null,[L.isDivider?(k(),F("div",{key:`d-${x}`,class:"divider"})):(k(),F("div",{key:`i-${x}`,class:Oe(["item",{submenu:!!L.submenu,"--disabled":!!L.disabled}]),onMouseenter:V=>b(V,x),onMouseleave:V=>E(V,x),onClick:Ke(V=>m(L),["stop","prevent"])},[S("div",Jm,de(L.label),1),L.submenu?(k(),F("div",Qm,eg)):Ve("",!0),L.submenu?(k(),Me(N,{key:1,"model-value":r.value===x,items:L.submenu,"is-nested":!0,"is-flipped":{x:u.value,y:c.value},flippable:v.flippable,onClick:_},null,8,["model-value","items","is-flipped","flippable"])):Ve("",!0)],42,Xm))],64))),256))],6),[[vc,v.modelValue]])]),_:1})}}}),tg={},ng={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},sg=S("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),og=S("circle",{cx:"12",cy:"12",r:"1"},null,-1),ig=S("circle",{cx:"12",cy:"19",r:"1"},null,-1),rg=S("circle",{cx:"12",cy:"5",r:"1"},null,-1),lg=[sg,og,ig,rg];function ag(e,t){return k(),F("svg",ng,lg)}const su=Ie(tg,[["render",ag]]),cg=["id"],ug={key:0,class:"__tooltip"},dg={key:2,class:"align-middle"},Wl=Pe({__name:"NodeInterface",props:{node:{},intf:{}},setup(e){const t=(b,E=100)=>{const v=b?.toString?b.toString():"";return v.length>E?v.slice(0,E)+"...":v},n=e,{viewModel:s}=lt(),{hoveredOver:o,temporaryConnection:i}=St(Zc),r=H(null),l=W(()=>n.intf.connectionCount>0),a=H(!1),u=W(()=>s.value.settings.displayValueOnHover&&a.value),c=W(()=>({"--input":n.intf.isInput,"--output":!n.intf.isInput,"--connected":l.value})),f=W(()=>n.intf.component&&(!n.intf.isInput||!n.intf.port||n.intf.connectionCount===0)),d=()=>{a.value=!0,o(n.intf)},h=()=>{a.value=!1,o(void 0)},m=()=>{r.value&&s.value.hooks.renderInterface.execute({intf:n.intf,el:r.value})},_=()=>{const b=s.value.displayedGraph.sidebar;b.nodeId=n.node.id,b.optionName=n.intf.name,b.visible=!0};return zt(m),Os(m),(b,E)=>{var v;return k(),F("div",{id:b.intf.id,ref_key:"el",ref:r,class:Oe(["baklava-node-interface",c.value])},[b.intf.port?(k(),F("div",{key:0,class:Oe(["__port",{"--selected":((v=I(i))==null?void 0:v.from)===b.intf}]),onPointerover:d,onPointerout:h},[We(b.$slots,"portTooltip",{showTooltip:u.value},()=>[u.value===!0?(k(),F("span",ug,de(t(b.intf.value)),1)):Ve("",!0)])],34)):Ve("",!0),f.value?(k(),Me($o(b.intf.component),{key:1,modelValue:b.intf.value,"onUpdate:modelValue":E[0]||(E[0]=w=>b.intf.value=w),node:b.node,intf:b.intf,onOpenSidebar:_},null,40,["modelValue","node","intf"])):(k(),F("span",dg,de(b.intf.name),1))],10,cg)}}}),fg=["id","data-node-type"],hg={class:"__title-label"},pg={class:"__menu"},mg={class:"__outputs"},gg={class:"__inputs"},vg=Pe({__name:"Node",props:{node:{},selected:{type:Boolean,default:!1},dragging:{type:Boolean}},emits:["select","start-drag"],setup(e,{emit:t}){const n=e,s=t,{viewModel:o}=lt(),{graph:i,switchGraph:r}=yt(),l=H(null),a=H(!1),u=H(""),c=H(null),f=H(!1),d=H(!1),h=W(()=>{const P=[{value:"rename",label:"Rename"},{value:"delete",label:"Delete"}];return n.node.type.startsWith(Ts)&&P.push({value:"editSubgraph",label:"Edit Subgraph"}),P}),m=W(()=>({"--selected":n.selected,"--dragging":n.dragging,"--two-column":!!n.node.twoColumn})),_=W(()=>({"--reverse-y":n.node.reverseY??o.value.settings.nodes.reverseY})),b=W(()=>{var P,te;return{top:`${((P=n.node.position)==null?void 0:P.y)??0}px`,left:`${((te=n.node.position)==null?void 0:te.x)??0}px`,"--width":`${n.node.width??o.value.settings.nodes.defaultWidth}px`}}),E=W(()=>Object.values(n.node.inputs).filter(P=>!P.hidden)),v=W(()=>Object.values(n.node.outputs).filter(P=>!P.hidden)),w=()=>{s("select")},N=P=>{n.selected||w(),s("start-drag",P)},L=()=>{d.value=!0},x=async P=>{var te;switch(P){case"delete":i.value.removeNode(n.node);break;case"rename":u.value=n.node.title,a.value=!0,await kt(),(te=c.value)==null||te.focus();break;case"editSubgraph":r(n.node.template);break}},V=()=>{n.node.title=u.value,a.value=!1},M=()=>{l.value&&o.value.hooks.renderNode.execute({node:n.node,el:l.value})},C=P=>{f.value=!0,P.preventDefault()},A=P=>{if(!f.value)return;const te=n.node.width+P.movementX/i.value.scaling,q=o.value.settings.nodes.minWidth,pe=o.value.settings.nodes.maxWidth;n.node.width=Math.max(q,Math.min(pe,te))},X=()=>{f.value=!1};return zt(()=>{M(),window.addEventListener("mousemove",A),window.addEventListener("mouseup",X)}),Os(M),zn(()=>{window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",X)}),(P,te)=>(k(),F("div",{id:P.node.id,ref_key:"el",ref:l,class:Oe(["baklava-node",m.value]),style:ue(b.value),"data-node-type":P.node.type,onPointerdown:w},[I(o).settings.nodes.resizable?(k(),F("div",{key:0,class:"__resize-handle",onMousedown:C},null,32)):Ve("",!0),We(P.$slots,"title",{},()=>[S("div",{class:"__title",onPointerdown:Ke(N,["self","stop"])},[a.value?Wn((k(),F("input",{key:1,ref_key:"renameInputEl",ref:c,"onUpdate:modelValue":te[1]||(te[1]=q=>u.value=q),type:"text",class:"baklava-input",placeholder:"Node Name",onBlur:V,onKeydown:Ci(V,["enter"])},null,544)),[[Do,u.value]]):(k(),F(fe,{key:0},[S("div",hg,de(P.node.title),1),S("div",pg,[ee(su,{class:"--clickable",onClick:L}),ee(I(_r),{modelValue:d.value,"onUpdate:modelValue":te[0]||(te[0]=q=>d.value=q),x:0,y:0,items:h.value,onClick:x},null,8,["modelValue","items"])])],64))],32)]),We(P.$slots,"content",{},()=>[S("div",{class:Oe(["__content",_.value]),onKeydown:te[2]||(te[2]=Ci(Ke(()=>{},["stop"]),["delete"]))},[S("div",mg,[(k(!0),F(fe,null,Ze(v.value,q=>We(P.$slots,"nodeInterface",{key:q.id,type:"output",node:P.node,intf:q},()=>[ee(Wl,{node:P.node,intf:q},null,8,["node","intf"])])),128))]),S("div",gg,[(k(!0),F(fe,null,Ze(E.value,q=>We(P.$slots,"nodeInterface",{key:q.id,type:"input",node:P.node,intf:q},()=>[ee(Wl,{node:P.node,intf:q},null,8,["node","intf"])])),128))])],34)])],46,fg))}}),_g=Pe({props:{x1:{type:Number,required:!0},y1:{type:Number,required:!0},x2:{type:Number,required:!0},y2:{type:Number,required:!0},state:{type:Number,default:pt.NONE},isTemporary:{type:Boolean,default:!1}},setup(e){const{viewModel:t}=lt(),{graph:n}=yt(),s=(r,l)=>{const a=(r+n.value.panning.x)*n.value.scaling,u=(l+n.value.panning.y)*n.value.scaling;return[a,u]},o=W(()=>{const[r,l]=s(e.x1,e.y1),[a,u]=s(e.x2,e.y2);if(t.value.settings.useStraightConnections)return`M ${r} ${l} L ${a} ${u}`;{const c=.3*Math.abs(r-a);return`M ${r} ${l} C ${r+c} ${l}, ${a-c} ${u}, ${a} ${u}`}}),i=W(()=>({"--temporary":e.isTemporary,"--allowed":e.state===pt.ALLOWED,"--forbidden":e.state===pt.FORBIDDEN}));return{d:o,classes:i}}}),yg=["d"];function bg(e,t,n,s,o,i){return k(),F("path",{class:Oe(["baklava-connection",e.classes]),d:e.d},null,10,yg)}const ou=Ie(_g,[["render",bg]]);function wg(e){return document.getElementById(e.id)}function Un(e){const t=document.getElementById(e.id),n=t?.getElementsByClassName("__port");return{node:t?.closest(".baklava-node")??null,interface:t,port:n&&n.length>0?n[0]:null}}const Cg=Pe({components:{"connection-view":ou},props:{connection:{type:Object,required:!0}},setup(e){const{graph:t}=yt();let n;const s=H({x1:0,y1:0,x2:0,y2:0}),o=W(()=>e.connection.isInDanger?pt.FORBIDDEN:pt.NONE),i=W(()=>{var u;return(u=t.value.findNodeById(e.connection.from.nodeId))==null?void 0:u.position}),r=W(()=>{var u;return(u=t.value.findNodeById(e.connection.to.nodeId))==null?void 0:u.position}),l=u=>u.node&&u.interface&&u.port?[u.node.offsetLeft+u.interface.offsetLeft+u.port.offsetLeft+u.port.clientWidth/2,u.node.offsetTop+u.interface.offsetTop+u.port.offsetTop+u.port.clientHeight/2]:[0,0],a=()=>{const u=Un(e.connection.from),c=Un(e.connection.to);u.node&&c.node&&(n||(n=new ResizeObserver(()=>{a()}),n.observe(u.node),n.observe(c.node)));const[f,d]=l(u),[h,m]=l(c);s.value={x1:f,y1:d,x2:h,y2:m}};return zt(async()=>{await kt(),a()}),zn(()=>{n&&n.disconnect()}),Se([i,r],()=>a(),{deep:!0}),{d:s,state:o}}});function xg(e,t,n,s,o,i){const r=yn("connection-view");return k(),Me(r,{x1:e.d.x1,y1:e.d.y1,x2:e.d.x2,y2:e.d.y2,state:e.state},null,8,["x1","y1","x2","y2","state"])}const Sg=Ie(Cg,[["render",xg]]);function mo(e){return e.node&&e.interface&&e.port?[e.node.offsetLeft+e.interface.offsetLeft+e.port.offsetLeft+e.port.clientWidth/2,e.node.offsetTop+e.interface.offsetTop+e.port.offsetTop+e.port.clientHeight/2]:[0,0]}const Eg=Pe({components:{"connection-view":ou},props:{connection:{type:Object,required:!0}},setup(e){const t=W(()=>e.connection?e.connection.status:pt.NONE);return{d:W(()=>{if(!e.connection)return{input:[0,0],output:[0,0]};const s=mo(Un(e.connection.from)),o=e.connection.to?mo(Un(e.connection.to)):[e.connection.mx||s[0],e.connection.my||s[1]];return e.connection.from.isInput?{input:o,output:s}:{input:s,output:o}}),status:t}}});function Tg(e,t,n,s,o,i){const r=yn("connection-view");return k(),Me(r,{x1:e.d.input[0],y1:e.d.input[1],x2:e.d.output[0],y2:e.d.output[1],state:e.status,"is-temporary":""},null,8,["x1","y1","x2","y2","state"])}const Ig=Ie(Eg,[["render",Tg]]),Mg=Pe({setup(){const{viewModel:e}=lt(),{graph:t}=yt(),n=H(null),s=vs(e.value.settings.sidebar,"width"),o=W(()=>e.value.settings.sidebar.resizable),i=W(()=>{const f=t.value.sidebar.nodeId;return t.value.nodes.find(d=>d.id===f)}),r=W(()=>({width:`${s.value}px`})),l=W(()=>i.value?[...Object.values(i.value.inputs),...Object.values(i.value.outputs)].filter(d=>d.displayInSidebar&&d.component):[]),a=()=>{t.value.sidebar.visible=!1},u=()=>{window.addEventListener("mousemove",c),window.addEventListener("mouseup",()=>{window.removeEventListener("mousemove",c)},{once:!0})},c=f=>{var d,h;const m=((h=(d=n.value)==null?void 0:d.parentElement)==null?void 0:h.getBoundingClientRect().width)??500;let _=s.value-f.movementX;_<300?_=300:_>.9*m&&(_=.9*m),s.value=_};return{el:n,graph:t,resizable:o,node:i,styles:r,displayedInterfaces:l,startResize:u,close:a}}}),$g={class:"__header"},Ng={class:"__node-name"};function Og(e,t,n,s,o,i){return k(),F("div",{ref:"el",class:Oe(["baklava-sidebar",{"--open":e.graph.sidebar.visible}]),style:ue(e.styles)},[e.resizable?(k(),F("div",{key:0,class:"__resizer",onMousedown:t[0]||(t[0]=(...r)=>e.startResize&&e.startResize(...r))},null,32)):Ve("",!0),S("div",$g,[S("button",{tabindex:"-1",class:"__close",onClick:t[1]||(t[1]=(...r)=>e.close&&e.close(...r))},"×"),S("div",Ng,[S("b",null,de(e.node?e.node.title:""),1)])]),(k(!0),F(fe,null,Ze(e.displayedInterfaces,r=>(k(),F("div",{key:r.id,class:"__interface"},[(k(),Me($o(r.component),{modelValue:r.value,"onUpdate:modelValue":l=>r.value=l,node:e.node,intf:r},null,8,["modelValue","onUpdate:modelValue","node","intf"]))]))),128))],6)}const Ag=Ie(Mg,[["render",Og]]),Pg=Pe({__name:"Minimap",setup(e){const{viewModel:t}=lt(),{graph:n}=yt(),s=H(null),o=H(!1);let i,r=!1,l={x1:0,y1:0,x2:0,y2:0},a;const u=()=>{var x,V;if(!i)return;i.canvas.width=s.value.offsetWidth,i.canvas.height=s.value.offsetHeight;const M=new Map,C=new Map;for(const q of n.value.nodes){const pe=wg(q),ae=pe?.offsetWidth??0,ie=pe?.offsetHeight??0,oe=((x=q.position)==null?void 0:x.x)??0,ke=((V=q.position)==null?void 0:V.y)??0;M.set(q,{x1:oe,y1:ke,x2:oe+ae,y2:ke+ie}),C.set(q,pe)}const A={x1:Number.MAX_SAFE_INTEGER,y1:Number.MAX_SAFE_INTEGER,x2:Number.MIN_SAFE_INTEGER,y2:Number.MIN_SAFE_INTEGER};for(const q of M.values())q.x1<A.x1&&(A.x1=q.x1),q.y1<A.y1&&(A.y1=q.y1),q.x2>A.x2&&(A.x2=q.x2),q.y2>A.y2&&(A.y2=q.y2);const X=50;A.x1-=X,A.y1-=X,A.x2+=X,A.y2+=X,l=A;const P=i.canvas.width/i.canvas.height,te=(l.x2-l.x1)/(l.y2-l.y1);if(P>te){const q=(P-te)*(l.y2-l.y1)*.5;l.x1-=q,l.x2+=q}else{const q=l.x2-l.x1,pe=l.y2-l.y1,ae=(q-P*pe)/P*.5;l.y1-=ae,l.y2+=ae}i.clearRect(0,0,i.canvas.width,i.canvas.height),i.strokeStyle="white";for(const q of n.value.connections){const[pe,ae]=mo(Un(q.from)),[ie,oe]=mo(Un(q.to)),[ke,bt]=c(pe,ae),[qe,Re]=c(ie,oe);if(i.beginPath(),i.moveTo(ke,bt),t.value.settings.useStraightConnections)i.lineTo(qe,Re);else{const Rt=.3*Math.abs(ke-qe);i.bezierCurveTo(ke+Rt,bt,qe-Rt,Re,qe,Re)}i.stroke()}i.strokeStyle="lightgray";for(const[q,pe]of M.entries()){const[ae,ie]=c(pe.x1,pe.y1),[oe,ke]=c(pe.x2,pe.y2);i.fillStyle=d(C.get(q)),i.beginPath(),i.rect(ae,ie,oe-ae,ke-ie),i.fill(),i.stroke()}if(o.value){const q=m(),[pe,ae]=c(q.x1,q.y1),[ie,oe]=c(q.x2,q.y2);i.fillStyle="rgba(255, 255, 255, 0.2)",i.fillRect(pe,ae,ie-pe,oe-ae)}},c=(x,V)=>[(x-l.x1)/(l.x2-l.x1)*i.canvas.width,(V-l.y1)/(l.y2-l.y1)*i.canvas.height],f=(x,V)=>[x*(l.x2-l.x1)/i.canvas.width+l.x1,V*(l.y2-l.y1)/i.canvas.height+l.y1],d=x=>{if(x){const V=x.querySelector(".__content");if(V){const C=h(V);if(C)return C}const M=h(x);if(M)return M}return"gray"},h=x=>{const V=getComputedStyle(x).backgroundColor;if(V&&V!=="rgba(0, 0, 0, 0)")return V},m=()=>{const x=s.value.parentElement.offsetWidth,V=s.value.parentElement.offsetHeight,M=x/n.value.scaling-n.value.panning.x,C=V/n.value.scaling-n.value.panning.y;return{x1:-n.value.panning.x,y1:-n.value.panning.y,x2:M,y2:C}},_=x=>{x.button===0&&(r=!0,b(x))},b=x=>{if(r){const[V,M]=f(x.offsetX,x.offsetY),C=m(),A=(C.x2-C.x1)/2,X=(C.y2-C.y1)/2;n.value.panning.x=-(V-A),n.value.panning.y=-(M-X)}},E=()=>{r=!1},v=()=>{o.value=!0},w=()=>{o.value=!1,E()};Se([o,n.value.panning,()=>n.value.scaling,()=>n.value.connections.length],()=>{u()});const N=W(()=>n.value.nodes.map(x=>x.position)),L=W(()=>n.value.nodes.map(x=>x.width));return Se([N,L],()=>{u()},{deep:!0}),zt(()=>{i=s.value.getContext("2d"),i.imageSmoothingQuality="high",u(),a=setInterval(u,500)}),zn(()=>{clearInterval(a)}),(x,V)=>(k(),F("canvas",{ref_key:"canvas",ref:s,class:"baklava-minimap",onMouseenter:v,onMouseleave:w,onMousedown:Ke(_,["self"]),onMousemove:Ke(b,["self"]),onMouseup:E,onContextmenu:V[0]||(V[0]=Ke(()=>{},["stop","prevent"]))},null,544))}}),kg=Pe({components:{ContextMenu:_r,VerticalDots:su},props:{type:{type:String,required:!0},title:{type:String,required:!0}},setup(e){const{viewModel:t}=lt(),{switchGraph:n}=yt(),s=H(!1),o=W(()=>e.type.startsWith(Ts));return{showContextMenu:s,hasContextMenu:o,contextMenuItems:[{label:"Edit Subgraph",value:"editSubgraph"},{label:"Delete Subgraph",value:"deleteSubgraph"}],openContextMenu:()=>{s.value=!0},onContextMenuClick:a=>{const u=e.type.substring(Ts.length),c=t.value.editor.graphTemplates.find(f=>f.id===u);if(c)switch(a){case"editSubgraph":n(c);break;case"deleteSubgraph":t.value.editor.removeGraphTemplate(c);break}}}}}),Rg=["data-node-type"],Dg={class:"__title"},Lg={class:"__title-label"},Gg={key:0,class:"__menu"};function Hg(e,t,n,s,o,i){const r=yn("vertical-dots"),l=yn("context-menu");return k(),F("div",{class:"baklava-node --palette","data-node-type":e.type},[S("div",Dg,[S("div",Lg,de(e.title),1),e.hasContextMenu?(k(),F("div",Gg,[ee(r,{class:"--clickable",onPointerdown:t[0]||(t[0]=Ke(()=>{},["stop","prevent"])),onClick:Ke(e.openContextMenu,["stop","prevent"])},null,8,["onClick"]),ee(l,{modelValue:e.showContextMenu,"onUpdate:modelValue":t[1]||(t[1]=a=>e.showContextMenu=a),x:-100,y:0,items:e.contextMenuItems,onClick:e.onContextMenuClick,onPointerdown:t[2]||(t[2]=Ke(()=>{},["stop","prevent"]))},null,8,["modelValue","items","onClick"])])):Ve("",!0)])],8,Rg)}const zl=Ie(kg,[["render",Hg]]),Fg={key:0},Bg=Pe({__name:"NodePalette",setup(e){const{viewModel:t}=lt(),{x:n,y:s}=Ym(),{transform:o}=Qc(),i=Jc(t),r=St("editorEl"),l=H(null),a=W(()=>{if(!l.value||!r?.value)return{};const{left:c,top:f}=r.value.getBoundingClientRect();return{top:`${s.value-f}px`,left:`${n.value-c}px`}}),u=(c,f)=>{l.value={type:c,nodeInformation:f};const d=()=>{const h=Le(new f.type);t.value.displayedGraph.addNode(h);const m=r.value.getBoundingClientRect(),[_,b]=o(n.value-m.left,s.value-m.top);h.position.x=_,h.position.y=b,l.value=null,document.removeEventListener("pointerup",d)};document.addEventListener("pointerup",d)};return(c,f)=>(k(),F(fe,null,[S("div",{class:"baklava-node-palette",onContextmenu:f[0]||(f[0]=Ke(()=>{},["stop","prevent"]))},[(k(!0),F(fe,null,Ze(I(i),d=>(k(),F("section",{key:d.name},[d.name!=="default"?(k(),F("h1",Fg,de(d.name),1)):Ve("",!0),(k(!0),F(fe,null,Ze(d.nodeTypes,(h,m)=>(k(),Me(zl,{key:m,type:m,title:h.title,onPointerdown:_=>u(m,h)},null,8,["type","title","onPointerdown"]))),128))]))),128))],32),ee(qn,{name:"fade"},{default:Je(()=>[l.value?(k(),F("div",{key:0,class:"baklava-dragged-node",style:ue(a.value)},[ee(zl,{type:l.value.type,title:l.value.nodeInformation.title},null,8,["type","title"])],4)):Ve("",!0)]),_:1})],64))}});let Js;const Vg=new Uint8Array(16);function Ug(){if(!Js&&(Js=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Js))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Js(Vg)}const Fe=[];for(let e=0;e<256;++e)Fe.push((e+256).toString(16).slice(1));function jg(e,t=0){return Fe[e[t+0]]+Fe[e[t+1]]+Fe[e[t+2]]+Fe[e[t+3]]+"-"+Fe[e[t+4]]+Fe[e[t+5]]+"-"+Fe[e[t+6]]+Fe[e[t+7]]+"-"+Fe[e[t+8]]+Fe[e[t+9]]+"-"+Fe[e[t+10]]+Fe[e[t+11]]+Fe[e[t+12]]+Fe[e[t+13]]+Fe[e[t+14]]+Fe[e[t+15]]}const Wg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Kl={randomUUID:Wg};function go(e,t,n){if(Kl.randomUUID&&!t&&!e)return Kl.randomUUID();e=e||{};const s=e.random||(e.rng||Ug)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){n=n||0;for(let o=0;o<16;++o)t[n+o]=s[o];return t}return jg(s)}const Is="SAVE_SUBGRAPH";function zg(e,t){const n=()=>{const s=e.value;if(!s.template)throw new Error("Graph template property not set");s.template.update(s.save()),s.template.panning=s.panning,s.template.scaling=s.scaling};t.registerCommand(Is,{canExecute:()=>{var s;return e.value!==((s=e.value.editor)==null?void 0:s.graph)},execute:n})}const ql=9;function Kg(e){return"validate"in e}class qg extends tt{constructor(t,n,s,o){super(t,n),this.min=s,this.max=o}validate(t){return(this.min===void 0||t>=this.min)&&(this.max===void 0||t<=this.max)}}const Yg=(e,t=3)=>{const n=H(null),s=H(!1),o=H(!1),i=H("0"),r=W(()=>{const f=e.value.value.toFixed(t);return f.length>ql?e.value.value.toExponential(ql-5):f}),l=f=>Number.isNaN(f)?!1:Kg(e.value)?e.value.validate(f):!0,a=f=>{l(f)&&(e.value.value=f)};return Se(i,()=>{o.value=!1}),{editMode:s,invalid:o,tempValue:i,inputEl:n,stringRepresentation:r,validate:l,setValue:a,enterEditMode:async()=>{i.value=e.value.value.toFixed(t),s.value=!0,await kt(),n.value&&n.value.focus()},leaveEditMode:()=>{const f=parseFloat(i.value);l(f)?(a(f),s.value=!1):o.value=!0}}},Xg={},Jg={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Qg=S("polyline",{points:"6 9 12 15 18 9"},null,-1),Zg=[Qg];function ev(e,t){return k(),F("svg",Jg,Zg)}const Oi=Ie(Xg,[["render",ev]]),tv={class:"baklava-num-input"},nv=["title"],sv={class:"__value"},ov={key:1,class:"__content"},iv=Pe({__name:"NumberInterface",props:{intf:{}},setup(e){const t=e,{editMode:n,invalid:s,tempValue:o,inputEl:i,stringRepresentation:r,enterEditMode:l,leaveEditMode:a,setValue:u}=Yg(vs(t,"intf"));function c(){const d=parseFloat((t.intf.value+.1).toFixed(3));u(d)}function f(){const d=parseFloat((t.intf.value-.1).toFixed(3));u(d)}return(d,h)=>(k(),F("div",tv,[S("div",{class:"__button --dec",onClick:f},[ee(Oi)]),I(n)?(k(),F("div",ov,[Wn(S("input",{ref_key:"inputEl",ref:i,"onUpdate:modelValue":h[1]||(h[1]=m=>Ae(o)?o.value=m:null),type:"number",class:Oe(["baklava-input",{"--invalid":I(s)}]),style:{"text-align":"right"},onBlur:h[2]||(h[2]=(...m)=>I(a)&&I(a)(...m)),onKeydown:h[3]||(h[3]=Ci((...m)=>I(a)&&I(a)(...m),["enter"]))},null,34),[[Do,I(o)]])])):(k(),F("div",{key:0,class:"__content",onClick:h[0]||(h[0]=(...m)=>I(l)&&I(l)(...m))},[S("div",{class:"__label",title:d.intf.name},de(d.intf.name),9,nv),S("div",sv,de(I(r)),1)])),S("div",{class:"__button --inc",onClick:c},[ee(Oi)])]))}});class Yl extends qg{constructor(){super(...arguments),this.component=Ns(iv)}}const rv=Pe({components:{"i-arrow":Oi},props:{intf:{type:Object,required:!0}},setup(e){const t=H(null),n=H(!1),s=W(()=>e.intf.items.find(r=>typeof r=="string"?r===e.intf.value:r.value===e.intf.value)),o=W(()=>s.value?typeof s.value=="string"?s.value:s.value.text:""),i=r=>{e.intf.value=typeof r=="string"?r:r.value};return tu(t,()=>{n.value=!1}),{el:t,open:n,selectedItem:s,selectedText:o,setSelected:i}}}),lv=["title"],av={class:"__selected"},cv={class:"__text"},uv={class:"__icon"},dv={class:"__dropdown"},fv={class:"item --header"},hv=["onClick"];function pv(e,t,n,s,o,i){const r=yn("i-arrow");return k(),F("div",{ref:"el",class:Oe(["baklava-select",{"--open":e.open}]),title:e.intf.name,onClick:t[0]||(t[0]=l=>e.open=!e.open)},[S("div",av,[S("div",cv,de(e.selectedText),1),S("div",uv,[ee(r)])]),ee(qn,{name:"slide-fade"},{default:Je(()=>[Wn(S("div",dv,[S("div",fv,de(e.intf.name),1),(k(!0),F(fe,null,Ze(e.intf.items,(l,a)=>(k(),F("div",{key:a,class:Oe(["item",{"--active":l===e.selectedItem}]),onClick:u=>e.setSelected(l)},de(typeof l=="string"?l:l.text),11,hv))),128))],512),[[vc,e.open]])]),_:1})],10,lv)}const mv=Ie(rv,[["render",pv]]);class gv extends tt{constructor(t,n,s){super(t,n),this.component=Ns(mv),this.items=s}}const vv=Pe({props:{intf:{type:Object,required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){return{v:W({get:()=>e.modelValue,set:s=>{t("update:modelValue",s)}})}}}),_v=["placeholder","title"];function yv(e,t,n,s,o,i){return k(),F("div",null,[Wn(S("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>e.v=r),type:"text",class:"baklava-input",placeholder:e.intf.name,title:e.intf.name},null,8,_v),[[Do,e.v]])])}const bv=Ie(vv,[["render",yv]]);class iu extends tt{constructor(){super(...arguments),this.component=Ns(bv)}}class ru extends pr{constructor(){super(...arguments),this._title="Subgraph Input",this.inputs={name:new iu("Name","Input").setPort(!1)},this.outputs={placeholder:new tt("Connection",void 0)}}}class lu extends mr{constructor(){super(...arguments),this._title="Subgraph Output",this.inputs={name:new iu("Name","Output").setPort(!1),placeholder:new tt("Connection",void 0)},this.outputs={output:new tt("Output",void 0).setHidden(!0)}}}const au="CREATE_SUBGRAPH",Xl=[Fn,Bn];function wv(e,t,n){const s=()=>e.value.selectedNodes.filter(i=>!Xl.includes(i.type)).length>0,o=()=>{const{viewModel:i}=lt(),r=e.value,l=e.value.editor;if(r.selectedNodes.length===0)return;const a=r.selectedNodes.filter(C=>!Xl.includes(C.type)),u=a.flatMap(C=>Object.values(C.inputs)),c=a.flatMap(C=>Object.values(C.outputs)),f=r.connections.filter(C=>!c.includes(C.from)&&u.includes(C.to)),d=r.connections.filter(C=>c.includes(C.from)&&!u.includes(C.to)),h=r.connections.filter(C=>c.includes(C.from)&&u.includes(C.to)),m=a.map(C=>C.save()),_=h.map(C=>({id:C.id,from:C.from.id,to:C.to.id})),b=new Map,{xLeft:E,xRight:v,yTop:w}=Cv(a);for(const[C,A]of f.entries()){const X=new ru;X.inputs.name.value=A.to.name,m.push({...X.save(),position:{x:v-i.value.settings.nodes.defaultWidth-100,y:w+C*200}}),_.push({id:go(),from:X.outputs.placeholder.id,to:A.to.id}),b.set(A.to.id,X.graphInterfaceId)}for(const[C,A]of d.entries()){const X=new lu;X.inputs.name.value=A.from.name,m.push({...X.save(),position:{x:E+100,y:w+C*200}}),_.push({id:go(),from:A.from.id,to:X.inputs.placeholder.id}),b.set(A.from.id,X.graphInterfaceId)}const N=Le(new Bo({connections:_,nodes:m,inputs:[],outputs:[]},l));l.addGraphTemplate(N);const L=l.nodeTypes.get(Vn(N));if(!L)throw new Error("Unable to create subgraph: Could not find corresponding graph node type");r.activeTransactions++;const x=Le(new L.type);r.addNode(x);const V=Math.round(a.map(C=>C.position.x).reduce((C,A)=>C+A,0)/a.length),M=Math.round(a.map(C=>C.position.y).reduce((C,A)=>C+A,0)/a.length);x.position.x=V,x.position.y=M,f.forEach(C=>{r.removeConnection(C),r.addConnection(C.from,x.inputs[b.get(C.to.id)])}),d.forEach(C=>{r.removeConnection(C),r.addConnection(x.outputs[b.get(C.from.id)],C.to)}),a.forEach(C=>r.removeNode(C)),r.activeTransactions--,t.canExecuteCommand(Is)&&t.executeCommand(Is),n(N),e.value.panning={...r.panning},e.value.scaling=r.scaling};t.registerCommand(au,{canExecute:s,execute:o})}function Cv(e){const t=e.reduce((o,i)=>{const r=i.position.x;return r<o?r:o},1/0),n=e.reduce((o,i)=>{const r=i.position.y;return r<o?r:o},1/0);return{xLeft:e.reduce((o,i)=>{const r=i.position.x+i.width;return r>o?r:o},-1/0),xRight:t,yTop:n}}class Jl{constructor(t,n){this.type=t,t==="addNode"?this.nodeId=n:this.nodeState=n}undo(t){this.type==="addNode"?this.removeNode(t):this.addNode(t)}redo(t){this.type==="addNode"&&this.nodeState?this.addNode(t):this.type==="removeNode"&&this.nodeId&&this.removeNode(t)}addNode(t){const n=t.editor.nodeTypes.get(this.nodeState.type);if(!n)return;const s=new n.type;t.addNode(s),s.load(this.nodeState),this.nodeId=s.id}removeNode(t){const n=t.nodes.find(s=>s.id===this.nodeId);n&&(this.nodeState=n.save(),t.removeNode(n))}}class Ql{constructor(t,n){if(this.type=t,t==="addConnection")this.connectionId=n;else{const s=n;this.connectionState={id:s.id,from:s.from.id,to:s.to.id}}}undo(t){this.type==="addConnection"?this.removeConnection(t):this.addConnection(t)}redo(t){this.type==="addConnection"&&this.connectionState?this.addConnection(t):this.type==="removeConnection"&&this.connectionId&&this.removeConnection(t)}addConnection(t){const n=t.findNodeInterface(this.connectionState.from),s=t.findNodeInterface(this.connectionState.to);if(!n||!s)return;const o=t.addConnection(n,s);o&&(o.id=this.connectionState.id),this.connectionId=o?.id}removeConnection(t){const n=t.connections.find(s=>s.id===this.connectionId);n&&(this.connectionState={id:n.id,from:n.from.id,to:n.to.id},t.removeConnection(n))}}class xv{constructor(t){if(this.type="transaction",t.length===0)throw new Error("Can't create a transaction with no steps");this.steps=t}undo(t){for(let n=this.steps.length-1;n>=0;n--)this.steps[n].undo(t)}redo(t){for(let n=0;n<this.steps.length;n++)this.steps[n].redo(t)}}const Ai="UNDO",Pi="REDO",yr="START_TRANSACTION",br="COMMIT_TRANSACTION";function Sv(e,t){const n=Symbol("HistoryToken"),s=H(200),o=H([]),i=H(!1),r=H(-1),l=H(!1),a=H([]),u=b=>{if(!i.value)if(l.value)a.value.push(b);else for(r.value!==o.value.length-1&&(o.value=o.value.slice(0,r.value+1)),o.value.push(b),r.value++;o.value.length>s.value;)o.value.shift()},c=()=>{l.value=!0},f=()=>{l.value=!1,a.value.length>0&&(u(new xv(a.value)),a.value=[])},d=()=>o.value.length!==0&&r.value!==-1,h=()=>{d()&&(i.value=!0,o.value[r.value--].undo(e.value),i.value=!1)},m=()=>o.value.length!==0&&r.value<o.value.length-1,_=()=>{m()&&(i.value=!0,o.value[++r.value].redo(e.value),i.value=!1)};return Se(e,(b,E)=>{E&&(E.events.addNode.unsubscribe(n),E.events.removeNode.unsubscribe(n),E.events.addConnection.unsubscribe(n),E.events.removeConnection.unsubscribe(n)),b&&(b.events.addNode.subscribe(n,v=>{u(new Jl("addNode",v.id))}),b.events.removeNode.subscribe(n,v=>{u(new Jl("removeNode",v.save()))}),b.events.addConnection.subscribe(n,v=>{u(new Ql("addConnection",v.id))}),b.events.removeConnection.subscribe(n,v=>{u(new Ql("removeConnection",v))}))},{immediate:!0}),t.registerCommand(Ai,{canExecute:d,execute:h}),t.registerCommand(Pi,{canExecute:m,execute:_}),t.registerCommand(yr,{canExecute:()=>!l.value,execute:c}),t.registerCommand(br,{canExecute:()=>l.value,execute:f}),t.registerHotkey(["Control","z"],Ai),t.registerHotkey(["Control","y"],Pi),Le({maxSteps:s})}const ki="DELETE_NODES";function Ev(e,t){t.registerCommand(ki,{canExecute:()=>e.value.selectedNodes.length>0,execute(){t.executeCommand(yr);for(let n=e.value.selectedNodes.length-1;n>=0;n--){const s=e.value.selectedNodes[n];e.value.removeNode(s)}t.executeCommand(br)}}),t.registerHotkey(["Delete"],ki)}const cu="SWITCH_TO_MAIN_GRAPH";function Tv(e,t,n){t.registerCommand(cu,{canExecute:()=>e.value!==e.value.editor.graph,execute:()=>{t.executeCommand(Is),n(e.value.editor.graph)}})}function Iv(e,t,n){Ev(e,t),wv(e,t,n),zg(e,t),Tv(e,t,n)}const Ri="COPY",Di="PASTE",Mv="CLEAR_CLIPBOARD";function $v(e,t,n){const s=Symbol("ClipboardToken"),o=H(""),i=H(""),r=W(()=>!o.value),l=()=>{o.value="",i.value=""},a=()=>{const f=e.value.selectedNodes.flatMap(h=>[...Object.values(h.inputs),...Object.values(h.outputs)]),d=e.value.connections.filter(h=>f.includes(h.from)||f.includes(h.to)).map(h=>({from:h.from.id,to:h.to.id}));i.value=JSON.stringify(d),o.value=JSON.stringify(e.value.selectedNodes.map(h=>h.save()))},u=(f,d,h)=>{for(const m of f){let _;if((!h||h==="input")&&(_=Object.values(m.inputs).find(b=>b.id===d)),!_&&(!h||h==="output")&&(_=Object.values(m.outputs).find(b=>b.id===d)),_)return _}},c=()=>{if(r.value)return;const f=new Map,d=JSON.parse(o.value),h=JSON.parse(i.value),m=[],_=[],b=e.value;n.executeCommand(yr);for(const E of d){const v=t.value.nodeTypes.get(E.type);if(!v){console.warn(`Node type ${E.type} not registered`);return}const w=new v.type,N=w.id;m.push(w),w.hooks.beforeLoad.subscribe(s,L=>{const x=L;return x.position&&(x.position.x+=100,x.position.y+=100),w.hooks.beforeLoad.unsubscribe(s),x}),b.addNode(w),w.load({...E,id:N}),w.id=N,f.set(E.id,N);for(const L of Object.values(w.inputs)){const x=go();f.set(L.id,x),L.id=x}for(const L of Object.values(w.outputs)){const x=go();f.set(L.id,x),L.id=x}}for(const E of h){const v=u(m,f.get(E.from),"output"),w=u(m,f.get(E.to),"input");if(!v||!w)continue;const N=b.addConnection(v,w);N&&_.push(N)}return e.value.selectedNodes=m,n.executeCommand(br),{newNodes:m,newConnections:_}};return n.registerCommand(Ri,{canExecute:()=>e.value.selectedNodes.length>0,execute:a}),n.registerHotkey(["Control","c"],Ri),n.registerCommand(Di,{canExecute:()=>!r.value,execute:c}),n.registerHotkey(["Control","v"],Di),n.registerCommand(Mv,{canExecute:()=>!0,execute:l}),Le({isEmpty:r})}const Nv="OPEN_SIDEBAR";function Ov(e,t){t.registerCommand(Nv,{execute:n=>{e.value.sidebar.nodeId=n,e.value.sidebar.visible=!0},canExecute:()=>!0})}function Av(e,t){Ov(e,t)}const Pv={},kv={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Rv=S("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Dv=S("path",{d:"M9 13l-4 -4l4 -4m-4 4h11a4 4 0 0 1 0 8h-1"},null,-1),Lv=[Rv,Dv];function Gv(e,t){return k(),F("svg",kv,Lv)}const Hv=Ie(Pv,[["render",Gv]]),Fv={},Bv={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Vv=S("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Uv=S("path",{d:"M15 13l4 -4l-4 -4m4 4h-11a4 4 0 0 0 0 8h1"},null,-1),jv=[Vv,Uv];function Wv(e,t){return k(),F("svg",Bv,jv)}const zv=Ie(Fv,[["render",Wv]]),Kv={},qv={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Yv=S("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Xv=S("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1),Jv=S("line",{x1:"5",y1:"12",x2:"11",y2:"18"},null,-1),Qv=S("line",{x1:"5",y1:"12",x2:"11",y2:"6"},null,-1),Zv=[Yv,Xv,Jv,Qv];function e0(e,t){return k(),F("svg",qv,Zv)}const t0=Ie(Kv,[["render",e0]]),n0={},s0={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},o0=S("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),i0=S("path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"},null,-1),r0=S("rect",{x:"9",y:"3",width:"6",height:"4",rx:"2"},null,-1),l0=[o0,i0,r0];function a0(e,t){return k(),F("svg",s0,l0)}const c0=Ie(n0,[["render",a0]]),u0={},d0={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},f0=S("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),h0=S("rect",{x:"8",y:"8",width:"12",height:"12",rx:"2"},null,-1),p0=S("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"},null,-1),m0=[f0,h0,p0];function g0(e,t){return k(),F("svg",d0,m0)}const v0=Ie(u0,[["render",g0]]),_0={},y0={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},b0=S("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),w0=S("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"},null,-1),C0=S("circle",{cx:"12",cy:"14",r:"2"},null,-1),x0=S("polyline",{points:"14 4 14 8 8 8 8 4"},null,-1),S0=[b0,w0,C0,x0];function E0(e,t){return k(),F("svg",y0,S0)}const T0=Ie(_0,[["render",E0]]),I0={},M0={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},$0=or('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 3h4v4h-4z"></path><path d="M3 17h4v4h-4z"></path><path d="M17 17h4v4h-4z"></path><path d="M7 17l5 -4l5 4"></path><line x1="12" y1="7" x2="12" y2="13"></line>',6),N0=[$0];function O0(e,t){return k(),F("svg",M0,N0)}const A0=Ie(I0,[["render",O0]]),P0={},k0={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},R0=or('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M8 8m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z"></path><path d="M12 20v.01"></path><path d="M16 20v.01"></path><path d="M8 20v.01"></path><path d="M4 20v.01"></path><path d="M4 16v.01"></path><path d="M4 12v.01"></path><path d="M4 8v.01"></path><path d="M4 4v.01"></path><path d="M8 4v.01"></path><path d="M12 4v.01"></path><path d="M16 4v.01"></path><path d="M20 4v.01"></path><path d="M20 8v.01"></path><path d="M20 12v.01"></path><path d="M20 16v.01"></path><path d="M20 20v.01"></path>',18),D0=[R0];function L0(e,t){return k(),F("svg",k0,D0)}const G0=Ie(P0,[["render",L0]]),H0={},F0={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},B0=or('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path>',6),V0=[B0];function U0(e,t){return k(),F("svg",F0,V0)}const j0=Ie(H0,[["render",U0]]),W0=Pe({props:{command:{type:String,required:!0},title:{type:String,required:!0},icon:{type:Object,required:!1,default:void 0}},setup(){const{viewModel:e}=lt();return{viewModel:e}}}),z0=["disabled","title"];function K0(e,t,n,s,o,i){return k(),F("button",{class:"baklava-toolbar-entry baklava-toolbar-button",disabled:!e.viewModel.commandHandler.canExecuteCommand(e.command),title:e.title,onClick:t[0]||(t[0]=r=>e.viewModel.commandHandler.executeCommand(e.command))},[e.icon?(k(),Me($o(e.icon),{key:0})):(k(),F(fe,{key:1},[Et(de(e.title),1)],64))],8,z0)}const q0=Ie(W0,[["render",K0]]),Y0=Pe({components:{ToolbarButton:q0},setup(){const{viewModel:e}=lt();return{isSubgraph:W(()=>e.value.displayedGraph!==e.value.editor.graph),commands:[{command:Ri,title:"Copy",icon:v0},{command:Di,title:"Paste",icon:c0},{command:ki,title:"Delete selected nodes",icon:j0},{command:Ai,title:"Undo",icon:Hv},{command:Pi,title:"Redo",icon:zv},{command:Ni,title:"Box Select",icon:G0},{command:au,title:"Create Subgraph",icon:A0}],subgraphCommands:[{command:Is,title:"Save Subgraph",icon:T0},{command:cu,title:"Back to Main Graph",icon:t0}]}}});function X0(e,t,n,s,o,i){const r=yn("toolbar-button");return k(),F("div",{class:"baklava-toolbar",onContextmenu:t[0]||(t[0]=Ke(()=>{},["stop","prevent"]))},[(k(!0),F(fe,null,Ze(e.commands,l=>(k(),Me(r,{key:l.command,command:l.command,title:l.title,icon:l.icon},null,8,["command","title","icon"]))),128)),e.isSubgraph?(k(!0),F(fe,{key:0},Ze(e.subgraphCommands,l=>(k(),Me(r,{key:l.command,command:l.command,title:l.title,icon:l.icon},null,8,["command","title","icon"]))),128)):Ve("",!0)],32)}const J0=Ie(Y0,[["render",X0]]),Q0={class:"connections-container"},Z0=Pe({__name:"Editor",props:{viewModel:{}},setup(e){const t=e,n=Symbol("EditorToken"),s=vs(t,"viewModel");Pm(s);const o=H(null);Rn("editorEl",o);const i=W(()=>t.viewModel.displayedGraph.nodes),r=W(()=>t.viewModel.displayedGraph.nodes.map(M=>Yc(vs(M,"position")))),l=W(()=>t.viewModel.displayedGraph.connections),a=W(()=>t.viewModel.displayedGraph.selectedNodes),u=km(),c=Rm(),f=Dm(s),d=Lm(o,t.viewModel.commandHandler),h=W(()=>({...u.styles.value})),m=H(0);t.viewModel.editor.hooks.load.subscribe(n,M=>(m.value++,M));const _=M=>{u.onPointerMove(M),c.onMouseMove(M)},b=M=>{if(M.button===0){if(d.onPointerDown(M))return;M.target===o.value&&(L(),u.onPointerDown(M)),c.onMouseDown()}},E=M=>{u.onPointerUp(M),c.onMouseUp()},v=M=>{M.key==="Tab"&&M.preventDefault(),t.viewModel.commandHandler.handleKeyDown(M)},w=M=>{t.viewModel.commandHandler.handleKeyUp(M)},N=M=>{["Control","Shift"].some(C=>t.viewModel.commandHandler.pressedKeys.includes(C))||L(),t.viewModel.displayedGraph.selectedNodes.push(M)},L=()=>{t.viewModel.displayedGraph.selectedNodes=[]},x=M=>{for(const C of t.viewModel.displayedGraph.selectedNodes){const A=i.value.indexOf(C),X=r.value[A];X.onPointerDown(M),document.addEventListener("pointermove",X.onPointerMove)}document.addEventListener("pointerup",V)},V=()=>{for(const M of t.viewModel.displayedGraph.selectedNodes){const C=i.value.indexOf(M),A=r.value[C];A.onPointerUp(),document.removeEventListener("pointermove",A.onPointerMove)}document.removeEventListener("pointerup",V)};return(M,C)=>(k(),F("div",{ref_key:"el",ref:o,tabindex:"-1",class:Oe(["baklava-editor",{"baklava-ignore-mouse":!!I(c).temporaryConnection.value||I(u).dragging.value,"--temporary-connection":!!I(c).temporaryConnection.value,"--start-selection-box":I(d).startSelection}]),onPointermove:Ke(_,["self"]),onPointerdown:b,onPointerup:E,onWheel:C[1]||(C[1]=Ke((...A)=>I(u).onMouseWheel&&I(u).onMouseWheel(...A),["self"])),onKeydown:v,onKeyup:w,onContextmenu:C[2]||(C[2]=(...A)=>I(f).open&&I(f).open(...A))},[We(M.$slots,"background",{},()=>[ee(Fm)]),We(M.$slots,"toolbar",{},()=>[M.viewModel.settings.toolbar.enabled?(k(),Me(J0,{key:0})):Ve("",!0)]),We(M.$slots,"palette",{},()=>[M.viewModel.settings.palette.enabled?(k(),Me(Bg,{key:0})):Ve("",!0)]),(k(),F("svg",Q0,[(k(!0),F(fe,null,Ze(l.value,A=>(k(),F("g",{key:A.id+m.value.toString()},[We(M.$slots,"connection",{connection:A},()=>[ee(Sg,{connection:A},null,8,["connection"])])]))),128)),We(M.$slots,"temporaryConnection",{temporaryConnection:I(c).temporaryConnection.value},()=>[I(c).temporaryConnection.value?(k(),Me(Ig,{key:0,connection:I(c).temporaryConnection.value},null,8,["connection"])):Ve("",!0)])])),S("div",{class:"node-container",style:ue(h.value)},[ee(jf,{name:"fade"},{default:Je(()=>[(k(!0),F(fe,null,Ze(i.value,(A,X)=>We(M.$slots,"node",{key:A.id+m.value.toString(),node:A,selected:a.value.includes(A),dragging:r.value[X].dragging.value,onSelect:P=>N(A),onStartDrag:x},()=>[ee(vg,{node:A,selected:a.value.includes(A),dragging:r.value[X].dragging.value,onSelect:P=>N(A),onStartDrag:x},null,8,["node","selected","dragging","onSelect"])])),128))]),_:3})],4),We(M.$slots,"sidebar",{},()=>[M.viewModel.settings.sidebar.enabled?(k(),Me(Ag,{key:0})):Ve("",!0)]),We(M.$slots,"minimap",{},()=>[M.viewModel.settings.enableMinimap?(k(),Me(Pg,{key:0})):Ve("",!0)]),We(M.$slots,"contextMenu",{contextMenu:I(f)},()=>[M.viewModel.settings.contextMenu.enabled?(k(),Me(_r,{key:0,modelValue:I(f).show.value,"onUpdate:modelValue":C[0]||(C[0]=A=>I(f).show.value=A),items:I(f).items.value,x:I(f).x.value,y:I(f).y.value,onClick:I(f).onClick},null,8,["modelValue","items","x","y","onClick"])):Ve("",!0)]),I(d).isSelecting?(k(),F("div",{key:0,class:"selection-box",style:ue(I(d).getStyles())},null,4)):Ve("",!0)],34))}});function e_(e){const t=H([]),n=H([]);return{pressedKeys:t,handleKeyDown:r=>{t.value.includes(r.key)||t.value.push(r.key),!(document.activeElement&&qc(document.activeElement))&&n.value.forEach(l=>{var a,u;l.keys.every(c=>t.value.includes(c))&&((a=l.options)!=null&&a.preventDefault&&r.preventDefault(),(u=l.options)!=null&&u.stopPropagation&&r.stopPropagation(),e(l.commandName))})},handleKeyUp:r=>{const l=t.value.indexOf(r.key);l>=0&&t.value.splice(l,1)},registerHotkey:(r,l,a)=>{n.value.push({keys:r,commandName:l,options:a})}}}const t_=()=>{const e=H(new Map),t=(i,r)=>{if(e.value.has(i))throw new Error(`Command "${i}" already exists`);e.value.set(i,r)},n=(i,r=!1,...l)=>{if(!e.value.has(i)){if(r)throw new Error(`[CommandHandler] Command ${i} not registered`);return}return e.value.get(i).execute(...l)},s=(i,r=!1,...l)=>{if(!e.value.has(i)){if(r)throw new Error(`[CommandHandler] Command ${i} not registered`);return!1}return e.value.get(i).canExecute(l)},o=e_(n);return Le({registerCommand:t,executeCommand:n,canExecuteCommand:s,...o})},n_=e=>!(e instanceof Fo);function s_(e,t){return{switchGraph:s=>{let o;if(n_(s))o=new Fo(e.value),s.createGraph(o);else{if(s!==e.value.graph)throw new Error("Can only switch using 'Graph' instance when it is the root graph. Otherwise a 'GraphTemplate' must be used.");o=s}t.value&&t.value!==e.value.graph&&t.value.destroy(),o.panning=o.panning??s.panning??{x:0,y:0},o.scaling=o.scaling??s.scaling??1,o.selectedNodes=o.selectedNodes??[],o.sidebar=o.sidebar??{visible:!1,nodeId:"",optionName:""},t.value=o}}}function o_(e,t){e.position=e.position??{x:0,y:0},e.disablePointerEvents=!1,e.twoColumn=e.twoColumn??!1,e.width=e.width??t.defaultWidth}const i_=()=>({useStraightConnections:!1,enableMinimap:!1,toolbar:{enabled:!0},palette:{enabled:!0},background:{gridSize:100,gridDivision:5,subGridVisibleThreshold:.6},sidebar:{enabled:!0,width:300,resizable:!0},displayValueOnHover:!1,nodes:{defaultWidth:200,maxWidth:320,minWidth:150,resizable:!1,reverseY:!1},contextMenu:{enabled:!0,additionalItems:[]}});function r_(e){const t=H(e??new Om),n=Symbol("ViewModelToken"),s=H(null),o=id(s),{switchGraph:i}=s_(t,s),r=W(()=>o.value&&o.value!==t.value.graph),l=Le(i_()),a=t_(),u=Sv(o,a),c=$v(o,t,a),f={renderNode:new _t(null),renderInterface:new _t(null)};return Iv(o,a,i),Av(o,a),Se(t,(d,h)=>{h&&(h.events.registerGraph.unsubscribe(n),h.graphEvents.beforeAddNode.unsubscribe(n),d.nodeHooks.beforeLoad.unsubscribe(n),d.nodeHooks.afterSave.unsubscribe(n),d.graphTemplateHooks.beforeLoad.unsubscribe(n),d.graphTemplateHooks.afterSave.unsubscribe(n),d.graph.hooks.load.unsubscribe(n),d.graph.hooks.save.unsubscribe(n)),d&&(d.nodeHooks.beforeLoad.subscribe(n,(m,_)=>(_.position=m.position??{x:0,y:0},_.width=m.width??l.nodes.defaultWidth,_.twoColumn=m.twoColumn??!1,m)),d.nodeHooks.afterSave.subscribe(n,(m,_)=>(m.position=_.position,m.width=_.width,m.twoColumn=_.twoColumn,m)),d.graphTemplateHooks.beforeLoad.subscribe(n,(m,_)=>(_.panning=m.panning,_.scaling=m.scaling,m)),d.graphTemplateHooks.afterSave.subscribe(n,(m,_)=>(m.panning=_.panning,m.scaling=_.scaling,m)),d.graph.hooks.load.subscribe(n,(m,_)=>(_.panning=m.panning,_.scaling=m.scaling,m)),d.graph.hooks.save.subscribe(n,(m,_)=>(m.panning=_.panning,m.scaling=_.scaling,m)),d.graphEvents.beforeAddNode.subscribe(n,m=>o_(m,{defaultWidth:l.nodes.defaultWidth})),t.value.registerNodeType(ru,{category:"Subgraphs"}),t.value.registerNodeType(lu,{category:"Subgraphs"}),i(d.graph))},{immediate:!0}),Le({editor:t,displayedGraph:o,isSubgraph:r,settings:l,commandHandler:a,history:u,clipboard:c,hooks:f,switchGraph:i})}const l_={class:"h-100dvh"},a_={class:"flex flex-wrap gap-2 p-1"},c_=["disabled"],u_=["onClick"],d_=["onClick"],f_={class:"flex flex-col gap-4"},h_={class:"flex gap-4"},p_={class:"p-4 text-xs"},m_={__name:"PageNode",setup(e){const t=$m({type:"MyNode",inputs:{number1:()=>new Yl("Number",1),number2:()=>new Yl("Number",10),operation:()=>new gv("Operation","Add",["Add","Subtract"]).setPort(!1)},outputs:{output:()=>new tt("Output",0)}}),n=r_();n.editor.registerNodeType(t);const s=to("baklava-presets",{}),o=H(),i=H();function r(a){a&&(s.value[a]=n.editor.save())}function l(a){n.editor.load(s.value[a])}return(a,u)=>(k(),F("div",l_,[S("div",a_,[Wn(S("input",{class:"bg-dark-400 p-2 w-30 rounded","onUpdate:modelValue":u[0]||(u[0]=c=>o.value=c)},null,512),[[Do,o.value]]),S("button",{class:Oe(["p-2",{"op-50":!o.value}]),disabled:!o.value,onClick:u[1]||(u[1]=c=>r(o.value))},"Save Preset",10,c_),(k(!0),F(fe,null,Ze(I(s),(c,f)=>(k(),F("button",{class:"p-2 flex items-center gap-2",onClick:d=>l(f),key:c},[Et(de(f),1),S("div",{class:"i-la-times",onClick:Ke(d=>delete I(s)[f],["prevent","stop"])},null,8,d_)],8,u_))),128))]),ee(I(Z0),{"view-model":I(n)},null,8,["view-model"]),S("div",f_,[S("div",h_,[S("button",{class:"p-4",onClick:u[2]||(u[2]=c=>i.value=I(n).editor.save())},"TO JSON"),S("button",{class:"p-4",onClick:u[3]||(u[3]=c=>i.value="")},"CLEAR")]),S("pre",p_,de(i.value),1)])]))}};function g_(){try{return"constructor"in GestureEvent}catch{return!1}}function uu(){return typeof window<"u"&&"ontouchstart"in window}function du(e){return"pointerId"in e?null:e.type==="touchend"?e.changedTouches:e.targetTouches}function wr(e){return Array.from(du(e)).map(t=>t.identifier)}function ft(e){const t="buttons"in e?e.buttons:0,{shiftKey:n,altKey:s,metaKey:o,ctrlKey:i}=e;return{buttons:t,shiftKey:n,altKey:s,metaKey:o,ctrlKey:i}}const Rs=e=>e;function In(e,t=Rs){const n=du(e),{clientX:s,clientY:o}=n?n[0]:e;return t([s,o])}function Zl(e,t,n=Rs){const[s,o]=Array.from(e.touches).filter(h=>t.includes(h.identifier));if(!s||!o)throw Error("The event doesn't have two pointers matching the pointerIds");const i=o.clientX-s.clientX,r=o.clientY-s.clientY,l=(o.clientX+s.clientX)/2,a=(o.clientY+s.clientY)/2,u=Math.hypot(i,r),c=-(Math.atan2(i,r)*180)/Math.PI,f=n([u,c]),d=n([l,a]);return{values:f,origin:d}}function v_(e,t=Rs){const{scrollX:n,scrollY:s,scrollLeft:o,scrollTop:i}=e.currentTarget;return t([n||o||0,s||i||0])}const ea=40,ta=800;function fu(e,t=Rs){let{deltaX:n,deltaY:s,deltaMode:o}=e;return o===1?(n*=ea,s*=ea):o===2&&(n*=ta,s*=ta),t([n,s])}function na(e,t=Rs){return t([e.scale,e.rotation])}function hu(){}function pu(...e){return e.length===0?hu:e.length===1?e[0]:function(){var t;for(let n of e)t=n.apply(this,arguments)||t;return t}}function on(e,t){if(e===void 0){if(t===void 0)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function sa(e,t){return Object.assign({},t,e||{})}function vo(e,...t){return typeof e=="function"?e(...t):e}function es(e){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:hu,canceled:!1,memo:void 0,args:void 0,...e}}function Li(){const e={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},t=es({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),n=es({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),s=es({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),o=es({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=es({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:e,drag:t,pinch:n,wheel:s,move:o,scroll:i}}var __=Object.defineProperty,y_=(e,t,n)=>t in e?__(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,et=(e,t,n)=>(y_(e,typeof t!="symbol"?t+"":t,n),n);class b_{constructor(t){this.classes=t,et(this,"nativeRefs"),et(this,"config"),et(this,"handlers"),et(this,"state"),et(this,"timeouts"),et(this,"domListeners"),et(this,"windowListeners"),et(this,"pointerIds",new Set),et(this,"touchIds",new Set),et(this,"supportsTouchEvents",uu()),et(this,"supportsGestureEvents",g_()),et(this,"bind",(...n)=>{const s={};for(let o of this.classes)new o(this,n).addBindings(s);for(let o in this.nativeRefs)xe(s,o,i=>this.nativeRefs[o]({...this.state.shared,event:i,args:n}));return this.config.domTarget?S_(this,s):E_(this,s)}),et(this,"clean",()=>{const{eventOptions:n,domTarget:s}=this.config,o=I(s);o&&Ds(o,vu(this.domListeners),n),Object.values(this.timeouts).forEach(clearTimeout),w_(this)}),et(this,"reset",()=>{this.state=Li()}),this.classes=t,this.state=Li(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function mu(e,t){"pointerId"in t?e.pointerIds.add(t.pointerId):e.touchIds=new Set(wr(t))}function gu(e,t){"pointerId"in t?e.pointerIds.delete(t.pointerId):wr(t).forEach(n=>e.touchIds.delete(n))}function w_(e){const{config:{window:t,eventOptions:n},windowListeners:s}=e,o=I(t);if(o){for(let i in s){const r=s[i];Ds(o,r,n)}e.windowListeners={}}}function C_({config:e,windowListeners:t},n,s=e.eventOptions){const o=I(e.window);o&&(Ds(o,t[n],s),delete t[n])}function x_({config:e,windowListeners:t},n,s=[],o=e.eventOptions){const i=I(e.window);i&&(Ds(i,t[n],o),_u(i,t[n]=s,o))}function S_({config:e,domListeners:t},n){const{eventOptions:s,domTarget:o}=e,i=I(o);if(!i)throw new Error("domTarget must be defined");Ds(i,vu(t),s);for(let[r,l]of Object.entries(n)){const a=r.slice(2).toLowerCase();t.push([a,pu(...l)])}_u(i,t,s)}function E_({config:e},t){const n={},s=e.eventOptions.capture?"Capture":"";for(let[o,i]of Object.entries(t)){const r=Array.isArray(i)?i:[i],l=o+s;n[l]=pu(...r)}return n}function vu(e=[]){return e.splice(0,e.length)}function xe(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function _u(e,t=[],n={}){if(e)for(let[s,o]of t)e.addEventListener(s,o,n)}function Ds(e,t=[],n={}){if(e)for(let[s,o]of t)e.removeEventListener(s,o,n)}function _o(e,t){return e.map((n,s)=>n+t[s])}function Cr(e,t){return e.map((n,s)=>n-t[s])}function Ms(e){return Math.hypot(...e)}function yu(e,t=e){const n=Ms(t),s=n===0?0:1/n,o=t.map(r=>s*r);return{distance:Ms(e),direction:o}}function bu(e,t,n){const s=Ms(t),o=s===0?0:1/s,i=n===0?0:1/n,r=i*s,l=t.map(c=>i*c),a=t.map(c=>o*c),u=Ms(e);return{velocities:l,velocity:r,distance:u,direction:a}}function yo(e){return Math.sign?Math.sign(e):+(e>0)-+(e<0)||+e}function T_(e,t,n){return Math.max(t,Math.min(e,n))}function I_(e,t){return Math.pow(e,t*5)}function oa(e,t,n){return t===0||Math.abs(t)===1/0?I_(e,n):e*t*n/(t+n*e)}function ia(e,t,n,s=.15){return s===0?T_(e,t,n):e<t?-oa(t-e,n-t,s)+t:e>n?+oa(e-n,n-t,s)+n:e}var M_=Object.defineProperty,$_=(e,t,n)=>t in e?M_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qs=(e,t,n)=>($_(e,typeof t!="symbol"?t+"":t,n),n);const ht=new Map,N_=e=>e;class wu{constructor(t,n=[]){this.controller=t,this.args=n,Qs(this,"debounced",!0),Qs(this,"setTimeout",(s,o=140,...i)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(s,o,...i)}),Qs(this,"clearTimeout",()=>{clearTimeout(this.controller.timeouts[this.stateKey])}),Qs(this,"fireGestureHandler",(s=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!s&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const a=this.state.active,u=this.state._active;this.state.active=u,this.state.first=u&&!a,this.state.last=a&&!u,this.controller.state.shared[this.ingKey]=u}const o=this.controller.pointerIds.size||this.controller.touchIds.size,i=this.controller.state.shared.buttons>0||o>0,r={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:o,down:i},l=this.handler(r);return this.state.memo=l!==void 0?l:this.state.memo,r}),this.controller=t,this.args=n}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||N_}updateSharedState(t){Object.assign(this.controller.state.shared,t)}updateGestureState(t){Object.assign(this.state,t)}checkIntentionality(t,n){return{_intentional:t,_blocked:!1}}getMovement(t){const{rubberband:n,threshold:s}=this.config,{_bounds:o,_initial:i,_active:r,_intentional:l,lastOffset:a,movement:u}=this.state,c=this.getInternalMovement(t,this.state),f=this.transform(s).map(Math.abs),d=l[0]===!1?ra(c[0],f[0]):l[0],h=l[1]===!1?ra(c[1],f[1]):l[1],m=this.checkIntentionality([d,h],c);if(m._blocked)return{...m,_movement:c,delta:[0,0]};const _=m._intentional,b=c;let E=[_[0]!==!1?c[0]-_[0]:0,_[1]!==!1?c[1]-_[1]:0];const v=_o(E,a),w=r?n:[0,0];return E=la(o,_o(E,i),w),{...m,intentional:_[0]!==!1||_[1]!==!1,_initial:i,_movement:b,movement:E,values:t,offset:la(o,v,w),delta:Cr(E,u)}}clean(){this.clearTimeout()}}function ra(e,t){return Math.abs(e)>=t?yo(e)*t:!1}function la(e,[t,n],[s,o]){const[[i,r],[l,a]]=e;return[ia(t,i,r,s),ia(n,l,a,o)]}function $e({state:e},t,n){const{timeStamp:s,type:o}=t,i=e.values,r=n?0:s-e.startTime;return{_lastEventType:o,event:t,timeStamp:s,elapsedTime:r,previous:i}}function vn({state:e,config:t,stateKey:n,args:s},o,i){const r=e.offset,l=i.timeStamp,{initial:a,bounds:u}=t,c={...Li()[n],_active:!0,args:s,values:o,initial:o,offset:r,lastOffset:r,startTime:l};return{...c,_initial:vo(a,c),_bounds:vo(u,c)}}class Vo extends wu{getInternalMovement(t,n){return Cr(t,n.initial)}checkIntentionality(t,n){if(t[0]===!1&&t[1]===!1)return{_intentional:t,axis:this.state.axis};const[s,o]=n.map(Math.abs),i=this.state.axis||(s>o?"x":s<o?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:t,_blocked:!1,axis:i}:i?this.config.axis&&i!==this.config.axis?{_intentional:t,_blocked:!0,axis:i}:(t[i==="x"?1:0]=!1,{_intentional:t,_blocked:!1,axis:i}):{_intentional:[!1,!1],_blocked:!1,axis:i}}getKinematics(t,n){const s=this.getMovement(t);if(!s._blocked){const o=n.timeStamp-this.state.timeStamp;Object.assign(s,bu(s.movement,s.delta,o))}return s}mapStateValues(t){return{xy:t.values,vxvy:t.velocities}}}var O_=Object.defineProperty,A_=(e,t,n)=>t in e?O_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ge=(e,t,n)=>(A_(e,typeof t!="symbol"?t+"":t,n),n);const P_=3;function aa(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}class k_ extends Vo{constructor(){super(...arguments),Ge(this,"ingKey","dragging"),Ge(this,"stateKey","drag"),Ge(this,"setPointerCapture",t=>{if(this.config.useTouch||document.pointerLockElement)return;const{target:n,pointerId:s}=t;n&&"setPointerCapture"in n&&n.setPointerCapture(s),this.updateGestureState({_dragTarget:n,_dragPointerId:s})}),Ge(this,"releasePointerCapture",()=>{if(this.config.useTouch||document.pointerLockElement)return;const{_dragTarget:t,_dragPointerId:n}=this.state;if(n&&t&&"releasePointerCapture"in t&&(!("hasPointerCapture"in t)||t.hasPointerCapture(n)))try{t.releasePointerCapture(n)}catch{}}),Ge(this,"preventScroll",t=>{this.state._dragPreventScroll&&t.cancelable&&t.preventDefault()}),Ge(this,"getEventId",t=>this.config.useTouch?t.changedTouches[0].identifier:t.pointerId),Ge(this,"isValidEvent",t=>this.state._pointerId===this.getEventId(t)),Ge(this,"shouldPreventWindowScrollY",this.config.preventWindowScrollY&&this.controller.supportsTouchEvents),Ge(this,"setUpWindowScrollDetection",t=>{aa(t),x_(this.controller,this.stateKey,[["touchmove",this.preventScroll],["touchend",this.clean.bind(this)],["touchcancel",this.clean.bind(this)]],{passive:!1}),this.setTimeout(this.startDrag.bind(this),250,t)}),Ge(this,"setUpDelayedDragTrigger",t=>{this.state._dragDelayed=!0,aa(t),this.setTimeout(this.startDrag.bind(this),this.config.delay,t)}),Ge(this,"setStartState",t=>{const n=In(t,this.transform);this.updateSharedState(ft(t)),this.updateGestureState({...vn(this,n,t),...$e(this,t,!0),_pointerId:this.getEventId(t)}),this.updateGestureState(this.getMovement(n))}),Ge(this,"onDragStart",t=>{mu(this.controller,t),!(!this.enabled||this.state._active)&&(this.setStartState(t),this.setPointerCapture(t),this.shouldPreventWindowScrollY?this.setUpWindowScrollDetection(t):this.config.delay>0?this.setUpDelayedDragTrigger(t):this.startDrag(t,!0))}),Ge(this,"onDragChange",t=>{if(this.state.canceled||!this.state._active||!this.isValidEvent(t)||this.state._lastEventType===t.type&&t.timeStamp===this.state.timeStamp)return;let n;if(document.pointerLockElement){const{movementX:a,movementY:u}=t;n=_o(this.transform([a,u]),this.state.values)}else n=In(t,this.transform);const s=this.getKinematics(n,t);if(!this.state._dragStarted){if(this.state._dragDelayed){this.startDrag(t);return}if(this.shouldPreventWindowScrollY)if(!this.state._dragPreventScroll&&s.axis)if(s.axis==="x")this.startDrag(t);else{this.state._active=!1;return}else return;else return}const o=ft(t);this.updateSharedState(o);const i=$e(this,t),r=Ms(s._movement);let{_dragIsTap:l}=this.state;l&&r>=P_&&(l=!1),this.updateGestureState({...i,...s,_dragIsTap:l}),this.fireGestureHandler()}),Ge(this,"onDragEnd",t=>{if(gu(this.controller,t),!this.isValidEvent(t)||(this.clean(),!this.state._active))return;this.state._active=!1;const n=this.state._dragIsTap,[s,o]=this.state.velocities,[i,r]=this.state.movement,[l,a]=this.state._intentional,[u,c]=this.config.swipeVelocity,[f,d]=this.config.swipeDistance,h=this.config.swipeDuration,m={...$e(this,t),...this.getMovement(this.state.values)},_=[0,0];m.elapsedTime<h&&(l!==!1&&Math.abs(s)>u&&Math.abs(i)>f&&(_[0]=yo(s)),a!==!1&&Math.abs(o)>c&&Math.abs(r)>d&&(_[1]=yo(o))),this.updateSharedState({buttons:0}),this.updateGestureState({...m,tap:n,swipe:_}),this.fireGestureHandler(this.config.filterTaps&&n===!0)}),Ge(this,"clean",()=>{super.clean(),this.state._dragStarted=!1,this.releasePointerCapture(),C_(this.controller,this.stateKey)}),Ge(this,"onCancel",()=>{this.state.canceled||(this.updateGestureState({canceled:!0,_active:!1}),this.updateSharedState({buttons:0}),kt(this.fireGestureHandler))}),Ge(this,"onClick",t=>{this.state._dragIsTap||t.stopPropagation()})}startDrag(t,n=!1){!this.state._active||this.state._dragStarted||(n||this.setStartState(t),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())}addBindings(t){if(this.config.useTouch?(xe(t,"onTouchStart",this.onDragStart),xe(t,"onTouchMove",this.onDragChange),xe(t,"onTouchEnd",this.onDragEnd),xe(t,"onTouchCancel",this.onDragEnd)):(xe(t,"onPointerDown",this.onDragStart),xe(t,"onPointerMove",this.onDragChange),xe(t,"onPointerUp",this.onDragEnd),xe(t,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){const n=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";xe(t,n,this.onClick)}}}function Ls(e={},t){const n={};for(const[s,o]of Object.entries(t))switch(typeof o){case"function":n[s]=o.call(n,e[s],s,e);break;case"object":n[s]=Ls(e[s],o);break;case"boolean":o&&(n[s]=e[s]);break}return n}const R_=180,D_=.15,L_=.5,G_=50,H_=250,Cu={threshold(e=0){return on(e)},rubberband(e=0){switch(e){case!0:return on(D_);case!1:return on(0);default:return on(e)}},enabled(e=!0){return e},triggerAllEvents(e=!1){return e},initial(e=0){return typeof e=="function"?e:on(e)},transform:!0},xr={...Cu,axis:!0,lockDirection(e=!1){return e},bounds(e={}){if(typeof e=="function")return i=>xr.bounds(e(i));const{left:t=-1/0,right:n=1/0,top:s=-1/0,bottom:o=1/0}=e;return[[t,n],[s,o]]}},F_=typeof window<"u"&&window.document&&window.document.createElement,B_={enabled(e=!0){return e},domTarget:!0,window(e=F_?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform:!0},V_={...Cu,bounds(e,t,{distanceBounds:n={},angleBounds:s={}}){const o=r=>{const l=sa(vo(n,r),{min:-1/0,max:1/0});return[l.min,l.max]},i=r=>{const l=sa(vo(s,r),{min:-1/0,max:1/0});return[l.min,l.max]};return typeof n!="function"&&typeof s!="function"?[o(),i()]:r=>[o(r),i(r)]}},U_={...xr,useTouch(e=!0){return e&&uu()},preventWindowScrollY(e=!1){return e},threshold(e,t,{filterTaps:n=!1,lockDirection:s=!1,axis:o=void 0}){const i=on(e,n?3:s||o?1:0);return this.filterTaps=n,i},swipeVelocity(e=L_){return on(e)},swipeDistance(e=G_){return on(e)},swipeDuration(e=H_){return e},delay(e=0){switch(e){case!0:return R_;case!1:return 0;default:return e}}};function j_(e){return Ls(e,B_)}function li(e={}){return Ls(e,xr)}function W_(e={}){return Ls(e,V_)}function z_(e={}){return Ls(e,U_)}function K_(e,t=new Set){const{drag:n,wheel:s,move:o,scroll:i,pinch:r,hover:l,eventOptions:a,window:u,transform:c,domTarget:f,enabled:d}=e,h=j_({domTarget:f,eventOptions:a,transform:c,window:u,enabled:d});return t.has("onDrag")&&(h.drag=z_(n)),t.has("onWheel")&&(h.wheel=li(s)),t.has("onScroll")&&(h.scroll=li(i)),t.has("onMove")&&(h.move=li(o)),t.has("onPinch")&&(h.pinch=W_(r)),t.has("onHover")&&(h.hover={enabled:!0,...l}),h}function q_(e,t,n={}){const s=Y_(e),o=new b_(s);return o.config=t,o.handlers=e,o.nativeRefs=n,Kn()&&!t.manual&&(zt(o.bind),tr(o.clean)),o}function Y_(e){const t=new Set;return e.drag&&t.add(ht.get("drag")),e.wheel&&t.add(ht.get("wheel")),e.scroll&&t.add(ht.get("scroll")),e.move&&t.add(ht.get("move")),e.pinch&&t.add(ht.get("pinch")),e.hover&&t.add(ht.get("hover")),t}var X_=Object.defineProperty,J_=(e,t,n)=>t in e?X_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$t=(e,t,n)=>(J_(e,typeof t!="symbol"?t+"":t,n),n);class ca extends Vo{constructor(){super(...arguments),$t(this,"ingKey","moving"),$t(this,"stateKey","move"),$t(this,"debounced",!0),$t(this,"onMove",t=>{this.enabled&&(this.setTimeout(this.onMoveEnd),this.state._active?this.onMoveChange(t):this.onMoveStart(t))}),$t(this,"onMoveStart",t=>{this.updateSharedState(ft(t));const n=In(t,this.transform);this.updateGestureState({...vn(this,n,t),...$e(this,t,!0)}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()}),$t(this,"onMoveChange",t=>{this.updateSharedState(ft(t));const n=In(t,this.transform);this.updateGestureState({...$e(this,t),...this.getKinematics(n,t)}),this.fireGestureHandler()}),$t(this,"onMoveEnd",()=>{if(this.clean(),!this.state._active)return;const t=this.state.values;this.updateGestureState(this.getMovement(t)),this.updateGestureState({velocities:[0,0],velocity:0,_active:!1}),this.fireGestureHandler()}),$t(this,"hoverTransform",()=>this.controller.config.hover.transform||this.controller.config.transform),$t(this,"onPointerEnter",t=>{if(this.controller.state.shared.hovering=!0,!!this.controller.config.enabled){if(this.controller.config.hover.enabled){const n=In(t,this.hoverTransform()),s={...this.controller.state.shared,...this.state,...$e(this,t,!0),args:this.args,values:n,active:!0,hovering:!0};this.controller.handlers.hover({...s,...this.mapStateValues(s)})}"move"in this.controller.handlers&&this.onMoveStart(t)}}),$t(this,"onPointerLeave",t=>{if(this.controller.state.shared.hovering=!1,"move"in this.controller.handlers&&this.onMoveEnd(),!this.controller.config.hover.enabled)return;const n=In(t,this.hoverTransform()),s={...this.controller.state.shared,...this.state,...$e(this,t),args:this.args,values:n,active:!1};this.controller.handlers.hover({...s,...this.mapStateValues(s)})})}addBindings(t){"move"in this.controller.handlers&&xe(t,"onPointerMove",this.onMove),"hover"in this.controller.handlers&&(xe(t,"onPointerEnter",this.onPointerEnter),xe(t,"onPointerLeave",this.onPointerLeave))}}class Q_ extends wu{getInternalMovement(t,n){const s=n.values[1];let[o,i=s]=t,r=i-s,l=n.turns;return Math.abs(r)>270&&(l+=yo(r)),Cr([o,i-360*l],n.initial)}getKinematics(t,n){const s=this.getMovement(t),o=(t[1]-s._movement[1]-this.state.initial[1])/360,i=n.timeStamp-this.state.timeStamp,{distance:r,velocity:l,...a}=bu(s.movement,s.delta,i);return{turns:o,...s,...a}}mapStateValues(t){return{da:t.values,vdva:t.velocities}}}var Z_=Object.defineProperty,ey=(e,t,n)=>t in e?Z_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ye=(e,t,n)=>(ey(e,typeof t!="symbol"?t+"":t,n),n);const ty=7,ny=260;class sy extends Q_{constructor(){super(...arguments),Ye(this,"ingKey","pinching"),Ye(this,"stateKey","pinch"),Ye(this,"onPinchStart",t=>{mu(this.controller,t);const n=this.controller.touchIds;if(!this.enabled||this.state._active&&this.state._pointerIds.every(r=>n.has(r))||n.size<2)return;const s=Array.from(n).slice(0,2),{values:o,origin:i}=Zl(t,s,this.transform);this.updateSharedState(ft(t)),this.updateGestureState({...vn(this,o,t),...$e(this,t,!0),_pointerIds:s,cancel:this.onCancel,origin:i}),this.updateGestureState(this.getMovement(o)),this.fireGestureHandler()}),Ye(this,"onPinchChange",t=>{const{canceled:n,_active:s}=this.state;if(n||!s||t.timeStamp===this.state.timeStamp)return;const o=ft(t);this.updateSharedState(o);try{const{values:i,origin:r}=Zl(t,this.state._pointerIds,this.transform),l=this.getKinematics(i,t);this.updateGestureState({...$e(this,t),...l,origin:r}),this.fireGestureHandler()}catch{this.onPinchEnd(t)}}),Ye(this,"onPinchEnd",t=>{gu(this.controller,t);const n=wr(t);this.state._pointerIds.every(s=>!n.includes(s))||(this.clean(),this.state._active&&(this.updateGestureState({...$e(this,t),...this.getMovement(this.state.values),_active:!1}),this.fireGestureHandler()))}),Ye(this,"onCancel",()=>{this.state.canceled||(this.updateGestureState({_active:!1,canceled:!0}),this.fireGestureHandler())}),Ye(this,"onGestureStart",t=>{if(!this.enabled)return;t.preventDefault();const n=na(t,this.transform);this.updateSharedState(ft(t)),this.updateGestureState({...vn(this,n,t),...$e(this,t,!0),origin:[t.clientX,t.clientY],cancel:this.onCancel}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()}),Ye(this,"onGestureChange",t=>{const{canceled:n,_active:s}=this.state;if(n||!s)return;t.preventDefault();const o=ft(t);this.updateSharedState(o);const i=na(t,this.transform);i[0]=(i[0]-this.state.event.scale)*ny+this.state.values[0];const r=this.getKinematics(i,t);this.updateGestureState({...$e(this,t),...r,origin:[t.clientX,t.clientY]}),this.fireGestureHandler()}),Ye(this,"onGestureEnd",t=>{this.clean(),this.state._active&&(this.updateGestureState({...$e(this,t),...this.getMovement(this.state.values),_active:!1,origin:[t.clientX,t.clientY]}),this.fireGestureHandler())}),Ye(this,"wheelShouldRun",t=>this.enabled&&t.ctrlKey),Ye(this,"getWheelValuesFromEvent",t=>{const[,n]=fu(t,this.transform),{values:[s,o]}=this.state;return{values:[s-n*ty,o!==void 0?o:0],origin:[t.clientX,t.clientY],delta:[0,n]}}),Ye(this,"onWheel",t=>{this.wheelShouldRun(t)&&(this.setTimeout(this.onWheelEnd),this.state._active?this.onWheelChange(t):this.onWheelStart(t))}),Ye(this,"onWheelStart",t=>{const{values:n,delta:s,origin:o}=this.getWheelValuesFromEvent(t);t.cancelable&&t.preventDefault(),this.updateSharedState(ft(t)),this.updateGestureState({...vn(this,n,t),...$e(this,t,!0),initial:this.state.values,offset:n,delta:s,origin:o}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()}),Ye(this,"onWheelChange",t=>{t.cancelable&&t.preventDefault(),this.updateSharedState(ft(t));const{values:n,origin:s,delta:o}=this.getWheelValuesFromEvent(t);this.updateGestureState({...$e(this,t),...this.getKinematics(n,t),origin:s,delta:o}),this.fireGestureHandler()}),Ye(this,"onWheelEnd",()=>{this.clean(),this.state._active&&(this.state._active=!1,this.updateGestureState(this.getMovement(this.state.values)),this.fireGestureHandler())})}addBindings(t){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(xe(t,"onGestureStart",this.onGestureStart),xe(t,"onGestureChange",this.onGestureChange),xe(t,"onGestureEnd",this.onGestureEnd)):(xe(t,"onTouchStart",this.onPinchStart),xe(t,"onTouchMove",this.onPinchChange),xe(t,"onTouchEnd",this.onPinchEnd),xe(t,"onTouchCancel",this.onPinchEnd),xe(t,"onWheel",this.onWheel))}}var oy=Object.defineProperty,iy=(e,t,n)=>t in e?oy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ts=(e,t,n)=>(iy(e,typeof t!="symbol"?t+"":t,n),n);class ry extends Vo{constructor(){super(...arguments),ts(this,"ingKey","scrolling"),ts(this,"stateKey","scroll"),ts(this,"debounced",!0),ts(this,"handleEvent",t=>{if(!this.enabled)return;this.clearTimeout(),this.setTimeout(this.onEnd);const n=v_(t,this.transform);if(this.updateSharedState(ft(t)),this.state._active)this.updateGestureState({...$e(this,t),...this.getKinematics(n,t)});else{this.updateGestureState({...vn(this,n,t),...$e(this,t,!0),initial:this.state.values});const s=this.getMovement(n),o=yu(s.delta);this.updateGestureState(s),this.updateGestureState(o)}this.fireGestureHandler()}),ts(this,"onEnd",()=>{this.clean(),this.state._active&&(this.updateGestureState({...this.getMovement(this.state.values),_active:!1,velocities:[0,0],velocity:0}),this.fireGestureHandler())})}addBindings(t){xe(t,"onScroll",this.handleEvent)}}var ly=Object.defineProperty,ay=(e,t,n)=>t in e?ly(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ns=(e,t,n)=>(ay(e,typeof t!="symbol"?t+"":t,n),n);class cy extends Vo{constructor(){super(...arguments),ns(this,"ingKey","wheeling"),ns(this,"stateKey","wheel"),ns(this,"debounced",!0),ns(this,"handleEvent",t=>{if(t.ctrlKey&&"pinch"in this.controller.handlers||!this.enabled)return;this.setTimeout(this.onEnd),this.updateSharedState(ft(t));const n=_o(fu(t,this.transform),this.state.values);if(this.state._active)this.updateGestureState({...$e(this,t),...this.getKinematics(n,t)});else{this.updateGestureState({...vn(this,n,t),...$e(this,t,!0),initial:this.state.values});const s=this.getMovement(n),o=yu(s.delta);this.updateGestureState(s),this.updateGestureState(o)}this.fireGestureHandler()}),ns(this,"onEnd",()=>{if(this.clean(),!this.state._active)return;const t=this.getMovement(this.state.values);this.updateGestureState(t),this.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),this.fireGestureHandler()})}addBindings(t){xe(t,"onWheel",this.handleEvent)}}const uy=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function dy(e){const t={},n={},s=new Set;for(let o in e)uy.test(o)?(s.add(RegExp.lastMatch),n[o]=e[o]):t[o]=e[o];return[n,t,s]}function Mn(e,t){const[n,s,o]=dy(e);ht.set("drag",k_),ht.set("hover",ca),ht.set("move",ca),ht.set("pinch",sy),ht.set("scroll",ry),ht.set("wheel",cy);const i=K_(t,o),r={};return o.has("onDrag")&&(r.drag=ss(n,"onDrag")),o.has("onWheel")&&(r.wheel=ss(n,"onWheel")),o.has("onScroll")&&(r.scroll=ss(n,"onScroll")),o.has("onMove")&&(r.move=ss(n,"onMove")),o.has("onPinch")&&(r.pinch=ss(n,"onPinch")),o.has("onHover")&&(r.hover=n.onHover),q_(r,i,s)}function ss(e,t){const n=t+"Start",s=t+"End";return i=>{let r;return i.first&&n in e&&e[n](i),t in e&&(r=e[t](i)),i.last&&s in e&&e[s](i),r}}const Uo=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},fy={class:"param z-20"},hy={__name:"ControlSlider",props:Za({min:{type:Number,default:0},max:{type:Number,default:100},units:{type:String,default:"%"},vertical:{type:Boolean,default:!1}},{modelValue:{local:!0,default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=bi(e,"modelValue"),n=e,s=H(),o=(i,r,l)=>Math.max(r,Math.min(l,i));return Mn({onDrag(i){i.event.preventDefault(),t.value=o(t.value+i.delta[n.vertical?1:0]/10,n.min,n.max)},onWheel(i){i.event.preventDefault(),t.value=o(t.value-i.velocities[n.vertical?1:0],n.min,n.max)}},{domTarget:s,eventOptions:{passive:!1}}),(i,r)=>(k(),F("div",{class:"control",ref_key:"domTarget",ref:s},[S("div",fy,[We(i.$slots,"default",{},()=>[Et("PARAM ")],!0)]),S("div",{class:"rect absolute bottom-0 left-0 w-full h-full bg-light-400 bg-opacity-50",style:ue({width:`${100*(t.value-e.min)/(e.max-e.min)}%`})},null,4),S("div",{class:"line",style:ue({left:`${100*(t.value-e.min)/(e.max-e.min)}%`})},[S("div",{class:"px-2",style:ue({marginLeft:`${(t.value-e.min)/(e.max-e.min)>.8?-60:0}px`})},de(t.value.toFixed(0))+de(e.units),5)],4)],512))}},io=Uo(hy,[["__scopeId","data-v-c1d595ea"]]),Sr=e=>(yd("data-v-65edc97b"),e=e(),bd(),e),py={class:"grid grid-cols-2 gap-4 w-full h-full"},my=Sr(()=>S("div",{class:"param"},"HUE",-1)),gy=Sr(()=>S("div",{class:"param"},"SAT",-1)),vy=Sr(()=>S("div",{class:"param"},"VAL",-1)),_y={__name:"ControlColors",setup(e){const{color:t,hsl:n,bytes:s}=Lo(),{config:o}=Ps();Se(s,c=>{o.leds.baseColor=c});const i=H(),r=H(),l=H();Mn({onDrag(c){c.event.preventDefault(),t.h+=c.delta[0]/2},onWheel(c){c.event.preventDefault(),t.h-=c.velocities[0]}},{domTarget:i,eventOptions:{passive:!1}}),Mn({onDrag(c){c.event.preventDefault(),t.s+=c.delta[0]/10},onWheel(c){c.event.preventDefault(),t.s-=c.velocities[0]}},{domTarget:r,eventOptions:{passive:!1}}),Mn({onDrag(c){c.event.preventDefault(),t.v+=c.delta[0]/10},onWheel(c){c.event.preventDefault(),t.v-=c.velocities[0]}},{domTarget:l,eventOptions:{passive:!1}});const a=W(()=>{let c="linear-gradient(to right";for(let f=0;f<=360;f+=1)c+=`, hsl(${f}, ${t.s}%, ${t.v}%)`;return c+=")",c}),u=H();return Mn({onDrag(c){c.event.preventDefault()}},{domTarget:u,eventOptions:{passive:!1}}),(c,f)=>(k(),F("section",{class:"h-full select-none",ref_key:"demo",ref:u},[S("div",py,[S("div",{class:"control col-span-2",ref_key:"controlH",ref:i,style:ue({background:a.value})},[my,S("div",{class:"line",style:ue({left:`${I(t).h/3.6}%`})},[S("div",{class:"px-2",style:ue({marginLeft:`${I(t).h>310?-50:0}px`})},de(I(t).h.toFixed(0))+"°",5)],4)],4),S("div",{class:"control",ref_key:"controlS",ref:r,style:ue({background:`linear-gradient(90deg, hsl(${I(t).h}deg,0%, ${I(t).v}%), hsl(${I(t).h}deg,50%, ${I(t).v/2}%))`})},[gy,S("div",{class:"line",style:ue({left:`${I(t).s}%`})},[S("div",{class:"px-2",style:ue({marginLeft:`${I(t).s>60?-50:0}px`})},de(I(t).s.toFixed(0))+"%",5)],4)],4),S("div",{class:"control",ref_key:"controlV",ref:l,style:ue({background:`linear-gradient(90deg, hsl(${I(t).h}deg,${I(t).s}%, 0%),hsl(${I(t).h}deg,${I(t).s}%, 50%))`})},[vy,S("div",{class:"line",style:ue({left:`${I(t).v}%`})},[S("div",{class:"px-2",style:ue({marginLeft:`${I(t).v>60?-50:0}px`})},de(I(t).v.toFixed(0))+"%",5)],4)],4),ee(io,{class:"col-span-2",modelValue:I(o).leds.brightness_max,"onUpdate:modelValue":f[0]||(f[0]=d=>I(o).leds.brightness_max=d)},{default:Je(()=>[Et("Max Brightness")]),_:1},8,["modelValue"])])],512))}},yy=Uo(_y,[["__scopeId","data-v-65edc97b"]]),by={class:"flex flex-wrap items-center gap-4 p-2"},wy=S("div",{class:"text-lg"},"Sound",-1),Cy={__name:"ControlSound",setup(e){const{config:t}=Ps();return(n,s)=>(k(),F("section",by,[wy,ee(io,{class:"flex-auto",modelValue:I(t).audio.lightOnVolumePCT,"onUpdate:modelValue":s[0]||(s[0]=o=>I(t).audio.lightOnVolumePCT=o)},{default:Je(()=>[Et("Light On Volume")]),_:1},8,["modelValue"]),ee(io,{class:"flex-auto",modelValue:I(t).audio.lightOffVolumePCT,"onUpdate:modelValue":s[1]||(s[1]=o=>I(t).audio.lightOffVolumePCT=o)},{default:Je(()=>[Et("Light Off Volume")]),_:1},8,["modelValue"]),ee(io,{class:"flex-auto",modelValue:I(t).audio.actionVolumePCT,"onUpdate:modelValue":s[2]||(s[2]=o=>I(t).audio.actionVolumePCT=o)},{default:Je(()=>[Et("Action Volume")]),_:1},8,["modelValue"])]))}},xy={class:"param z-20"},Sy={__name:"ControlPad",props:Za({minX:{type:Number,default:0},maxX:{type:Number,default:100},minY:{type:Number,default:0},maxY:{type:Number,default:100},unitsX:{type:String,default:"Hz"},unitsY:{type:String,default:"%"}},{x:{local:!0,default:0},xModifiers:{},y:{local:!0,default:0},yModifiers:{}}),emits:["update:x","update:y"],setup(e){const t=bi(e,"x"),n=bi(e,"y"),s=e,o=H(),i=(r,l,a)=>Math.max(l,Math.min(a,r));return Mn({onDrag(r){r.event.preventDefault(),t.value=i(t.value+r.delta[0]/10,s.minX,s.maxX),n.value=i(n.value-r.delta[1]/10,s.minY,s.maxY)},onWheel(r){r.event.preventDefault(),t.value=i(t.value-r.velocities[0],s.minX,s.maxX),n.value=i(n.value+r.velocities[1],s.minY,s.maxY)}},{domTarget:o,eventOptions:{passive:!1}}),(r,l)=>(k(),F("div",{class:"control",ref_key:"domTarget",ref:o},[S("div",xy,[We(r.$slots,"default",{},()=>[Et("PARAM ")],!0)]),S("div",{class:"rect absolute bottom-0 left-0 w-full h-full bg-light-200 bg-opacity-24",style:ue({width:`${100*(t.value-e.minX)/(e.maxX-e.minX)}%`})},null,4),S("div",{class:"rect absolute bottom-0 left-0 w-full h-full bg-light-200 bg-opacity-24",style:ue({height:`${100*(n.value-e.minY)/(e.maxY-e.minY)}%`})},null,4),S("div",{class:"line",style:ue({left:`${100*(t.value-e.minX)/(e.maxX-e.minX)}%`,backgroundColor:e.unitsX=="Hz"?I(Ch)(t.value):"#eee8"})},[S("div",{class:"px-2",style:ue({marginLeft:`${(t.value-e.minX)/(e.maxX-e.minX)>.8?-60:0}px`})},de(t.value.toFixed(0))+de(e.unitsX),5)],4),S("div",{class:"mix-blend-difference absolute left-0 right-0 h-1 bg-white pl-2px",style:ue({bottom:`${100*(n.value-e.minY)/(e.maxY-e.minY)}%`})},[S("div",{class:"px-2 right-2 absolute top-1",style:ue({top:`${(n.value-e.minY)/(e.maxY-e.minY)<.3?-20:0}px`})},de(n.value.toFixed(0))+de(e.unitsY),5)],4)],512))}},Ey=Uo(Sy,[["__scopeId","data-v-23c2c051"]]),Ty={class:"flex flex-wrap gap-4"},Iy={__name:"ControlHum",setup(e){const{config:t}=Ps();function n(){t.hum.humSynthesizer=t.hum.humSynthesizer?0:1,console.log(t.hum.humSynthesizer)}return(s,o)=>(k(),F("section",Ty,[S("button",{class:"flex-1",onPointerdown:n},de(I(t).hum.humSynthesizer?"Synth":"Sample")+" Hum",33),(k(),F(fe,null,Ze(5,i=>ee(Ey,{class:"min-w-30 min-h-16 transition",style:ue([{opacity:I(t).hum.humSynthesizer?1:.5},{flex:"1 1 auto"}]),key:i,x:I(t).hum[`hum${i}Freq`],"onUpdate:x":r=>I(t).hum[`hum${i}Freq`]=r,minX:50,maxX:500,y:I(t).hum[`hum${i}VolumePCT`],"onUpdate:y":r=>I(t).hum[`hum${i}VolumePCT`]=r},{default:Je(()=>[Et("HUM"+de(i),1)]),_:2},1032,["style","x","onUpdate:x","y","onUpdate:y"])),64))]))}},My={class:"flex flex-auto pt-8"},$y={class:"grid sm-grid-cols-2 xl-grid-cols-3 2xl-grid-cols-4 gap-8 mx-2 flex-1 p-4 bg-dark-200 rounded-lg",ref:"demo"},Ny={class:"flex flex-wrap gap-2 w-full"},Oy=["onPointerdown"],Ay={__name:"PageMain",setup(e){const{config:t,inConfig:n,outConfig:s}=Ps(),{color:o,hsl:i}=Lo(),{state:r,toggleLightState:l,calibrateIMU:a}=ks();return(u,c)=>(k(),F("article",My,[S("aside",{class:"flex-0 w-4 ml-4 mr-2 sm-mx-6 transition-transform duration-700 origin-center-bottom rounded-lg border-5",style:ue({transform:`scaleY(${I(r).lightState?1:0})`,background:`hsla(0deg,0%,100%,${I(o).v/50})`,borderColor:I(i),boxShadow:`0px 0px 40px 10px ${I(i)}`})},null,4),S("div",$y,[S("div",Ny,[(k(),F(fe,null,Ze(4,(f,d)=>S("button",{class:Oe(["p-2 flex-1 w-full",{active:d==I(t).sabreMode.mode}]),key:d,onPointerdown:h=>I(t).sabreMode.mode=d},de(I(Sh)(I(Sc),d).slice(5)),43,Oy)),64))]),ee(yy,{class:"flex-1 min-w-70"}),ee(Cy),ee(Iy)],512)]))}},Py={class:"flex flex-col p-0 text-xs bg-dark-100 overflow-scroll opacity-60 max-h-120"},ky={class:"flex flex-col bg-dark-700 font-mono text-xs gap-2 p-4 sticky top-0"},Ry={class:"bg-dark-900 p-2"},Dy={__name:"ControlConfig",setup(e){const{config:t,inConfig:n,outConfig:s,readConfig:o,configReady:i}=Ps(),{configCharacteristic:r,isConnected:l}=ar();async function a(){let u=o();await r.value?.writeValue(u),n.value=new Uint8Array((await r.value.readValue()).buffer)}return Se(()=>r.value,async()=>{a()}),Se(l,u=>{u.valueOf()==!0?(console.log("Device connected!"),n.value=a()):console.log("Device disconnected!")}),ph(s,async u=>{if(!n.value||i.valueOf()==!1)return;let c=await r.value.writeValueWithResponse(u.buffer);c&&console.log(c),console.log("config sent")},{throttle:200}),(u,c)=>(k(),F("section",Py,[S("div",ky,[S("button",{class:"flex-1",onClick:c[0]||(c[0]=f=>a())},"Receive Config"),S("p",null,"IN "+de(I(n)?.join(" ")),1),S("p",null,"OUT "+de(I(s)?.join(" ")),1)]),S("pre",Ry,de(I(t))+" ",1)]))}},Ly={__name:"SabreBlade",setup(e){const{state:t}=ks(),{color:n,hsl:s}=Lo();return(o,i)=>(k(),F("div",{class:"flex-0 h-60 mx-0 transition-transform duration-700 origin-center-bottom rounded-lg m-0 border-5",style:ue({transform:`scaleY(${I(t).lightState?1:0})`,background:`hsla(0deg,0%,100%,${I(n).v/50})`,borderColor:I(s),boxShadow:`0px 0px 40px 10px ${I(s)}`})},null,4))}},Gy={class:"flex flex-col gap-2 items-center w-full"},Hy={class:"flex flex-wrap relative font-mono text-xs"},Fy={class:"p-1 text-center w-20",style:{flex:"0 1 80px"}},By={class:"p-0"},Vy={__name:"ControlState",setup(e){const{state:t,inState:n,outState:s,timestamp:o}=ks(),{stateCharacteristic:i}=ar();hh(i,()=>{i.value.addEventListener("characteristicvaluechanged",l=>{n.value=new Uint8Array(l.target.value.buffer)}),i.value.startNotifications(),Se(s,l=>{i.value.writeValue(l)})});const r=W(()=>({roll:t.rollCentiDeg/100,pitch:t.pitchCentiDeg/100,yaw:t.yawCentiDeg/100}));return(l,a)=>(k(),F("section",Gy,[S("div",Hy,[(k(!0),F(fe,null,Ze(r.value,(u,c)=>(k(),F("div",Fy,[Et(de(c)+" ",1),S("div",By,de(u.toFixed())+"°",1)]))),256)),S("div",{class:"p-8 absolute right-20 -top-30 pointer-events-none",style:ue({transform:`rotateX(${r.value.roll}deg) rotateY(${r.value.pitch}deg) rotateZ(${r.value.yaw}deg)`})},[ee(Ly)],4)])]))}},Uy=Uo(Vy,[["__scopeId","data-v-0ce29503"]]),jy={class:"grid p-8 sm-grid-cols-2 md-grid-cols-3 gap-8"},Wy=S("div",{class:"i-carbon-calibrate"},null,-1),zy=S("div",{class:"p-0"},"Calibrate IMU",-1),Ky=[Wy,zy],qy={__name:"PageDebug",setup(e){const{state:t,toggleLightState:n,calibrateIMU:s}=ks();return(o,i)=>(k(),F("article",jy,[ee(Uy,{class:"flex-0"}),S("button",{class:"opacity-50 hover-opacity-100 flex gap-4 items-center",onClick:i[0]||(i[0]=r=>I(s)()),title:"Calibrate IMU"},Ky),ee(Dy)]))}},Yy=[{path:"/",component:Ay},{path:"/nodes/",component:m_},{path:"/debug/",component:qy}],Xy=sm({history:kp(),routes:Yy}),xu=th(wm);xu.use(Xy);xu.mount("#app");
</script>
  <style rel="stylesheet" crossorigin>a.router-link-active{opacity:1!important}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:var(--un-default-border-color, #e5e7eb)}:before,:after{--un-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgb(0 0 0 / 0);--un-ring-shadow:0 0 rgb(0 0 0 / 0);--un-shadow-inset: ;--un-shadow:0 0 rgb(0 0 0 / 0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgb(147 197 253 / .5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }::backdrop{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 rgb(0 0 0 / 0);--un-ring-shadow:0 0 rgb(0 0 0 / 0);--un-shadow-inset: ;--un-shadow:0 0 rgb(0 0 0 / 0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgb(147 197 253 / .5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }.i-carbon-calibrate{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 32 32' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M28.83 21.17L25 17.37l.67-.67a1 1 0 0 0 0-1.41l-6-6a1 1 0 0 0-1.41 0l-.79.79l-6.76-6.79a1 1 0 0 0-1.41 0l-4 4l-.12.15l-4 6a1 1 0 0 0 .12 1.26l3 3a1 1 0 0 0 1.42 0L10 13.41l2.09 2.09l-4.8 4.79a1 1 0 0 0 0 1.41l2 2a1 1 0 0 0 .71.3a1 1 0 0 0 .52-.15l4.33-2.6l2.44 2.45a1 1 0 0 0 1.41 0l.67-.7l3.79 3.83a4 4 0 0 0 5.66-5.66ZM10 10.58l-5 5l-1.71-1.71l3.49-5.24L10 5.41l6.09 6.09l-2.59 2.58Zm8 11l-2.84-2.84l-5 3l-.74-.74L19 11.41L23.59 16Zm9.42 3.83a2 2 0 0 1-2.83 0l-3.8-3.79l2.83-2.83l3.8 3.79a2 2 0 0 1 0 2.83'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-fa6-solid-jedi{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 576 512' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='m246 315.7l-21.2-31.9c-2.1-3.2-1.7-7.4 1-10.1s6.9-3.1 10.1-1l29.5 19.7c2.1 1.4 4.9 0 5-2.6L279.7 8c.1-4.5 3.8-8 8.3-8s8.1 3.5 8.3 8l9.4 281.9c.1 2.5 2.9 3.9 5 2.6l29.5-19.7c3.2-2.1 7.4-1.7 10.1 1s3.1 6.9 1 10.1L330 315.7c-1.3 1.9-.2 4.5 2 4.9l37.6 7.5c3.7.7 6.4 4 6.4 7.8s-2.7 7.1-6.4 7.8l-37.6 7.7c-2.2.4-3.3 3-2 4.9l21.2 31.9c2.1 3.2 1.7 7.4-1 10.1s-6.9 3.1-10.1 1l-26.3-17.6c-2.2-1.4-5.1.2-5 2.8l2.1 61.5C370.6 435.2 416 382.9 416 320c0-37-15.7-70.4-40.8-93.7c-7-6.5-6.5-18.6 1-24.4C410.1 175.5 432 134.3 432 88c0-16.8-2.9-33-8.2-48c-4.6-13 10.2-30 21.4-22c53.5 38 92.7 94.8 107.8 160.7c.5 2.1-.2 4.3-1.7 5.9L522.9 213c-4 4-1.2 10.9 4.5 10.9h26c3.4 0 6.2 2.6 6.3 6c.1 3.3.2 6.6.2 10c0 17.5-1.7 34.7-4.8 51.3c-.2 1.2-.9 2.4-1.7 3.3L506.9 341c-4 4-1.2 10.9 4.5 10.9H526c4.6 0 7.7 4.8 5.7 9C487.2 450.5 394.8 512 288 512S88.8 450.5 44.3 361c-2.1-4.2 1-9 5.7-9h14.5c5.7 0 8.6-6.9 4.5-10.9l-46.4-46.5c-.9-.9-1.5-2-1.7-3.3c-3.2-16.6-4.9-33.8-4.9-51.3c0-3.3.1-6.7.2-10c.1-3.4 2.9-6 6.3-6h26c5.7 0 8.6-6.9 4.5-10.9l-28.4-28.5c-1.5-1.5-2.2-3.8-1.7-5.9C38.1 112.8 77.3 56 130.8 18c11.3-8 26 8.9 21.4 22c-5.3 15-8.2 31.2-8.2 48c0 46.3 21.9 87.5 55.8 113.9c7.5 5.8 8 17.9 1 24.4C175.7 249.6 160 283 160 320c0 62.9 45.4 115.2 105.1 126l2.1-61.5c.1-2.6-2.8-4.2-5-2.8l-26.3 17.6c-3.2 2.1-7.4 1.7-10.1-1s-3.1-6.9-1-10.1l21.2-31.9c1.3-1.9.2-4.5-2-4.9l-37.6-7.5c-3.7-.7-6.4-4-6.4-7.8s2.7-7.1 6.4-7.8l37.6-7.5c2.2-.4 3.3-3 2-4.9z'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-la-home{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 32 32' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='m16 2.594l-.719.687l-13 13L3.72 17.72L5 16.437V28h9V18h4v10h9V16.437l1.281 1.282l1.438-1.438l-13-13zm0 2.844l9 9V26h-5V16h-8v10H7V14.437z'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-la-times{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 32 32' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M7.219 5.781L5.78 7.22L14.563 16L5.78 24.781l1.44 1.439L16 17.437l8.781 8.782l1.438-1.438L17.437 16l8.782-8.781L24.78 5.78L16 14.563z'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-ph-bluetooth{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 256 256' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M188.8 169.6L133.33 128l55.47-41.6a8 8 0 0 0 0-12.8l-64-48A8 8 0 0 0 112 32v80L60.8 73.6a8 8 0 0 0-9.6 12.8l55.47 41.6l-55.47 41.6a8 8 0 1 0 9.6 12.8L112 144v80a8 8 0 0 0 12.8 6.4l64-48a8 8 0 0 0 0-12.8M128 48l42.67 32L128 112Zm0 160v-64l42.67 32Z'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-ph-bluetooth-slash{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 256 256' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='m213.92 210.62l-160-176a8 8 0 1 0-11.84 10.76l70.84 77.93L51.2 169.6a8 8 0 1 0 9.6 12.8L112 144v80a8 8 0 0 0 12.8 6.4l50.83-38.12l26.45 29.1a8 8 0 1 0 11.84-10.76M128 208v-64l11.73 8.8l25.08 27.59ZM112 71.63V32a8 8 0 0 1 12.8-6.4l64 48a8 8 0 0 1 0 12.8l-33.53 25.15a8 8 0 0 1-9.6-12.8l25-18.75L128 48v23.63a8 8 0 0 1-16 0'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.i-ph-graph{--un-icon:url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 256 256' vertical-align='middle' width='1.2em' height='1.2em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M200 152a31.84 31.84 0 0 0-19.53 6.68l-23.11-18A31.65 31.65 0 0 0 160 128c0-.74 0-1.48-.08-2.21l13.23-4.41A32 32 0 1 0 168 104c0 .74 0 1.48.08 2.21l-13.23 4.41A32 32 0 0 0 128 96a32.59 32.59 0 0 0-5.27.44L115.89 81A32 32 0 1 0 96 88a32.59 32.59 0 0 0 5.27-.44l6.84 15.4a31.92 31.92 0 0 0-8.57 39.64l-25.71 22.84a32.06 32.06 0 1 0 10.63 12l25.71-22.84a31.91 31.91 0 0 0 37.36-1.24l23.11 18A31.65 31.65 0 0 0 168 184a32 32 0 1 0 32-32m0-64a16 16 0 1 1-16 16a16 16 0 0 1 16-16M80 56a16 16 0 1 1 16 16a16 16 0 0 1-16-16M56 208a16 16 0 1 1 16-16a16 16 0 0 1-16 16m56-80a16 16 0 1 1 16 16a16 16 0 0 1-16-16m88 72a16 16 0 1 1 16-16a16 16 0 0 1-16 16'/%3E%3C/svg%3E");-webkit-mask:var(--un-icon) no-repeat;mask:var(--un-icon) no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:currentColor;color:inherit;vertical-align:middle;width:1.2em;height:1.2em}.pointer-events-none{pointer-events:none}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.-top-30{top:-7.5rem}.bottom-0{bottom:0}.left-0{left:0}.right-0{right:0}.right-2{right:.5rem}.right-20{right:5rem}.top-0{top:0}.top-1{top:.25rem}.z-100{z-index:100}.z-20{z-index:20}.grid{display:grid}.col-span-2{grid-column:span 2/span 2}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.m-0{margin:0}.mx-0{margin-left:0;margin-right:0}.mx-2{margin-left:.5rem;margin-right:.5rem}.ml-4{margin-left:1rem}.mr-2{margin-right:.5rem}.h-1{height:.25rem}.h-100dvh{height:100dvh}.h-60{height:15rem}.h-full{height:100%}.max-h-120{max-height:30rem}.min-h-100svh{min-height:100svh}.min-h-16{min-height:4rem}.min-w-30{min-width:7.5rem}.min-w-70{min-width:17.5rem}.w-1{width:.25rem}.w-20{width:5rem}.w-30{width:7.5rem}.w-4{width:1rem}.w-full{width:100%}.flex{display:flex}.flex-1{flex:1 1 0%}.flex-auto{flex:1 1 auto}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.origin-center-bottom{transform-origin:center bottom}.scale-150{--un-scale-x:1.5;--un-scale-y:1.5;transform:translate(var(--un-translate-x)) translateY(var(--un-translate-y)) translateZ(var(--un-translate-z)) rotate(var(--un-rotate)) rotateX(var(--un-rotate-x)) rotateY(var(--un-rotate-y)) rotate(var(--un-rotate-z)) skew(var(--un-skew-x)) skewY(var(--un-skew-y)) scaleX(var(--un-scale-x)) scaleY(var(--un-scale-y)) scaleZ(var(--un-scale-z))}.transform{transform:translate(var(--un-translate-x)) translateY(var(--un-translate-y)) translateZ(var(--un-translate-z)) rotate(var(--un-rotate)) rotateX(var(--un-rotate-x)) rotateY(var(--un-rotate-y)) rotate(var(--un-rotate-z)) skew(var(--un-skew-x)) skewY(var(--un-skew-y)) scaleX(var(--un-scale-x)) scaleY(var(--un-scale-y)) scaleZ(var(--un-scale-z))}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}.cursor-pointer{cursor:pointer}.cursor-grab{cursor:grab}.active-cursor-grabbing:active{cursor:grabbing}.select-none{-webkit-user-select:none;user-select:none}.items-end{align-items:flex-end}.items-center{align-items:center}.gap-0{gap:0}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.overflow-hidden{overflow:hidden}.overflow-scroll{overflow:scroll}.border-1{border-width:1px}.border-5{border-width:5px}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-xl{border-radius:.75rem}.bg-dark-100{--un-bg-opacity:1;background-color:rgb(60 60 60 / var(--un-bg-opacity))}.bg-dark-200{--un-bg-opacity:1;background-color:rgb(50 50 50 / var(--un-bg-opacity))}.bg-dark-400{--un-bg-opacity:1;background-color:rgb(34 34 34 / var(--un-bg-opacity))}.bg-dark-700{--un-bg-opacity:1;background-color:rgb(27 27 27 / var(--un-bg-opacity))}.bg-dark-900{--un-bg-opacity:1;background-color:rgb(15 15 15 / var(--un-bg-opacity))}.bg-gray{--un-bg-opacity:1;background-color:rgb(156 163 175 / var(--un-bg-opacity))}.bg-light-200{--un-bg-opacity:1;background-color:rgb(250 250 250 / var(--un-bg-opacity))}.bg-light-400{--un-bg-opacity:1;background-color:rgb(246 246 246 / var(--un-bg-opacity))}.bg-white{--un-bg-opacity:1;background-color:rgb(255 255 255 / var(--un-bg-opacity))}.hover-bg-dark-100:hover{--un-bg-opacity:1;background-color:rgb(60 60 60 / var(--un-bg-opacity))}.active-bg-dark-500:active{--un-bg-opacity:1;background-color:rgb(31 31 31 / var(--un-bg-opacity))}.bg-opacity-24{--un-bg-opacity:.24}.bg-opacity-40{--un-bg-opacity:.4}.bg-opacity-50{--un-bg-opacity:.5}.p-0{padding:0}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.p-8{padding:2rem}.px{padding-left:1rem;padding-right:1rem}.px-2{padding-left:.5rem;padding-right:.5rem}.pl-2px{padding-left:2px}.pt-2px{padding-top:2px}.pt-5{padding-top:1.25rem}.pt-8{padding-top:2rem}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.text-light-300{--un-text-opacity:1;color:rgb(248 249 250 / var(--un-text-opacity))}.text-white{--un-text-opacity:1;color:rgb(255 255 255 / var(--un-text-opacity))}.font-bold{font-weight:700}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.\!opacity-100{opacity:1!important}.op-40{opacity:.4}.op-50,.opacity-50{opacity:.5}.op-70{opacity:.7}.opacity-60{opacity:.6}.opacity-80{opacity:.8}.hover-opacity-100:hover{opacity:1}.mix-blend-difference{mix-blend-mode:difference}.shadow-sm{--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.hover-shadow-lg:hover{--un-shadow:var(--un-shadow-inset) 0 10px 15px -3px var(--un-shadow-color, rgb(0 0 0 / .1)),var(--un-shadow-inset) 0 4px 6px -4px var(--un-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.active-shadow-sm:active{--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.backdrop-blur-lg{--un-backdrop-blur:blur(16px);-webkit-backdrop-filter:var(--un-backdrop-blur) var(--un-backdrop-brightness) var(--un-backdrop-contrast) var(--un-backdrop-grayscale) var(--un-backdrop-hue-rotate) var(--un-backdrop-invert) var(--un-backdrop-opacity) var(--un-backdrop-saturate) var(--un-backdrop-sepia);backdrop-filter:var(--un-backdrop-blur) var(--un-backdrop-brightness) var(--un-backdrop-contrast) var(--un-backdrop-grayscale) var(--un-backdrop-hue-rotate) var(--un-backdrop-invert) var(--un-backdrop-opacity) var(--un-backdrop-saturate) var(--un-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-700{transition-duration:.7s}@media (min-width: 640px){.sm-grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm-mx-6{margin-left:1.5rem;margin-right:1.5rem}.sm-text-3xl{font-size:1.875rem;line-height:2.25rem}}@media (min-width: 768px){.md-grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 1280px){.xl-grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 1536px){.\32xl-grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}:root{--baklava-control-color-primary: #e28b46;--baklava-control-color-error: #d00000;--baklava-control-color-background: #2c3748;--baklava-control-color-foreground: white;--baklava-control-color-hover: #455670;--baklava-control-color-active: #556986;--baklava-control-color-disabled-foreground: #666c75;--baklava-control-border-radius: 3px;--baklava-sidebar-color-background: #1b202c;--baklava-sidebar-color-foreground: white;--baklava-node-color-background: #1b202c;--baklava-node-color-foreground: white;--baklava-node-color-hover: #e28c4677;--baklava-node-color-selected: var(--baklava-control-color-primary);--baklava-node-color-resize-handle: var(--baklava-control-color-background);--baklava-node-title-color-background: #151a24;--baklava-node-title-color-foreground: white;--baklava-group-node-title-color-background: #215636;--baklava-group-node-title-color-foreground: white;--baklava-node-interface-port-tooltip-color-foreground: var(--baklava-control-color-primary);--baklava-node-interface-port-tooltip-color-background: var(--baklava-editor-background-pattern-black);--baklava-node-border-radius: 6px;--baklava-color-connection-default: #737f96;--baklava-color-connection-allowed: #48bc79;--baklava-color-connection-forbidden: #bc4848;--baklava-editor-background-pattern-default: #202b3c;--baklava-editor-background-pattern-line: #263140;--baklava-editor-background-pattern-black: #263140;--baklava-context-menu-background: #1b202c;--baklava-context-menu-shadow: 0 0 8px rgba(0, 0, 0, .65);--baklava-toolbar-background: #1b202caa;--baklava-toolbar-foreground: white;--baklava-node-palette-background: #1b202caa;--baklava-node-palette-foreground: white;--baklava-selectionbox-color-border: var(--baklava-node-color-background);--baklava-selectionbox-color-background: var(--baklava-node-color-hover);--baklava-visual-transition: .1s linear}.baklava-button{background-color:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);transition:background-color var(--baklava-visual-transition);border:none;padding:.45em .35em;border-radius:var(--baklava-control-border-radius);font-size:inherit;cursor:pointer;overflow-x:hidden}.baklava-button:hover{background-color:var(--baklava-control-color-hover)}.baklava-button:active{background-color:var(--baklava-control-color-primary)}.baklava-button.--block{width:100%}.baklava-checkbox{display:flex;padding:.35em 0;cursor:pointer;overflow-x:hidden;align-items:center}.baklava-checkbox .__checkmark-container{display:flex;background-color:var(--baklava-control-color-background);border-radius:var(--baklava-control-border-radius);transition:background-color var(--baklava-visual-transition);width:18px;height:18px}.baklava-checkbox:hover .__checkmark-container{background-color:var(--baklava-control-color-hover)}.baklava-checkbox:active .__checkmark-container{background-color:var(--baklava-control-color-active)}.baklava-checkbox .__checkmark{stroke-dasharray:15;stroke-dashoffset:15;stroke:var(--baklava-control-color-foreground);stroke-width:2px;fill:none;transition:stroke-dashoffset var(--baklava-visual-transition)}.baklava-checkbox.--checked .__checkmark{stroke-dashoffset:0}.baklava-checkbox.--checked .__checkmark-container{background-color:var(--baklava-control-color-primary)}.baklava-checkbox .__label{margin-left:.5rem}.baklava-context-menu{color:var(--baklava-control-color-foreground);position:absolute;display:inline-block;z-index:100;background-color:var(--baklava-context-menu-background);box-shadow:var(--baklava-context-menu-shadow);border-radius:0 0 var(--baklava-control-border-radius) var(--baklava-control-border-radius);min-width:6rem;width:max-content}.baklava-context-menu>.item{display:flex;align-items:center;padding:.35em 1em;transition:background .05s linear;position:relative}.baklava-context-menu>.item>.__label{flex:1 1 auto}.baklava-context-menu>.item>.__submenu-icon{margin-left:.75rem}.baklava-context-menu>.item.--disabled{color:var(--baklava-control-color-hover)}.baklava-context-menu>.item:not(.--header):not(.--active):not(.--disabled):hover{background:var(--baklava-control-color-primary)}.baklava-context-menu>.item.--active{background:var(--baklava-control-color-primary)}.baklava-context-menu.--nested{left:100%;top:0}.baklava-context-menu.--flipped-x.--nested{left:unset;right:100%}.baklava-context-menu.--flipped-y.--nested{top:unset;bottom:0}.baklava-context-menu>.divider{margin:.35em 0;height:1px;background-color:var(--baklava-control-color-hover)}.baklava-icon{display:block;height:100%}.baklava-icon.--clickable{cursor:pointer;transition:color var(--baklava-visual-transition)}.baklava-icon.--clickable:hover{color:var(--baklava-control-color-primary)}.baklava-input{background-color:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);caret-color:var(--baklava-control-color-primary);border:none;border-radius:var(--baklava-control-border-radius);padding:.45em .75em;width:100%;transition:background-color var(--baklava-visual-transition);font-size:inherit;font:inherit}.baklava-input:hover{background-color:var(--baklava-control-color-hover)}.baklava-input:active{background-color:var(--baklava-control-color-active)}.baklava-input:focus-visible{outline:1px solid var(--baklava-control-color-primary)}.baklava-input[type=number]::-webkit-inner-spin-button,.baklava-input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.baklava-input.--invalid{box-shadow:0 0 2px 2px var(--baklava-control-color-error)}.baklava-num-input{background:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);border-radius:var(--baklava-control-border-radius);width:100%;display:grid;grid-template-columns:20px 1fr 20px}.baklava-num-input>.__button{display:flex;flex:0 0 auto;width:20px;justify-content:center;align-items:center;transition:background var(--baklava-visual-transition);cursor:pointer}.baklava-num-input>.__button:hover{background-color:var(--baklava-control-color-hover)}.baklava-num-input>.__button:active{background-color:var(--baklava-control-color-active)}.baklava-num-input>.__button.--dec{grid-area:1/1/span 1/span 1}.baklava-num-input>.__button.--dec>svg{transform:rotate(90deg)}.baklava-num-input>.__button.--inc{grid-area:1/3/span 1/span 1}.baklava-num-input>.__button.--inc>svg{transform:rotate(-90deg)}.baklava-num-input>.__button path{stroke:var(--baklava-control-color-foreground);fill:var(--baklava-control-color-foreground)}.baklava-num-input>.__content{grid-area:1/2/span 1/span 1;display:inline-flex;cursor:pointer;max-width:100%;min-width:0;align-items:center;transition:background-color var(--baklava-visual-transition)}.baklava-num-input>.__content:hover{background-color:var(--baklava-control-color-hover)}.baklava-num-input>.__content:active{background-color:var(--baklava-control-color-active)}.baklava-num-input>.__content>.__label,.baklava-num-input>.__content>.__value{margin:.35em 0;padding:0 .5em}.baklava-num-input>.__content>.__label{flex:1;min-width:0;overflow:hidden}.baklava-num-input>.__content>.__value{text-align:right}.baklava-num-input>.__content>input{background-color:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);caret-color:var(--baklava-control-color-primary);padding:.35em;width:100%}.baklava-select{width:100%;position:relative;color:var(--baklava-control-color-foreground)}.baklava-select.--open>.__selected{border-bottom-left-radius:0;border-bottom-right-radius:0}.baklava-select.--open>.__selected>.__icon{transform:rotate(180deg)}.baklava-select>.__selected{background-color:var(--baklava-control-color-background);padding:.35em .75em;border-radius:var(--baklava-control-border-radius);transition:background var(--baklava-visual-transition);min-height:1.7em;display:flex;align-items:center;cursor:pointer}.baklava-select>.__selected:hover{background:var(--baklava-control-color-hover)}.baklava-select>.__selected:active{background:var(--baklava-control-color-active)}.baklava-select>.__selected>.__text{flex:1 0 auto;flex-basis:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.baklava-select>.__selected>.__icon{flex:0 0 auto;display:flex;justify-content:center;align-items:center;transition:transform .25s ease;width:18px;height:18px}.baklava-select>.__selected>.__icon path{stroke:var(--baklava-control-color-foreground);fill:var(--baklava-control-color-foreground)}.baklava-select>.__dropdown{position:absolute;top:100%;left:0;right:0;z-index:10;background-color:var(--baklava-context-menu-background);filter:drop-shadow(0 0 4px black);border-radius:0 0 var(--baklava-control-border-radius) var(--baklava-control-border-radius);max-height:15em;overflow-y:scroll}.baklava-select>.__dropdown::-webkit-scrollbar{width:0px;background:transparent}.baklava-select>.__dropdown>.item{padding:.35em .35em .35em 1em;transition:background .05s linear}.baklava-select>.__dropdown>.item:not(.--header):not(.--active){cursor:pointer}.baklava-select>.__dropdown>.item:not(.--header):not(.--active):hover{background:var(--baklava-control-color-hover)}.baklava-select>.__dropdown>.item.--active{background:var(--baklava-control-color-primary)}.baklava-select>.__dropdown>.item.--header{color:var(--baklava-control-color-disabled-foreground);border-bottom:1px solid var(--baklava-control-color-disabled-foreground);padding:.5em .35em .5em 1em}.baklava-slider{background:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);border-radius:var(--baklava-control-border-radius);position:relative;cursor:pointer}.baklava-slider>.__content{display:flex;position:relative}.baklava-slider>.__content>.__label,.baklava-slider>.__content>.__value{flex:1 1 auto;margin:.35em 0;padding:0 .5em;text-overflow:ellipsis}.baklava-slider>.__content>.__value{text-align:right}.baklava-slider>.__content>input{background-color:var(--baklava-control-color-background);color:var(--baklava-control-color-foreground);caret-color:var(--baklava-control-color-primary);padding:.35em;width:100%}.baklava-slider>.__slider{position:absolute;top:0;bottom:0;left:0;background-color:var(--baklava-control-color-primary);border-radius:var(--baklava-control-border-radius)}.baklava-connection{stroke:var(--baklava-color-connection-default);stroke-width:2px;fill:none}.baklava-connection.--temporary{stroke-width:4px;stroke-dasharray:5 5;stroke-dashoffset:0;animation:dash 1s linear infinite;transform:translateY(-1px)}@keyframes dash{to{stroke-dashoffset:20}}.baklava-connection.--allowed{stroke:var(--baklava-color-connection-allowed)}.baklava-connection.--forbidden{stroke:var(--baklava-color-connection-forbidden)}.baklava-minimap{position:absolute;height:15%;width:15%;min-width:150px;max-width:90%;top:20px;right:20px;z-index:900}.baklava-editor{width:100%;height:100%;position:relative;overflow:hidden;outline:none!important;font-family:Lato,Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:15px;touch-action:none}.baklava-editor .background{background-color:var(--baklava-editor-background-pattern-default);background-image:linear-gradient(var(--baklava-editor-background-pattern-black) 2px,transparent 2px),linear-gradient(90deg,var(--baklava-editor-background-pattern-black) 2px,transparent 2px),linear-gradient(var(--baklava-editor-background-pattern-line) 1px,transparent 1px),linear-gradient(90deg,var(--baklava-editor-background-pattern-line) 1px,transparent 1px);background-repeat:repeat;width:100%;height:100%;pointer-events:none!important}.baklava-editor .selection-box{position:absolute;border:1px solid var(--baklava-selectionbox-color-border);background-color:var(--baklava-selectionbox-color-background);pointer-events:none;opacity:.5}.baklava-editor.--start-selection-box{cursor:crosshair}.baklava-editor *:not(input):not(textarea){user-select:none;-moz-user-select:none;-webkit-user-select:none;touch-action:none}.baklava-editor .input-user-select{user-select:auto;-moz-user-select:auto;-webkit-user-select:auto}.baklava-editor *,.baklava-editor *:after,.baklava-editor *:before{box-sizing:border-box}.baklava-editor.--temporary-connection{cursor:crosshair}.baklava-editor .connections-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none!important}.baklava-editor .node-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.baklava-editor .node-container *{pointer-events:all}.baklava-ignore-mouse *{pointer-events:none!important}.baklava-ignore-mouse .__port{pointer-events:all!important}.baklava-node-interface{padding:.25em 0;position:relative}.baklava-node-interface .__port{position:absolute;width:10px;height:10px;background:white;border-radius:50%;top:calc(50% - 5px);cursor:crosshair}.baklava-node-interface .__port.--selected{outline:2px var(--baklava-color-connection-default) solid;outline-offset:4px}.baklava-node-interface.--input{text-align:left;padding-left:.5em}.baklava-node-interface.--input .__port{left:-1.1em}.baklava-node-interface.--output{text-align:right;padding-right:.5em}.baklava-node-interface.--output .__port{right:-1.1em}.baklava-node-interface .__tooltip{position:absolute;left:5px;top:15px;transform:translate(-50%);background:var(--baklava-node-interface-port-tooltip-color-background);color:var(--baklava-node-interface-port-tooltip-color-foreground);padding:.25em .5em;text-align:center;z-index:2}.baklava-node-palette{position:absolute;left:0;top:60px;width:250px;height:calc(100% - 60px);z-index:3;padding:2rem;overflow-y:auto;background:var(--baklava-node-palette-background);color:var(--baklava-node-palette-foreground)}.baklava-node-palette h1{margin-top:2rem}.baklava-node.--palette{position:unset;margin:1rem 0;cursor:grab}.baklava-node.--palette:first-child{margin-top:0}.baklava-node.--palette .__title{padding:.5rem;border-radius:var(--baklava-node-border-radius)}.baklava-dragged-node{position:absolute;width:calc(250px - 4rem);height:40px;z-index:4;pointer-events:none}.baklava-node{background:var(--baklava-node-color-background);color:var(--baklava-node-color-foreground);border:1px solid transparent;border-radius:var(--baklava-node-border-radius);position:absolute;box-shadow:0 0 4px #000c;transition:border-color var(--baklava-visual-transition),box-shadow var(--baklava-visual-transition);width:var(--width)}.baklava-node:hover{border-color:var(--baklava-node-color-hover)}.baklava-node:hover .__resize-handle:after{opacity:1}.baklava-node.--selected{z-index:5;border-color:var(--baklava-node-color-selected)}.baklava-node.--dragging{box-shadow:0 0 12px #000c}.baklava-node.--dragging>.__title{cursor:grabbing}.baklava-node>.__title{display:flex;background:var(--baklava-node-title-color-background);color:var(--baklava-node-title-color-foreground);padding:.4em .75em;border-radius:var(--baklava-node-border-radius) var(--baklava-node-border-radius) 0 0;cursor:grab}.baklava-node>.__title>*:first-child{flex-grow:1}.baklava-node>.__title>.__title-label{pointer-events:none}.baklava-node>.__title>.__menu{position:relative;cursor:initial}.baklava-node[data-node-type^=__baklava_]>.__title{background:var(--baklava-group-node-title-color-background);color:var(--baklava-group-node-title-color-foreground)}.baklava-node>.__content{padding:.75em}.baklava-node>.__content.--reverse-y{display:flex;flex-direction:column-reverse}.baklava-node>.__content>div>div{margin:.5em 0}.baklava-node.--two-column>.__content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto auto;grid-template-areas:". ." ". ."}.baklava-node.--two-column>.__content>.__inputs{grid-row:1;grid-column:1}.baklava-node.--two-column>.__content>.__outputs{grid-row:1;grid-column:2}.baklava-node .__resize-handle{position:absolute;right:0;bottom:0;width:1rem;height:1rem;transform:translate(50%);cursor:ew-resize}.baklava-node .__resize-handle:after{content:"";position:absolute;bottom:0;left:-.5rem;width:1rem;height:1rem;opacity:0;border-bottom-right-radius:var(--baklava-node-border-radius);transition:opacity var(--baklava-visual-transition);background:linear-gradient(-45deg,transparent 10%,var(--baklava-node-color-resize-handle) 10%,var(--baklava-node-color-resize-handle) 15%,transparent 15%,transparent 30%,var(--baklava-node-color-resize-handle) 30%,var(--baklava-node-color-resize-handle) 35%,transparent 35%,transparent 50%,var(--baklava-node-color-resize-handle) 50%,var(--baklava-node-color-resize-handle) 55%,transparent 55%)}.baklava-sidebar{position:absolute;height:100%;width:25%;min-width:300px;max-width:90%;top:0;right:0;z-index:1000;background-color:var(--baklava-sidebar-color-background);color:var(--baklava-sidebar-color-foreground);box-shadow:none;overflow-x:hidden;padding:1em;transform:translate(100%);transition:transform .5s;display:flex;flex-direction:column}.baklava-sidebar.--open{transform:translate(0);box-shadow:0 0 15px #000}.baklava-sidebar .__resizer{position:absolute;left:0;top:0;height:100%;width:4px;cursor:col-resize}.baklava-sidebar .__header{display:flex;align-items:center}.baklava-sidebar .__header .__node-name{margin-left:.5rem}.baklava-sidebar .__close{font-size:2em;border:none;background:none;color:inherit;cursor:pointer}.baklava-sidebar .__interface{margin:.5em 0}.baklava-toolbar{position:absolute;left:0;top:0;width:100%;height:60px;z-index:3;padding:.5rem 2rem;background:var(--baklava-toolbar-background);color:var(--baklava-toolbar-foreground);display:flex;align-items:center}.baklava-toolbar-entry{margin-left:.5rem;margin-right:.5rem}.baklava-toolbar-button{color:var(--baklava-toolbar-foreground);background:none;border:none;transition:color var(--baklava-visual-transition)}.baklava-toolbar-button:not([disabled]){cursor:pointer}.baklava-toolbar-button:hover:not([disabled]){color:var(--baklava-control-color-primary)}.baklava-toolbar-button[disabled]{color:var(--baklava-control-color-disabled-foreground)}.slide-fade-enter-active,.slide-fade-leave-active{transition:all .1s ease-out}.slide-fade-enter-from,.slide-fade-leave-to{transform:translateY(5px);opacity:0}.fade-enter-active,.fade-leave-active{transition:opacity .1s ease-out!important}.fade-enter-from,.fade-leave-to{opacity:0}.control[data-v-c1d595ea]{position:relative;display:flex;cursor:grab;align-items:flex-end;overflow:hidden;border-radius:.25rem;--un-bg-opacity:1;background-color:rgb(156 163 175 / var(--un-bg-opacity));padding:.25rem;.param[data-v-c1d595ea]{padding:0;padding-top:1.25rem;font-weight:700;mix-blend-mode:difference}.line[data-v-c1d595ea]{position:absolute;top:0;bottom:0;width:.25rem;--un-bg-opacity:1;background-color:rgb(255 255 255 / var(--un-bg-opacity));padding-top:2px;mix-blend-mode:difference}}.control[data-v-c1d595ea]:active{cursor:grabbing}.control[data-v-65edc97b]{position:relative;display:flex;cursor:grab;align-items:flex-end;border-radius:.25rem;--un-bg-opacity:1;background-color:rgb(156 163 175 / var(--un-bg-opacity));.param[data-v-65edc97b]{padding:.25rem;font-weight:700;mix-blend-mode:difference}.line[data-v-65edc97b]{position:absolute;top:0;bottom:0;width:.25rem;--un-bg-opacity:1;background-color:rgb(255 255 255 / var(--un-bg-opacity));mix-blend-mode:difference}}.control[data-v-65edc97b]:active{cursor:grabbing}.control[data-v-23c2c051]{position:relative;display:flex;cursor:grab;align-items:flex-end;overflow:hidden;border-radius:.75rem;--un-bg-opacity:1;background-color:rgb(156 163 175 / var(--un-bg-opacity));padding:.25rem;.param[data-v-23c2c051]{padding:0;padding-top:1.25rem;font-weight:700;mix-blend-mode:difference}.line[data-v-23c2c051]{position:absolute;top:0;bottom:0;width:.25rem;--un-bg-opacity:1;background-color:rgb(255 255 255 / var(--un-bg-opacity));padding-top:2px}}.control[data-v-23c2c051]:active{cursor:grabbing}button{border-width:1px;border-radius:.5rem;--un-bg-opacity:1;background-color:rgb(50 50 50 / var(--un-bg-opacity));padding:1rem;--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow);transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;&.active{--un-bg-opacity:1;background-color:rgb(15 15 15 / var(--un-bg-opacity));font-weight:700}}button:hover{--un-bg-opacity:1;background-color:rgb(60 60 60 / var(--un-bg-opacity));--un-shadow:var(--un-shadow-inset) 0 10px 15px -3px var(--un-shadow-color, rgb(0 0 0 / .1)),var(--un-shadow-inset) 0 4px 6px -4px var(--un-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}button:active{--un-bg-opacity:1;background-color:rgb(31 31 31 / var(--un-bg-opacity));--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}button[data-v-0ce29503]{border-width:1px;border-radius:.5rem;--un-bg-opacity:1;background-color:rgb(50 50 50 / var(--un-bg-opacity));padding:.5rem;--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow);transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}button[data-v-0ce29503]:hover{--un-bg-opacity:1;background-color:rgb(60 60 60 / var(--un-bg-opacity));--un-shadow:var(--un-shadow-inset) 0 10px 15px -3px var(--un-shadow-color, rgb(0 0 0 / .1)),var(--un-shadow-inset) 0 4px 6px -4px var(--un-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}button[data-v-0ce29503]:active{--un-bg-opacity:1;background-color:rgb(31 31 31 / var(--un-bg-opacity));--un-shadow:var(--un-shadow-inset) 0 1px 2px 0 var(--un-shadow-color, rgb(0 0 0 / .05));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}
</style>
</head>

<body style="background-color: black">
	<div id="app"></div>
</body>

</html>